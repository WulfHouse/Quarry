# ATOM Decomposition
# Started: December 23, 2025
# Purpose: Decompose divisible LEAFs into ATOMs (smaller, indivisible work units)
# Format: Each ATOM is appended at the bottom (NO DELETIONS)
# 
# Decomposition Criteria:
# 1. ATOMs are the smallest indivisible work units (sub-PR sized)
# 2. ATOMs decompose LEAFs that span multiple compiler phases
# 3. ATOMs decompose LEAFs with multiple independent sub-features
# 4. ATOMs decompose LEAFs that are too complex for a single PR
# 5. Each ATOM must have clear DoD, testable criteria, and dependencies
# 6. ATOMs maintain traceability to their parent LEAF

================================================================================
ATOM Decomposition: SPEC-LANG-0850 (TCP and HTTP Client/Server)
================================================================================

**Parent LEAF:** SPEC-LANG-0850: TCP and HTTP Client/Server
**Source:** REQ-291, SSOT Section 9.6
**Decomposition Rationale:** This LEAF combines 4 distinct features (TCP client, TCP server, HTTP client, HTTP server) that can be implemented independently. Each feature is substantial enough to warrant separate ATOMs.

**ATOM-0850-001: TCP Client Basic Implementation**
- **Parent:** SPEC-LANG-0850
- **Source:** REQ-291, SSOT Section 9.6
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Implement `TcpStream` type for TCP client connections
  - Support connection establishment with configurable timeout (default: 30 seconds)
  - Support read/write operations with buffering
  - Handle connection timeouts (ERR-NET-001)
  - Handle network errors with retry logic (exponential backoff, 3 retries, ERR-NET-002)
  - Handle partial reads/writes automatically (ERR-NET-003)
- **Semantics:** TCP client basic provides synchronous TCP connection to remote hosts. Connections are established, data is read/written, and connections are closed.
- **Edge Cases:** Connection timeouts, network errors, partial reads/writes
- **Failure Modes:** ERR-NET-001 (connection timeout), ERR-NET-002 (network error), ERR-NET-003 (partial read/write)
- **Dependencies:** None (low-level TCP implementation)
- **Tests Required:** Test connection establishment, test timeouts, test network errors (retries), test partial reads/writes

**ATOM-0850-008: TCP Client TLS/SSL Support**
- **Parent:** SPEC-LANG-0850
- **Source:** REQ-291, SSOT Section 9.6
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Implement TLS/SSL support for TCP client via `TcpStream::connect_tls()`
  - Support TLS 1.2+ protocol versions
  - Support certificate validation (verify server certificates)
  - Handle TLS handshake protocol
  - Support encrypted read/write operations
  - Handle certificate validation failures (ERR-SEC-001)
  - Support custom certificate stores (optional)
- **Semantics:** TLS/SSL support adds encryption and certificate validation to TCP client connections, enabling secure communication.
- **Edge Cases:** TLS certificate validation failures, TLS handshake failures, expired certificates, self-signed certificates
- **Failure Modes:** ERR-SEC-001 (certificate validation failure), ERR-SEC-003 (TLS handshake failure)
- **Dependencies:** ATOM-0850-001 (TCP Client Basic) for underlying TCP connection
- **Tests Required:** Test TLS/SSL connections, test certificate validation, test TLS handshake, test encrypted read/write, test certificate validation failures

**ATOM-0850-002: TCP Server Basic Implementation**
- **Parent:** SPEC-LANG-0850
- **Source:** REQ-291, SSOT Section 9.6
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Implement `TcpListener` type for TCP server listening
  - Support binding to addresses (IPv4, IPv6)
  - Support accepting incoming connections
  - Handle connection errors gracefully
  - Support concurrent connection handling
- **Semantics:** TCP server basic listens on a port, accepts incoming connections, and provides `TcpStream` for each connection.
- **Edge Cases:** Binding failures, connection accept errors, concurrent connection limits
- **Failure Modes:** ERR-NET-004 (binding failure), ERR-NET-005 (accept error)
- **Dependencies:** ATOM-0850-001 (TCP Client Basic) for connection handling
- **Tests Required:** Test server binding, test connection acceptance, test concurrent connections, test error handling

**ATOM-0850-009: TCP Server TLS/SSL Support**
- **Parent:** SPEC-LANG-0850
- **Source:** REQ-291, SSOT Section 9.6
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Implement TLS/SSL support for TCP server via `TcpListener::bind_tls()`
  - Support TLS 1.2+ protocol versions
  - Support server certificate loading (required for TLS server)
  - Support private key loading
  - Handle TLS handshake protocol for incoming connections
  - Support encrypted read/write operations
  - Handle certificate loading failures (ERR-SEC-002)
- **Semantics:** TLS/SSL support adds encryption to TCP server connections, enabling secure communication with clients.
**Edge Cases:** TLS certificate loading failures, TLS handshake failures, invalid certificates, missing private keys
- **Failure Modes:** ERR-SEC-002 (TLS certificate loading failure), ERR-SEC-003 (TLS handshake failure)
- **Dependencies:** ATOM-0850-002 (TCP Server Basic) for underlying TCP server
- **Tests Required:** Test TLS/SSL server, test certificate loading, test TLS handshake, test encrypted connections, test certificate loading failures

**ATOM-0850-003: HTTP Client Request Construction**
- **Parent:** SPEC-LANG-0850
- **Source:** REQ-291, SSOT Section 9.6
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Implement `HttpClient` type for HTTP client requests
  - Support HTTP methods: GET, POST, PUT, DELETE
  - Support request/response headers (get/set via `headers` API)
  - Support request body (String, bytes, JSON via SPEC-LANG-0840)
- **Semantics:** HTTP client request construction builds HTTP requests with methods, headers, and body for sending to servers.
- **Edge Cases:** Invalid HTTP methods, malformed headers, invalid body formats
- **Failure Modes:** None (request construction, errors handled by response)
- **Dependencies:** ATOM-0850-001 (TCP Client Basic), SPEC-LANG-0840 (Serialization) for JSON support
- **Tests Required:** Test all HTTP methods, test headers, test body handling

**ATOM-0850-011: HTTP Client Response Parsing**
- **Parent:** SPEC-LANG-0850
- **Source:** REQ-291, SSOT Section 9.6
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Parse HTTP response line and headers
  - Support response body parsing (String, bytes, JSON)
  - Handle malformed responses
- **Semantics:** HTTP client response parsing extracts headers and body from HTTP responses.
- **Edge Cases:** Malformed responses, parsing errors, invalid body formats
- **Failure Modes:** None (parsing, errors handled by status handling)
- **Dependencies:** ATOM-0850-003 (HTTP Client Request Construction), SPEC-LANG-0840 (Serialization) for JSON support
- **Tests Required:** Test response parsing, test response body parsing, test response headers, test parsing errors

**ATOM-0850-015: HTTP Client Status Code Handling**
- **Parent:** SPEC-LANG-0850
- **Source:** REQ-291, SSOT Section 9.6
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Handle HTTP status codes (1xx-5xx, ERR-HTTP-001 for 4xx/5xx)
  - Validate status code ranges
  - Provide status code classification (informational, success, redirect, client error, server error)
- **Semantics:** HTTP client status code handling validates and processes HTTP status codes, raising errors for client/server errors.
- **Edge Cases:** Invalid status codes, out-of-range status codes
- **Failure Modes:** ERR-HTTP-001 (HTTP error 4xx/5xx)
- **Dependencies:** ATOM-0850-011 (HTTP Client Response Parsing)
- **Tests Required:** Test status codes (all ranges), test status code classification, test error handling (4xx/5xx)

**ATOM-0850-012: HTTP Client Redirect Handling**
- **Parent:** SPEC-LANG-0850
- **Source:** REQ-291, SSOT Section 9.6
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Support automatic redirect following (max 5 redirects, ERR-HTTP-002 for redirect loop)
  - Handle redirect status codes (3xx)
  - Track redirect chain to detect loops
- **Semantics:** HTTP client redirect handling automatically follows HTTP redirects while preventing redirect loops.
- **Edge Cases:** Redirect loops, max redirect limit, invalid redirect responses
- **Failure Modes:** ERR-HTTP-002 (redirect loop)
- **Dependencies:** ATOM-0850-003 (HTTP Client Request Construction), ATOM-0850-011 (HTTP Client Response Parsing), ATOM-0850-015 (HTTP Client Status Code Handling)
- **Tests Required:** Test redirect following, test redirect loops, test max redirect limit, test invalid redirect responses

**ATOM-0850-005: HTTP Client Connection Pooling**
- **Parent:** SPEC-LANG-0850
- **Source:** REQ-291, SSOT Section 9.6
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Implement connection pooling for HTTP client
  - Support connection reuse (max 10 connections per host)
  - Support connection lifecycle management (create, reuse, close)
  - Handle connection pool exhaustion (ERR-NET-006)
  - Support per-host connection limits
  - Handle stale connection detection and cleanup
- **Semantics:** Connection pooling reuses TCP connections across multiple HTTP requests, significantly improving performance by avoiding connection establishment overhead.
- **Edge Cases:** Connection pool exhaustion, stale connections, concurrent connection requests
- **Failure Modes:** ERR-NET-006 (connection pool exhausted)
- **Dependencies:** ATOM-0850-001 (TCP Client Basic), ATOM-0850-003 (HTTP Client Request Construction), ATOM-0850-011 (HTTP Client Response Parsing), ATOM-0850-015 (HTTP Client Status Code Handling)
- **Tests Required:** Test connection reuse, test pool exhaustion, test per-host limits, test stale connection cleanup, test concurrent requests

**ATOM-0850-006: HTTP Client Authentication**
- **Parent:** SPEC-LANG-0850
- **Source:** REQ-291, SSOT Section 9.6
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Implement authentication support for HTTP client
  - Support Basic authentication (`Authorization: Basic <token>`)
  - Support Bearer token authentication (`Authorization: Bearer <token>`)
  - Handle authentication failures (ERR-HTTP-006 for 401 Unauthorized)
  - Support automatic authentication header injection
  - Support per-request authentication override
- **Semantics:** Authentication adds security credentials to HTTP requests, enabling access to protected resources.
- **Edge Cases:** Invalid credentials, expired tokens, authentication failures
- **Failure Modes:** ERR-HTTP-006 (authentication failure, 401 Unauthorized)
- **Dependencies:** ATOM-0850-003 (HTTP Client Request Construction), ATOM-0850-011 (HTTP Client Response Parsing), ATOM-0850-015 (HTTP Client Status Code Handling)
- **Tests Required:** Test Basic auth, test Bearer tokens, test authentication failures, test header injection, test per-request override

**ATOM-0850-004: HTTP Server Request Parsing**
- **Parent:** SPEC-LANG-0850
- **Source:** REQ-291, SSOT Section 9.6
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Parse HTTP request line and headers
  - Parse query parameters from request URI
  - Handle malformed requests (ERR-HTTP-004)
  - Parse request body
- **Semantics:** HTTP server request parsing extracts method, URI, headers, query parameters, and body from HTTP requests.
- **Edge Cases:** Malformed requests, very large headers, invalid query parameters
- **Failure Modes:** ERR-HTTP-004 (malformed request)
- **Dependencies:** ATOM-0850-002 (TCP Server Basic)
- **Tests Required:** Test request parsing, test query parameters, test malformed requests, test large headers

**ATOM-0850-013: HTTP Server Response Construction**
- **Parent:** SPEC-LANG-0850
- **Source:** REQ-291, SSOT Section 9.6
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Construct HTTP response with status code
  - Support response headers (set via `headers` API)
  - Support response body (String, bytes, JSON)
- **Semantics:** HTTP server response construction builds HTTP responses with status codes, headers, and body for sending to clients.
- **Edge Cases:** Invalid status codes, malformed headers, large response bodies
- **Failure Modes:** None (response construction, errors handled by sending)
- **Dependencies:** ATOM-0850-004 (HTTP Server Request Parsing), SPEC-LANG-0840 (Serialization) for JSON support
- **Tests Required:** Test response construction, test status codes, test headers, test body handling

**ATOM-0850-007: HTTP Server Routing**
- **Parent:** SPEC-LANG-0850
- **Source:** REQ-291, SSOT Section 9.6
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Implement routing mechanism for HTTP server
  - Support path-based routing (e.g., `/api/users`)
  - Support route parameters (e.g., `/users/:id`)
  - Support route handlers (functions)
  - Handle routing errors (404 Not Found if no route matches, ERR-HTTP-005)
- **Semantics:** HTTP server routing maps HTTP requests to handlers based on path patterns, enabling request dispatching.
- **Edge Cases:** No matching route, route conflicts, invalid route patterns
- **Failure Modes:** ERR-HTTP-005 (routing error, 404 Not Found)
- **Dependencies:** ATOM-0850-004 (HTTP Server Request Parsing), ATOM-0850-013 (HTTP Server Response Construction)
- **Tests Required:** Test routing, test route parameters, test route handlers, test 404 errors

**ATOM-0850-014: HTTP Server Middleware Support**
- **Parent:** SPEC-LANG-0850
- **Source:** REQ-291, SSOT Section 9.6
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Implement middleware mechanism for HTTP server
  - Support middleware chaining (multiple middleware)
  - Support request/response modification by middleware
  - Support early termination by middleware (short-circuit)
- **Semantics:** HTTP server middleware allows request/response processing pipeline, enabling cross-cutting concerns (logging, auth, CORS).
- **Edge Cases:** Middleware errors, early termination, conflicting middleware
- **Failure Modes:** None (middleware errors handled by error middleware)
- **Dependencies:** ATOM-0850-004 (HTTP Server Request Parsing), ATOM-0850-013 (HTTP Server Response Construction), ATOM-0850-007 (HTTP Server Routing)
- **Tests Required:** Test middleware chaining, test request/response modification, test early termination

================================================================================
ATOM Decomposition: SPEC-QUARRY-0023 (Official Package Registry Integration)
================================================================================

**Parent LEAF:** SPEC-QUARRY-0023: Official Package Registry (quarry.dev) Integration
**Source:** REQ-014, REQ-213, REQ-214, REQ-215, SSOT Section 8.14
**Decomposition Rationale:** This LEAF combines multiple independent concerns (authentication, metadata extraction, publication, search/download) that can be implemented as separate ATOMs.

**ATOM-QUARRY-0023-001: Registry Authentication**
- **Parent:** SPEC-QUARRY-0023
- **Source:** REQ-014, REQ-213, SSOT Section 8.14
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Implement authentication mechanism for registry (API tokens)
  - Support `quarry login` command for authentication
  - Store authentication tokens securely (encrypted, OS keyring)
  - Handle authentication failures (ERR-REG-001)
  - Support token expiration and renewal
- **Semantics:** Registry authentication provides secure authentication to the package registry using API tokens stored in OS keyring.
- **Edge Cases:** Token expiration, authentication failures, missing tokens
- **Failure Modes:** ERR-REG-001 (authentication failure)
- **Dependencies:** None (authentication is first step)
- **Tests Required:** Test login, test authentication, test token storage, test expiration

**ATOM-QUARRY-0023-002: Package Metadata Extraction**
- **Parent:** SPEC-QUARRY-0023
- **Source:** REQ-014, REQ-214, SSOT Section 8.14
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Extract package metadata from Quarry.toml
  - Validate metadata fields (name, version, authors, license, etc.)
  - Generate package manifest for publishing
  - Handle invalid metadata (ERR-REG-002)
- **Semantics:** Package metadata extraction reads Quarry.toml and generates a manifest for publishing to the registry.
- **Edge Cases:** Missing required fields, invalid format, malformed TOML
- **Failure Modes:** ERR-REG-002 (invalid metadata)
- **Dependencies:** SPEC-QUARRY-0012 (Config File Loading) for Quarry.toml parsing
- **Tests Required:** Test metadata extraction, test validation, test manifest generation

**ATOM-QUARRY-0023-003: Package Publication (Upload)**
- **Parent:** SPEC-QUARRY-0023
- **Source:** REQ-014, REQ-215, SSOT Section 8.14
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Implement `quarry publish` command for package upload
  - Package source files and build artifacts
  - Upload package to registry via HTTPS
  - Handle upload failures (ERR-REG-003)
  - Support version conflict detection (package already exists)
  - Generate package tarball for upload
- **Semantics:** Package publication packages source files and uploads them to the registry for distribution.
- **Edge Cases:** Network failures, version conflicts, large packages
- **Failure Modes:** ERR-REG-003 (upload failure), ERR-REG-004 (version conflict)
- **Dependencies:** ATOM-QUARRY-0023-001 (Authentication), ATOM-QUARRY-0023-002 (Metadata Extraction)
- **Tests Required:** Test publishing, test upload, test version conflicts, test network failures

**ATOM-QUARRY-0023-004: Package Search**
- **Parent:** SPEC-QUARRY-0023
- **Source:** REQ-014, REQ-213, SSOT Section 8.14
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Implement `quarry search <query>` command for package search
  - Search registry by package name, description, keywords
  - Display search results (name, version, description)
  - Handle search failures (ERR-REG-005)
  - Support pagination for large result sets
- **Semantics:** Package search queries the registry for packages matching search criteria and displays results.
- **Edge Cases:** No results, network failures, large result sets
- **Failure Modes:** ERR-REG-005 (search failure)
- **Dependencies:** ATOM-QUARRY-0023-001 (Authentication, optional for search)
- **Tests Required:** Test search, test results display, test pagination, test no results

**ATOM-QUARRY-0023-005: Package Download and Installation**
- **Parent:** SPEC-QUARRY-0023
- **Source:** REQ-014, REQ-213, SSOT Section 8.14
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Download package from registry via HTTPS
  - Verify package integrity (checksums)
  - Extract package to local cache
  - Handle download failures (ERR-REG-006)
  - Support resume for interrupted downloads
- **Semantics:** Package download retrieves package from registry, verifies integrity, and extracts to local cache.
- **Edge Cases:** Network failures, integrity check failures, interrupted downloads
- **Failure Modes:** ERR-REG-006 (download failure), ERR-REG-007 (integrity check failure)
- **Dependencies:** ATOM-QUARRY-0023-001 (Authentication, optional for public packages)
- **Tests Required:** Test download, test integrity checks, test extraction, test resume

**ATOM-QUARRY-0023-006: Registry Index Caching**
- **Parent:** SPEC-QUARRY-0023
- **Source:** REQ-014, REQ-213, SSOT Section 8.14
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Implement local registry index cache
  - Download and update index from registry
  - Support incremental index updates
  - Handle cache invalidation
- **Semantics:** Registry index caching maintains a local cache of the registry index for faster dependency resolution.
- **Edge Cases:** Cache invalidation, stale cache, index corruption
- **Failure Modes:** ERR-REG-008 (cache corruption)
- **Dependencies:** ATOM-QUARRY-0023-005 (Download) for index download
- **Tests Required:** Test caching, test updates, test invalidation, test corruption recovery

================================================================================
ATOM Decomposition: SPEC-QUARRY-0019 (Build Caching and Incremental Bypass)
================================================================================

**Parent LEAF:** SPEC-QUARRY-0019: Build Caching and Incremental Bypass
**Source:** REQ-163, REQ-164, SSOT Section 8.3
**Decomposition Rationale:** This LEAF combines multiple independent concerns (fingerprinting, cache storage, cache invalidation, incremental compilation) that can be implemented as separate ATOMs.

**ATOM-QUARRY-0019-001: File Content Fingerprinting**
- **Parent:** SPEC-QUARRY-0019
- **Source:** REQ-163, REQ-164, SSOT Section 8.3
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Compute file content fingerprints (SHA-256 hashes)
  - Track file dependencies for each module
  - Detect file changes via fingerprint comparison
  - Handle fingerprint collisions (rare, but possible)
- **Semantics:** File content fingerprinting computes SHA-256 hashes of source files to detect changes for incremental compilation.
- **Edge Cases:** Fingerprint collisions, very large files, symlinks
- **Failure Modes:** ERR-CACHE-001 (fingerprint computation failure)
- **Dependencies:** None (fingerprinting is first step)
- **Tests Required:** Test fingerprinting, test change detection, test collisions, test large files

**ATOM-QUARRY-0019-002: Cache Storage Management**
- **Parent:** SPEC-QUARRY-0019
- **Source:** REQ-163, REQ-164, SSOT Section 8.3
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Store compiled artifacts in build cache directory
  - Support cache lookup by fingerprint
  - Handle cache directory creation and cleanup
  - Support cache size limits (configurable)
  - Implement cache eviction policy (LRU)
- **Semantics:** Cache storage manages the build cache directory, storing and retrieving compiled artifacts by fingerprint.
- **Edge Cases:** Cache full, cache corruption, disk space issues
- **Failure Modes:** ERR-CACHE-002 (cache storage failure), ERR-CACHE-003 (cache full)
- **Dependencies:** ATOM-QUARRY-0019-001 (Fingerprinting) for cache keys
- **Tests Required:** Test storage, test lookup, test eviction, test cleanup

**ATOM-QUARRY-0019-003: Cache Invalidation Logic**
- **Parent:** SPEC-QUARRY-0019
- **Source:** REQ-163, REQ-164, SSOT Section 8.3
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Detect when cache entries are stale (source file changed)
  - Invalidate dependent cache entries (transitive invalidation)
  - Support force invalidation (quarry clean)
  - Handle partial invalidation (only affected modules)
- **Semantics:** Cache invalidation determines when cached artifacts are stale and must be recompiled.
- **Edge Cases:** Transitive dependencies, circular dependencies, missing dependencies
- **Failure Modes:** ERR-CACHE-004 (invalidation failure)
- **Dependencies:** ATOM-QUARRY-0019-001 (Fingerprinting), ATOM-QUARRY-0019-002 (Storage)
- **Tests Required:** Test invalidation, test transitive invalidation, test force invalidation

**ATOM-QUARRY-0019-004: Incremental Compilation Driver**
- **Parent:** SPEC-QUARRY-0019
- **Source:** REQ-163, REQ-164, SSOT Section 8.3
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Orchestrate incremental compilation
  - Check cache for existing artifacts
  - Compile only changed modules
  - Update cache with new artifacts
  - Support full rebuild (quarry build --no-cache)
- **Semantics:** Incremental compilation driver coordinates cache checks and compilation, compiling only changed modules.
- **Edge Cases:** First build (empty cache), full rebuild, cache miss
- **Failure Modes:** None (compilation errors handled by compiler)
- **Dependencies:** ATOM-QUARRY-0019-001 (Fingerprinting), ATOM-QUARRY-0019-002 (Storage), ATOM-QUARRY-0019-003 (Invalidation)
- **Tests Required:** Test incremental compilation, test cache hits, test cache misses, test full rebuild

**ATOM-QUARRY-0019-005: Dependency Tracking**
- **Parent:** SPEC-QUARRY-0019
- **Source:** REQ-163, REQ-164, SSOT Section 8.3
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Track module dependencies (which modules depend on which)
  - Store dependency graph in cache
  - Update dependency graph on compilation
  - Use dependency graph for transitive invalidation
- **Semantics:** Dependency tracking maintains a dependency graph for transitive cache invalidation.
- **Edge Cases:** Circular dependencies, missing dependencies, stale dependency graph
- **Failure Modes:** ERR-CACHE-005 (dependency tracking failure)
- **Dependencies:** ATOM-QUARRY-0019-002 (Storage) for graph storage
- **Tests Required:** Test dependency tracking, test graph updates, test transitive invalidation

================================================================================
ATOM Decomposition: SPEC-QUARRY-0024 (Opinionated Official Formatter)
================================================================================

**Parent LEAF:** SPEC-QUARRY-0024: Opinionated Official Formatter (quarry fmt)
**Source:** REQ-165, REQ-166, REQ-167, SSOT Section 8.4
**Decomposition Rationale:** This LEAF combines formatting rules implementation, AST traversal, and editor integration that can be implemented as separate ATOMs.

**ATOM-QUARRY-0024-001: Indentation and Line Length Rules**
- **Parent:** SPEC-QUARRY-0024
- **Source:** REQ-165, REQ-166, REQ-167, SSOT Section 8.4
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Implement indentation rules (4 spaces per level)
  - Enforce line length limits (max 100 characters)
  - Handle line wrapping for long lines
  - Support configuration overrides (optional)
- **Semantics:** Indentation and line length rules enforce consistent indentation and line length limits.
- **Edge Cases:** Very long lines, nested indentation, string literals spanning lines
- **Failure Modes:** None (formatting applies rules, no errors)
- **Dependencies:** None (formatting rules are independent)
- **Tests Required:** Test indentation, test line length, test wrapping, test edge cases

**ATOM-QUARRY-0024-002: Whitespace and Comment Formatting**
- **Parent:** SPEC-QUARRY-0024
- **Source:** REQ-165, REQ-166, REQ-167, SSOT Section 8.4
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Normalize whitespace around operators and punctuation
  - Preserve comment content (don't modify comment text)
  - Align comments consistently
  - Remove trailing whitespace
- **Semantics:** Whitespace and comment formatting normalizes whitespace and aligns comments.
- **Edge Cases:** Inline comments, block comments, docstrings
- **Failure Modes:** None (formatting applies rules, no errors)
- **Dependencies:** ATOM-QUARRY-0024-001 (Indentation)
- **Tests Required:** Test whitespace, test comments, test alignment, test trailing whitespace

**ATOM-QUARRY-0024-003: AST-based Code Formatting**
- **Parent:** SPEC-QUARRY-0024
- **Source:** REQ-165, REQ-166, REQ-167, SSOT Section 8.4
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Parse source code into AST
  - Traverse AST and apply formatting rules
  - Generate formatted source code from AST
  - Preserve comments and whitespace where appropriate
- **Semantics:** AST-based formatting uses AST traversal to apply formatting rules while preserving code semantics.
- **Edge Cases:** Invalid syntax (parse errors), complex expressions, nested structures
- **Failure Modes:** ERR-FMT-001 (parse error, cannot format invalid syntax)
- **Dependencies:** SPEC-LANG-0100 series (Parsing) for AST, ATOM-QUARRY-0024-001 (Indentation), ATOM-QUARRY-0024-002 (Whitespace)
- **Tests Required:** Test AST traversal, test formatting, test preservation, test invalid syntax

**ATOM-QUARRY-0024-004: Editor Integration (Format-on-Save)**
- **Parent:** SPEC-QUARRY-0024
- **Source:** REQ-165, REQ-166, REQ-167, SSOT Section 8.4
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Implement editor integration protocol
  - Support format-on-save via LSP
  - Support format selection (format only selected text)
  - Support format document (format entire file)
- **Semantics:** Editor integration enables format-on-save and format commands in editors via LSP protocol.
- **Edge Cases:** Partial formatting (selection), very large files, unsaved buffers
- **Failure Modes:** None (formatting errors logged, don't prevent save)
- **Dependencies:** ATOM-QUARRY-0024-003 (AST Formatting), SPEC-QUARRY-0501 (LSP Server Core) for LSP integration
- **Tests Required:** Test format-on-save, test format selection, test format document

**ATOM-QUARRY-0024-005: Formatting Rule Configuration**
- **Parent:** SPEC-QUARRY-0024
- **Source:** REQ-165, REQ-166, REQ-167, SSOT Section 8.4
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Support configuration file for formatting rules (.quarry-fmt.toml)
  - Allow overriding default rules (indentation, line length)
  - Validate configuration (error for invalid settings)
  - Support per-project configuration
- **Semantics:** Formatting rule configuration allows projects to customize formatting rules via configuration files.
- **Edge Cases:** Invalid configuration, conflicting rules, missing configuration
- **Failure Modes:** ERR-FMT-002 (invalid configuration)
- **Dependencies:** ATOM-QUARRY-0024-001 (Indentation), ATOM-QUARRY-0024-002 (Whitespace)
- **Tests Required:** Test configuration loading, test rule overrides, test validation

================================================================================
ATOM Decomposition: SPEC-QUARRY-0020 (Output Artifact Management)
================================================================================

**Parent LEAF:** SPEC-QUARRY-0020: Output Artifact Management (Binary vs Library)
**Source:** REQ-161, REQ-162, SSOT Section 8.2
**Decomposition Rationale:** This LEAF combines binary output management and library output management, which are independent concerns that can be implemented separately.

**ATOM-QUARRY-0020-001: Binary Output Management**
- **Parent:** SPEC-QUARRY-0020
- **Source:** REQ-161, REQ-162, SSOT Section 8.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Generate executable binary from compiled code
  - Place binary in `target/` directory (or configured output directory)
  - Support binary naming based on Quarry.toml (package name)
  - Support executable permissions on Unix (chmod +x)
  - Support multiple build profiles (debug, release)
- **Semantics:** Binary output management generates executable binaries and places them in the output directory.
- **Edge Cases:** Custom output directory, binary name conflicts, permission errors
- **Failure Modes:** ERR-BUILD-001 (binary generation failure), ERR-BUILD-002 (permission error)
- **Dependencies:** SPEC-FORGE-0008 (Linking Phase) for binary generation
- **Tests Required:** Test binary generation, test output directory, test naming, test permissions

**ATOM-QUARRY-0020-002: Library Output Management (Static and Dynamic)**
- **Parent:** SPEC-QUARRY-0020
- **Source:** REQ-161, REQ-162, SSOT Section 8.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Generate static library (.a, .lib) from compiled code
  - Generate dynamic library (.so, .dylib, .dll) from compiled code
  - Place libraries in `target/` directory
  - Support library naming conventions (lib prefix on Unix)
  - Generate header files for C FFI (if applicable)
- **Semantics:** Library output management generates static and dynamic libraries for consumption by other projects.
- **Edge Cases:** Library name conflicts, platform-specific extensions, header generation
- **Failure Modes:** ERR-BUILD-003 (library generation failure)
- **Dependencies:** SPEC-FORGE-0008 (Linking Phase) for library generation
- **Tests Required:** Test static library generation, test dynamic library generation, test naming, test headers

**ATOM-QUARRY-0020-003: Build Artifact Metadata Generation**
- **Parent:** SPEC-QUARRY-0020
- **Source:** REQ-161, REQ-162, SSOT Section 8.2
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Generate build metadata file (JSON) with artifact information
  - Include artifact type (binary, static library, dynamic library)
  - Include artifact path, checksum, build timestamp
  - Include build configuration (debug, release)
- **Semantics:** Build artifact metadata provides information about generated artifacts for tooling and deployment.
- **Edge Cases:** Missing artifacts, metadata corruption
- **Failure Modes:** ERR-BUILD-004 (metadata generation failure)
- **Dependencies:** ATOM-QUARRY-0020-001 (Binary), ATOM-QUARRY-0020-002 (Library)
- **Tests Required:** Test metadata generation, test artifact information, test checksums

================================================================================
ATOM Decomposition: SPEC-QUARRY-0022 (Intelligent Script Caching and Shebang Support)
================================================================================

**Parent LEAF:** SPEC-QUARRY-0022: Intelligent Script Caching and Shebang Support
**Source:** REQ-169, REQ-170, SSOT Section 8.6
**Decomposition Rationale:** This LEAF combines script caching (content hashing, cache storage) and shebang parsing, which are independent concerns that can be implemented separately.

**ATOM-QUARRY-0022-001: Content-Based Script Hashing**
- **Parent:** SPEC-QUARRY-0022
- **Source:** REQ-169, REQ-170, SSOT Section 8.6
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Compute content hash (SHA-256) of script file
  - Track script dependencies (imports)
  - Use hash as cache key for compiled script
  - Detect script changes via hash comparison
- **Semantics:** Content-based hashing computes hashes of script files for cache lookup and change detection.
- **Edge Cases:** Hash collisions, very large scripts, symlinks
- **Failure Modes:** ERR-SCRIPT-001 (hashing failure)
- **Dependencies:** None (hashing is first step)
- **Tests Required:** Test hashing, test change detection, test dependencies

**ATOM-QUARRY-0022-002: Script Cache Storage and Retrieval**
- **Parent:** SPEC-QUARRY-0022
- **Source:** REQ-169, REQ-170, SSOT Section 8.6
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Store compiled script in cache directory (`~/.cache/quarry/scripts/`)
  - Lookup cached script by content hash
  - Handle cache misses (compile and cache)
  - Support cache cleanup (quarry clean --scripts)
- **Semantics:** Script cache storage manages the script cache directory, storing and retrieving compiled scripts by hash.
- **Edge Cases:** Cache corruption, disk space issues, concurrent access
- **Failure Modes:** ERR-SCRIPT-002 (cache storage failure)
- **Dependencies:** ATOM-QUARRY-0022-001 (Hashing) for cache keys
- **Tests Required:** Test storage, test retrieval, test cache misses, test cleanup

**ATOM-QUARRY-0022-003: Shebang Parsing and Execution**
- **Parent:** SPEC-QUARRY-0022
- **Source:** REQ-169, REQ-170, SSOT Section 8.6
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Parse shebang line (`#!/usr/bin/env pyrite` or `#!/path/to/pyrite`)
  - Support script execution via shebang
  - Pass script arguments to compiled binary
  - Handle missing shebang (error ERR-SCRIPT-003)
- **Semantics:** Shebang parsing enables scripts to be executed directly via shebang interpreter declaration.
- **Edge Cases:** Invalid shebang, missing interpreter, permission errors
- **Failure Modes:** ERR-SCRIPT-003 (missing or invalid shebang)
- **Dependencies:** None (shebang parsing is independent)
- **Tests Required:** Test shebang parsing, test execution, test arguments, test errors

**ATOM-QUARRY-0022-004: Script Compilation and Execution Workflow**
- **Parent:** SPEC-QUARRY-0022
- **Source:** REQ-169, REQ-170, SSOT Section 8.6
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Orchestrate script compilation workflow (hash, cache lookup, compile if needed, execute)
  - Support `pyrite run <script.pyrite>` command
  - Support shebang execution (`./script.pyrite`)
  - Handle compilation errors gracefully
- **Semantics:** Script workflow coordinates hashing, caching, compilation, and execution for seamless script execution.
- **Edge Cases:** Compilation errors, runtime errors, missing dependencies
- **Failure Modes:** Compilation errors (forwarded from compiler)
- **Dependencies:** ATOM-QUARRY-0022-001 (Hashing), ATOM-QUARRY-0022-002 (Caching), ATOM-QUARRY-0022-003 (Shebang)
- **Tests Required:** Test workflow, test compilation, test execution, test errors

================================================================================
ATOM Decomposition: SPEC-QUARRY-0032 (Integrated Sanitizers)
================================================================================

**Parent LEAF:** SPEC-QUARRY-0032: Integrated Sanitizers (ASan, TSan, UBSan)
**Source:** REQ-185, REQ-186, REQ-187, REQ-188, REQ-189, SSOT Section 8.9
**Decomposition Rationale:** This LEAF combines multiple independent sanitizers (ASan, TSan, UBSan, MSan) that can be implemented and integrated separately. Each sanitizer has distinct requirements and instrumentation.

**ATOM-QUARRY-0032-001: AddressSanitizer (ASan) Code Instrumentation**
- **Parent:** SPEC-QUARRY-0032
- **Source:** REQ-185, SSOT Section 8.9
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Integrate LLVM AddressSanitizer with compiler
  - Add instrumentation for memory accesses (load/store)
  - Enable ASan via `--sanitize=address` flag
  - Support ASan runtime library linking
  - Generate ASan reports for violations (heap buffer overflow, use-after-free, etc.)
- **Semantics:** ASan instrumentation detects memory errors (heap buffer overflow, use-after-free, double-free, memory leaks) at runtime.
- **Edge Cases:** Performance overhead (2x slowdown), large memory overhead, incompatible with other sanitizers (MSan)
- **Failure Modes:** ERR-SAN-001 (ASan violation detected, program terminates with report)
- **Dependencies:** LLVM ASan runtime library
- **Tests Required:** Test ASan instrumentation, test violation detection (heap overflow, use-after-free), test reports

**ATOM-QUARRY-0032-002: ThreadSanitizer (TSan) Code Instrumentation**
- **Parent:** SPEC-QUARRY-0032
- **Source:** REQ-186, SSOT Section 8.9
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Integrate LLVM ThreadSanitizer with compiler
  - Add instrumentation for memory accesses and synchronization operations
  - Enable TSan via `--sanitize=thread` flag
  - Support TSan runtime library linking
  - Generate TSan reports for data races
- **Semantics:** TSan instrumentation detects data races (concurrent access to shared memory without synchronization) at runtime.
- **Edge Cases:** Performance overhead (5-15x slowdown), memory overhead, incompatible with ASan
- **Failure Modes:** ERR-SAN-002 (TSan violation detected, data race report)
- **Dependencies:** LLVM TSan runtime library
- **Tests Required:** Test TSan instrumentation, test data race detection, test reports

**ATOM-QUARRY-0032-003: UndefinedBehaviorSanitizer (UBSan) Code Instrumentation**
- **Parent:** SPEC-QUARRY-0032
- **Source:** REQ-187, SSOT Section 8.9
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Integrate LLVM UndefinedBehaviorSanitizer with compiler
  - Add instrumentation for undefined behavior operations (integer overflow, division by zero, null pointer dereference, etc.)
  - Enable UBSan via `--sanitize=undefined` flag
  - Support UBSan runtime library linking
  - Generate UBSan reports for undefined behavior
- **Semantics:** UBSan instrumentation detects undefined behavior (integer overflow, division by zero, null pointer dereference, etc.) at runtime.
- **Edge Cases:** Performance overhead (minimal), can be combined with ASan/TSan
- **Failure Modes:** ERR-SAN-003 (UBSan violation detected, undefined behavior report)
- **Dependencies:** LLVM UBSan runtime library
- **Tests Required:** Test UBSan instrumentation, test undefined behavior detection (overflow, division by zero), test reports

**ATOM-QUARRY-0032-004: MemorySanitizer (MSan) Code Instrumentation**
- **Parent:** SPEC-QUARRY-0032
- **Source:** REQ-188, SSOT Section 8.9
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Integrate LLVM MemorySanitizer with compiler
  - Add instrumentation for memory initialization tracking
  - Enable MSan via `--sanitize=memory` flag
  - Support MSan runtime library linking
  - Generate MSan reports for uninitialized memory reads
- **Semantics:** MSan instrumentation detects reads of uninitialized memory at runtime.
- **Edge Cases:** Performance overhead (3x slowdown), large memory overhead, incompatible with ASan/TSan
- **Failure Modes:** ERR-SAN-004 (MSan violation detected, uninitialized memory read report)
- **Dependencies:** LLVM MSan runtime library
- **Tests Required:** Test MSan instrumentation, test uninitialized read detection, test reports

**ATOM-QUARRY-0032-005: Sanitizer Runtime Integration**
- **Parent:** SPEC-QUARRY-0032
- **Source:** REQ-189, SSOT Section 8.9
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Integrate sanitizer runtime libraries with build system
  - Support sanitizer runtime library linking
  - Support sanitizer environment variable configuration (ASAN_OPTIONS, TSAN_OPTIONS, etc.)
  - Generate sanitizer reports in CI-friendly formats (JSON, XML)
  - Handle sanitizer report suppression files (optional)
- **Semantics:** Sanitizer runtime integration provides runtime library linking and report generation for all sanitizers.
- **Edge Cases:** Missing runtime libraries, environment configuration conflicts, report formats
- **Failure Modes:** ERR-SAN-005 (runtime library linking failure)
- **Dependencies:** ATOM-QUARRY-0032-001 (ASan), ATOM-QUARRY-0032-002 (TSan), ATOM-QUARRY-0032-003 (UBSan), ATOM-QUARRY-0032-004 (MSan)
- **Tests Required:** Test runtime linking, test report generation, test environment configuration

================================================================================
ATOM Decomposition: SPEC-LANG-0840 (Built-in Serialization Formats)
================================================================================

**Parent LEAF:** SPEC-LANG-0840: Built-in Serialization Formats
**Source:** REQ-275, REQ-289, REQ-290, SSOT Section 9.5
**Decomposition Rationale:** This LEAF combines two independent serialization formats (JSON and TOML) that can be implemented separately. Each format has distinct parsing and serialization requirements.

**ATOM-LANG-0840-001: JSON Serialization (to_json)**
- **Parent:** SPEC-LANG-0840
- **Source:** REQ-275, REQ-289, SSOT Section 9.5
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Implement JSON serialization (`to_json()` method)
  - Support primitive types (int, float, string, bool, null)
  - Support composite types (struct, enum, list, map)
  - Generate valid JSON output
  - Handle serialization errors (ERR-JSON-001)
- **Semantics:** JSON serialization converts Pyrite types to JSON strings following JSON specification.
- **Edge Cases:** Special characters in strings, very large numbers, NaN/Infinity
- **Failure Modes:** ERR-JSON-001 (serialization error, unsupported type)
- **Dependencies:** None (JSON serialization is independent)
- **Tests Required:** Test primitives, test composites, test edge cases, test errors

**ATOM-LANG-0840-002: JSON Deserialization (from_json)**
- **Parent:** SPEC-LANG-0840
- **Source:** REQ-275, REQ-289, SSOT Section 9.5
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Implement JSON deserialization (`from_json()` method)
  - Parse JSON strings into Pyrite types
  - Validate JSON structure against target type
  - Handle parsing errors (ERR-JSON-002)
  - Handle type mismatches (ERR-JSON-003)
- **Semantics:** JSON deserialization parses JSON strings into Pyrite types with validation.
- **Edge Cases:** Malformed JSON, type mismatches, missing required fields
- **Failure Modes:** ERR-JSON-002 (parsing error), ERR-JSON-003 (type mismatch)
- **Dependencies:** None (JSON deserialization is independent)
- **Tests Required:** Test parsing, test validation, test errors, test type mismatches

**ATOM-LANG-0840-003: TOML Serialization (to_toml)**
- **Parent:** SPEC-LANG-0840
- **Source:** REQ-290, SSOT Section 9.5
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Implement TOML serialization (`to_toml()` method)
  - Support primitive types (int, float, string, bool)
  - Support composite types (struct, list, map)
  - Generate valid TOML output
  - Handle serialization errors (ERR-TOML-001)
- **Semantics:** TOML serialization converts Pyrite types to TOML strings following TOML specification.
- **Edge Cases:** Special characters in strings, nested structures, date/time types
- **Failure Modes:** ERR-TOML-001 (serialization error, unsupported type)
- **Dependencies:** None (TOML serialization is independent)
- **Tests Required:** Test primitives, test composites, test edge cases, test errors

**ATOM-LANG-0840-004: TOML Deserialization (from_toml)**
- **Parent:** SPEC-LANG-0840
- **Source:** REQ-290, SSOT Section 9.5
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Implement TOML deserialization (`from_toml()` method)
  - Parse TOML strings into Pyrite types
  - Validate TOML structure against target type
  - Handle parsing errors (ERR-TOML-002)
  - Handle type mismatches (ERR-TOML-003)
- **Semantics:** TOML deserialization parses TOML strings into Pyrite types with validation.
- **Edge Cases:** Malformed TOML, type mismatches, missing required fields, nested structures
- **Failure Modes:** ERR-TOML-002 (parsing error), ERR-TOML-003 (type mismatch)
- **Dependencies:** None (TOML deserialization is independent)
- **Tests Required:** Test parsing, test validation, test errors, test type mismatches

**ATOM-LANG-0840-005: Serialization Derivation Integration (@derive)**
- **Parent:** SPEC-LANG-0840
- **Source:** SPEC-LANG-0841, SSOT Section 9.5
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Integrate with @derive macro system (SPEC-LANG-0841)
  - Auto-generate serialization methods for types annotated with @derive(Serialize, Deserialize)
  - Support custom serialization rules via attributes
  - Generate efficient serialization code
- **Semantics:** Serialization derivation integration auto-generates serialization methods for types via @derive macro.
- **Edge Cases:** Complex types, custom serialization, circular references
- **Failure Modes:** None (macro errors handled by macro system)
- **Dependencies:** SPEC-LANG-0841 (Automated Serialization Derivation), ATOM-LANG-0840-001 (JSON Serialization), ATOM-LANG-0840-002 (JSON Deserialization), ATOM-LANG-0840-003 (TOML Serialization), ATOM-LANG-0840-004 (TOML Deserialization)
- **Tests Required:** Test @derive integration, test auto-generated methods, test custom rules

================================================================================
ATOM Decomposition: SPEC-LANG-1003 (Synchronization Primitives)
================================================================================

**Parent LEAF:** SPEC-LANG-1003: Synchronization Primitives (Mutex, Channels)
**Source:** REQ-339, REQ-340, SSOT Section 11.0
**Decomposition Rationale:** This LEAF combines two independent synchronization primitives (Mutex and Channels) that can be implemented separately. Each primitive has distinct semantics and use cases.

**ATOM-LANG-1003-001: Mutex Type Definition**
- **Parent:** SPEC-LANG-1003
- **Source:** REQ-339, SSOT Section 11.0
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Implement `Mutex[T]` type for mutual exclusion
  - Support lock acquisition (`lock()` method)
  - Support lock release (automatic via RAII, drop)
  - Support try_lock (non-blocking lock attempt)
  - Ensure exclusive access to protected data
- **Semantics:** Mutex type provides mutual exclusion for shared mutable state, ensuring only one thread can access data at a time.
- **Edge Cases:** Deadlocks, lock poisoning (if thread panics while holding lock), recursive locking (not supported)
- **Failure Modes:** ERR-MUTEX-001 (lock poisoning, mutex unusable after panic)
- **Dependencies:** None (mutex is primitive)
- **Tests Required:** Test lock/unlock, test try_lock, test RAII release, test poisoning

**ATOM-LANG-1003-002: Mutex Lock Guard Implementation**
- **Parent:** SPEC-LANG-1003
- **Source:** REQ-339, SSOT Section 11.0
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Implement `MutexGuard[T]` type for lock ownership
  - Support automatic lock release via RAII (drop trait)
  - Support deref to protected data (immutable and mutable)
  - Ensure lock is released when guard goes out of scope
- **Semantics:** Mutex guard represents lock ownership, automatically releasing lock when dropped.
- **Edge Cases:** Guard lifetime, manual drop, panic during guard lifetime
- **Failure Modes:** None (RAII ensures release)
- **Dependencies:** ATOM-LANG-1003-001 (Mutex Type)
- **Tests Required:** Test guard lifetime, test RAII release, test deref, test manual drop

**ATOM-LANG-1003-003: Channel Type Definition (MPSC)**
- **Parent:** SPEC-LANG-1003
- **Source:** REQ-340, SSOT Section 11.0
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Implement `Channel[T]` type for message passing (MPSC: multiple producer, single consumer)
  - Support channel creation (`Channel::new()`)
  - Provide sender and receiver endpoints
  - Support unbounded channels (unlimited capacity)
  - Support bounded channels (limited capacity, configurable)
- **Semantics:** Channel type provides message passing between threads, enabling communication without shared memory.
- **Edge Cases:** Channel full (bounded), channel empty (receiver blocks), sender/receiver dropped
- **Failure Modes:** None (blocking behavior is expected)
- **Dependencies:** None (channel is primitive)
- **Tests Required:** Test channel creation, test unbounded/bounded, test send/receive

**ATOM-LANG-1003-004: Channel Send Operation**
- **Parent:** SPEC-LANG-1003
- **Source:** REQ-340, SSOT Section 11.0
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Implement `send(value)` method on sender endpoint
  - Support blocking send for bounded channels (blocks if full)
  - Support non-blocking try_send (returns error if full)
  - Handle sender ownership transfer (move semantics)
  - Handle receiver dropped (send fails with ERR-CHAN-001)
- **Semantics:** Channel send operation sends messages to receiver via channel.
- **Edge Cases:** Channel full (blocking), receiver dropped (error), multiple senders
- **Failure Modes:** ERR-CHAN-001 (receiver dropped, send fails)
- **Dependencies:** ATOM-LANG-1003-003 (Channel Type)
- **Tests Required:** Test send, test blocking, test try_send, test receiver dropped

**ATOM-LANG-1003-005: Channel Receive Operation**
- **Parent:** SPEC-LANG-1003
- **Source:** REQ-340, SSOT Section 11.0
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Implement `receive()` method on receiver endpoint
  - Support blocking receive (blocks if empty)
  - Support non-blocking try_receive (returns error if empty)
  - Handle all senders dropped (receive returns None)
  - Support iteration over channel messages (for loop)
- **Semantics:** Channel receive operation receives messages from senders via channel.
- **Edge Cases:** Channel empty (blocking), all senders dropped (None), iteration
- **Failure Modes:** None (blocking behavior is expected, None when senders dropped)
- **Dependencies:** ATOM-LANG-1003-003 (Channel Type)
- **Tests Required:** Test receive, test blocking, test try_receive, test senders dropped, test iteration

**ATOM-LANG-1003-006: Channel Closing Semantics**
- **Parent:** SPEC-LANG-1003
- **Source:** REQ-340, SSOT Section 11.0
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Handle sender drop (close sender endpoint)
  - Handle receiver drop (close receiver endpoint)
  - Ensure sends fail after all receivers dropped
  - Ensure receives return None after all senders dropped
  - Support explicit close method (optional)
- **Semantics:** Channel closing ensures graceful shutdown when endpoints are dropped.
- **Edge Cases:** Partial close (some senders dropped), pending messages (delivered before close)
- **Failure Modes:** None (closing is graceful)
- **Dependencies:** ATOM-LANG-1003-003 (Channel Type), ATOM-LANG-1003-004 (Send), ATOM-LANG-1003-005 (Receive)
- **Tests Required:** Test sender drop, test receiver drop, test pending messages, test explicit close

================================================================================
ATOM Decomposition: SPEC-LANG-1104 (OpenTelemetry Compatible Exporters)
================================================================================

**Parent LEAF:** SPEC-LANG-1104: OpenTelemetry Compatible Exporters
**Source:** REQ-348, SSOT Section 9.17
**Decomposition Rationale:** This LEAF combines multiple independent exporter implementations (OTLP, Jaeger, Prometheus) plus a common trait interface and background task management. Each exporter can be implemented independently, and the trait and background task management are separate concerns.

**ATOM-LANG-1104-001: TelemetryExporter Trait Definition**
- **Parent:** SPEC-LANG-1104
- **Source:** REQ-348, SSOT Section 9.17
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Define `TelemetryExporter` trait for exporter abstraction
  - Support export method for telemetry data (logs, traces, metrics)
  - Support configuration method for exporter setup
  - Support shutdown method for graceful exporter shutdown
  - Ensure trait is Send + Sync (thread-safe)
- **Semantics:** TelemetryExporter trait provides common interface for all telemetry exporters.
- **Edge Cases:** Export failures, configuration errors, shutdown timeout
- **Failure Modes:** None (trait definition, errors handled by implementations)
- **Dependencies:** None (trait is independent)
- **Tests Required:** Test trait definition, test Send + Sync, test methods

**ATOM-LANG-1104-002: OTLP Exporter Implementation**
- **Parent:** SPEC-LANG-1104
- **Source:** REQ-348, SSOT Section 9.17
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Implement OTLP exporter (OpenTelemetry Protocol)
  - Support OTLP/gRPC and OTLP/HTTP protocols
  - Export logs, traces, and metrics in OTLP format
  - Support OTLP endpoint configuration (URL)
  - Handle export failures (retry logic, backoff, ERR-OTEL-001)
- **Semantics:** OTLP exporter exports telemetry data to OTLP-compatible backends (e.g., OpenTelemetry Collector).
- **Edge Cases:** Network failures, authentication, protocol negotiation
- **Failure Modes:** ERR-OTEL-001 (export failure, retry exhausted)
- **Dependencies:** ATOM-LANG-1104-001 (TelemetryExporter Trait), gRPC library (for OTLP/gRPC)
- **Tests Required:** Test OTLP/gRPC, test OTLP/HTTP, test export, test retries

**ATOM-LANG-1104-003: Jaeger Exporter Implementation**
- **Parent:** SPEC-LANG-1104
- **Source:** REQ-348, SSOT Section 9.17
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Implement Jaeger exporter (Jaeger protocol)
  - Export traces in Jaeger format (Thrift protocol)
  - Support Jaeger endpoint configuration (URL)
  - Handle export failures (retry logic, backoff, ERR-OTEL-002)
- **Semantics:** Jaeger exporter exports traces to Jaeger backend.
- **Edge Cases:** Network failures, authentication, protocol version
- **Failure Modes:** ERR-OTEL-002 (export failure, retry exhausted)
- **Dependencies:** ATOM-LANG-1104-001 (TelemetryExporter Trait), Thrift library (for Jaeger protocol)
- **Tests Required:** Test Jaeger export, test traces, test retries

**ATOM-LANG-1104-004: Prometheus Exporter Implementation**
- **Parent:** SPEC-LANG-1104
- **Source:** REQ-348, SSOT Section 9.17
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Implement Prometheus exporter (Prometheus protocol)
  - Export metrics in Prometheus text format
  - Support Prometheus endpoint configuration (port, path)
  - Expose metrics via HTTP endpoint (scraping)
  - Handle export failures (ERR-OTEL-003)
- **Semantics:** Prometheus exporter exposes metrics for Prometheus scraping.
- **Edge Cases:** Port conflicts, scraping failures, metric format errors
- **Failure Modes:** ERR-OTEL-003 (export failure, HTTP server error)
- **Dependencies:** ATOM-LANG-1104-001 (TelemetryExporter Trait), HTTP server library
- **Tests Required:** Test Prometheus export, test metrics, test scraping, test HTTP endpoint

**ATOM-LANG-1104-005: Background Export Task Management**
- **Parent:** SPEC-LANG-1104
- **Source:** REQ-348, SSOT Section 9.17
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Implement background task for asynchronous telemetry export
  - Support batching (batch multiple telemetry items before export)
  - Support flush on shutdown (export pending items before shutdown)
  - Handle task failures gracefully (log errors, retry)
  - Support configurable export interval (e.g., every 5 seconds)
- **Semantics:** Background task management enables asynchronous telemetry export without blocking application threads.
- **Edge Cases:** Task failure, shutdown during export, large batches
- **Failure Modes:** None (task errors logged, don't crash application)
- **Dependencies:** ATOM-LANG-1104-001 (TelemetryExporter Trait), SPEC-LANG-1001 (Thread Management) for background thread
- **Tests Required:** Test background task, test batching, test flush, test failures

**ATOM-LANG-1104-006: Exporter Configuration and Registry**
- **Parent:** SPEC-LANG-1104
- **Source:** REQ-348, SSOT Section 9.17
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Implement exporter configuration via environment variables or config file
  - Support exporter registry (register multiple exporters)
  - Support exporter selection (enable/disable exporters)
  - Validate exporter configuration (ERR-OTEL-004)
  - Support multiple concurrent exporters
- **Semantics:** Exporter configuration allows users to configure and enable exporters via environment or config files.
- **Edge Cases:** Invalid configuration, conflicting exporters, missing exporters
- **Failure Modes:** ERR-OTEL-004 (invalid configuration)
- **Dependencies:** ATOM-LANG-1104-001 (TelemetryExporter Trait), ATOM-LANG-1104-002 (OTLP), ATOM-LANG-1104-003 (Jaeger), ATOM-LANG-1104-004 (Prometheus)
- **Tests Required:** Test configuration, test registry, test selection, test validation

================================================================================
ATOM Decomposition: SPEC-LANG-0838 (Mathematical and Random Utilities)
================================================================================

**Parent LEAF:** SPEC-LANG-0838: Mathematical and Random Utilities
**Source:** REQ-295, SSOT Section 9.10
**Decomposition Rationale:** This LEAF combines two independent utility modules (mathematical functions and random number generation) that can be implemented separately. Each module has distinct algorithms, error handling, and use cases.

**ATOM-LANG-0838-001: Basic Trigonometric Functions (sin, cos, tan)**
- **Parent:** SPEC-LANG-0838
- **Source:** REQ-295, SSOT Section 9.10
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Implement basic trigonometric functions (sin, cos, tan)
  - Support inverse functions (asin, acos, atan, atan2)
  - Support hyperbolic functions (sinh, cosh, tanh)
  - Handle edge cases (NaN, Infinity)
  - Ensure accuracy (within standard floating-point error bounds)
- **Semantics:** Trigonometric functions provide standard math operations for angles and triangles.
- **Edge Cases:** NaN inputs, Infinity, domain errors (asin/acos), very large/small angles
- **Failure Modes:** None (returns NaN for invalid inputs)
- **Dependencies:** None (standard math library)
- **Tests Required:** Test all functions, test edge cases, test accuracy

**ATOM-LANG-0838-002: Exponential and Logarithmic Functions (exp, log, pow)**
- **Parent:** SPEC-LANG-0838
- **Source:** REQ-295, SSOT Section 9.10
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Implement exponential functions (exp, exp2)
  - Implement logarithmic functions (log, log2, log10)
  - Implement power function (pow)
  - Handle edge cases (negative logarithms, zero base)
  - Ensure accuracy (within standard floating-point error bounds)
- **Semantics:** Exponential and logarithmic functions provide standard math operations for growth and decay.
- **Edge Cases:** NaN inputs, Infinity, negative logarithms, zero base, domain errors
- **Failure Modes:** None (returns NaN for invalid inputs)
- **Dependencies:** None (standard math library)
- **Tests Required:** Test all functions, test edge cases, test accuracy

**ATOM-LANG-0838-003: Rounding and Comparison Functions (round, floor, ceil, abs)**
- **Parent:** SPEC-LANG-0838
- **Source:** REQ-295, SSOT Section 9.10
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Implement rounding functions (round, floor, ceil, trunc)
  - Implement absolute value (abs)
  - Implement min/max functions
  - Implement comparison functions (with epsilon for floating-point)
  - Handle edge cases (NaN, Infinity)
- **Semantics:** Rounding and comparison functions provide standard operations for number manipulation and comparison.
- **Edge Cases:** NaN inputs, Infinity, floating-point comparison (epsilon)
- **Failure Modes:** None (returns NaN for invalid inputs)
- **Dependencies:** None (standard math library)
- **Tests Required:** Test all functions, test edge cases, test floating-point comparison

**ATOM-LANG-0838-004: Random Number Generation (RNG)**
- **Parent:** SPEC-LANG-0838
- **Source:** REQ-295, SSOT Section 9.10
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Implement pseudorandom number generator (PRNG) using PCG algorithm
  - Support seeding with custom seed
  - Support unseeded generation (random seed from OS entropy)
  - Generate random integers (uniform distribution)
  - Generate random floats (uniform distribution, [0.0, 1.0))
- **Semantics:** RNG provides pseudorandom number generation for simulations, games, and algorithms.
- **Edge Cases:** Seed initialization, very large seeds, sequence repeatability
- **Failure Modes:** None (PRNG always produces values)
- **Dependencies:** OS entropy source (for unseeded generation)
- **Tests Required:** Test RNG initialization, test seeding, test distribution, test repeatability

**ATOM-LANG-0838-005: Random Distribution Sampling (uniform, normal, etc.)**
- **Parent:** SPEC-LANG-0838
- **Source:** REQ-295, SSOT Section 9.10
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Implement uniform distribution sampling (integers, floats, ranges)
  - Implement normal (Gaussian) distribution sampling
  - Implement exponential distribution sampling
  - Support custom distribution parameters (mean, stddev, lambda)
  - Use RNG for sampling
- **Semantics:** Distribution sampling provides random values from statistical distributions for simulations and algorithms.
- **Edge Cases:** Invalid parameters (negative stddev), edge distribution values
- **Failure Modes:** ERR-MATH-001 (invalid distribution parameters)
- **Dependencies:** ATOM-LANG-0838-004 (RNG)
- **Tests Required:** Test uniform sampling, test normal sampling, test exponential sampling, test parameters

**ATOM-LANG-0838-006: Random Shuffling and Sampling (shuffle, choice)**
- **Parent:** SPEC-LANG-0838
- **Source:** REQ-295, SSOT Section 9.10
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Implement Fisher-Yates shuffle algorithm for shuffling lists
  - Implement random choice from list (single element)
  - Implement random sample from list (multiple elements without replacement)
  - Use RNG for randomness
  - Ensure uniform distribution of shuffles
- **Semantics:** Shuffling and sampling provide random permutations and selections from lists.
- **Edge Cases:** Empty lists, single-element lists, sample size > list size
- **Failure Modes:** ERR-MATH-002 (invalid sample size)
- **Dependencies:** ATOM-LANG-0838-004 (RNG)
- **Tests Required:** Test shuffle, test choice, test sample, test distribution

================================================================================
ATOM Decomposition: SPEC-LANG-0835 (Time and Duration Utilities)
================================================================================

**Parent LEAF:** SPEC-LANG-0835: Time and Duration Utilities
**Source:** REQ-292, SSOT Section 9.7
**Decomposition Rationale:** This LEAF combines three independent time-related types (Instant, Duration, DateTime) that can be implemented separately. Each type has distinct use cases, implementation concerns, and dependencies.

**ATOM-LANG-0835-001: Instant Type Definition**
- **Parent:** SPEC-LANG-0835
- **Source:** REQ-292, SSOT Section 9.7
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Implement `Instant` type for monotonic time measurements
  - Support `now()` method to get current instant
  - Support elapsed time calculation (`elapsed()` method)
  - Ensure monotonicity (never goes backwards)
  - Support comparison operations (ordering)
- **Semantics:** Instant type provides monotonic time for measuring durations, immune to system clock changes.
- **Edge Cases:** System clock jumps (immune), very large durations, negative elapsed (impossible)
- **Failure Modes:** None (monotonic time always increases)
- **Dependencies:** OS monotonic clock API
- **Tests Required:** Test instant creation, test elapsed, test monotonicity, test comparison

**ATOM-LANG-0835-002: Duration Core (Type and Conversion)**
- **Parent:** SPEC-LANG-0835
- **Source:** REQ-292, SSOT Section 9.7
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Implement `Duration` type for time spans
  - Support duration construction (seconds, milliseconds, nanoseconds)
  - Support duration conversion (to seconds, milliseconds, nanoseconds)
  - Support component access (seconds, subsec_nanos)
  - Ensure accurate representation (nanosecond precision)
- **Semantics:** Duration type represents time spans with nanosecond precision for timing and delays.
- **Edge Cases:** Very large durations, negative durations (not supported), zero duration
- **Failure Modes:** None (duration is a value type)
- **Dependencies:** None (duration is primitive)
- **Tests Required:** Test construction, test conversion, test components, test precision

**ATOM-LANG-0835-006: Duration Arithmetic and Comparison**
- **Parent:** SPEC-LANG-0835
- **Source:** REQ-292, SSOT Section 9.7
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Support duration arithmetic (addition, subtraction, multiplication by scalar)
  - Support duration comparison (ordering, equality)
  - Handle overflow/underflow (saturating arithmetic)
  - Support checked arithmetic (returns None on overflow)
- **Semantics:** Duration arithmetic provides operations for manipulating time spans.
- **Edge Cases:** Overflow, underflow, very large durations
- **Failure Modes:** None (saturating arithmetic prevents overflow)
- **Dependencies:** ATOM-LANG-0835-002 (Duration Core)
- **Tests Required:** Test arithmetic, test comparison, test overflow, test checked arithmetic

**ATOM-LANG-0835-008: Duration Sleep and Timeout**
- **Parent:** SPEC-LANG-0835
- **Source:** REQ-292, SSOT Section 9.7
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Implement `sleep(duration)` function for thread sleep
  - Implement timeout support for blocking operations
  - Support sleep interruption (if supported by OS)
  - Ensure accurate sleep duration (within OS scheduler precision)
- **Semantics:** Sleep and timeout provide time-based delays and operation timeouts.
- **Edge Cases:** Very short sleeps (0 duration), very long sleeps, sleep interruption
- **Failure Modes:** None (sleep always completes)
- **Dependencies:** ATOM-LANG-0835-002 (Duration Core), OS sleep API
- **Tests Required:** Test sleep, test timeout, test interruption, test accuracy

**ATOM-LANG-0835-003: DateTime Type Definition**
- **Parent:** SPEC-LANG-0835
- **Source:** REQ-292, SSOT Section 9.7
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Implement `DateTime` type for calendar dates and times
  - Support date and time components (year, month, day, hour, minute, second, nanosecond)
  - Handle clock drift (not handled, system clock assumed accurate)
  - Handle system clock changes (uses system clock, no guarantees if clock changes)
- **Semantics:** DateTime type definition provides the DateTime type for representing calendar dates and times.
- **Edge Cases:** Clock drift, system clock changes, date/time component edge cases
- **Failure Modes:** None (type definition, errors handled by timezone support)
- **Dependencies:** None (date/time type)
- **Tests Required:** Test date/time components, test clock drift (no handling), test system clock changes

**ATOM-LANG-0835-009: DateTime Timezone Support**
- **Parent:** SPEC-LANG-0835
- **Source:** REQ-292, SSOT Section 9.7
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Support timezone support via IANA timezone database (all IANA timezones supported)
  - Support timezone representation as strings (IANA timezone identifiers, e.g., "America/New_York")
  - Support timezone transitions (DST transitions handled automatically by IANA database)
  - Support leap seconds (ignored, standard practice)
  - Handle invalid timezone data (error ERR-TIME-001)
- **Semantics:** DateTime timezone support provides timezone functionality for DateTime values via IANA timezone database.
- **Edge Cases:** Leap seconds (ignored), timezone transitions (DST), invalid timezone data
- **Failure Modes:** ERR-TIME-001 (invalid timezone data)
- **Dependencies:** ATOM-LANG-0835-003 (DateTime Type Definition), IANA timezone database (system-provided or bundled)
- **Tests Required:** Test timezone support (all IANA timezones), test timezone transitions (DST), test leap seconds (ignored), test invalid timezone data (error)

**ATOM-LANG-0835-007: DateTime Arithmetic**
- **Parent:** SPEC-LANG-0835
- **Source:** REQ-292, SSOT Section 9.7
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Support date/time arithmetic (adding/subtracting durations)
  - Handle timezone-aware arithmetic (preserve timezone)
  - Handle arithmetic edge cases (very large date/time values)
- **Semantics:** DateTime arithmetic provides operations for adding and subtracting durations from DateTime values.
- **Edge Cases:** Very large date/time values, timezone-aware arithmetic
- **Failure Modes:** None (arithmetic operations, no errors)
- **Dependencies:** ATOM-LANG-0835-003 (DateTime Type Definition), ATOM-LANG-0835-009 (DateTime Timezone Support), ATOM-LANG-0835-002 (Duration Core (Type and Conversion)), ATOM-LANG-0835-006 (Duration Arithmetic and Comparison)
- **Tests Required:** Test date/time arithmetic, test timezone-aware arithmetic, test very large date/time values

**ATOM-LANG-0835-004: DateTime Standard Format Formatting**
- **Parent:** SPEC-LANG-0835
- **Source:** REQ-292, SSOT Section 9.7
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Implement date/time formatting (DateTime to string)
  - Support standard format strings (ISO 8601, RFC 3339)
  - Support timezone formatting in output
- **Semantics:** DateTime standard format formatting converts DateTime to standard string formats (ISO 8601, RFC 3339) with timezone support.
- **Edge Cases:** Timezone formatting, edge cases in standard formats
- **Failure Modes:** None (standard formats, errors handled by custom formatting)
- **Dependencies:** ATOM-LANG-0835-003 (DateTime Type Definition), ATOM-LANG-0835-009 (DateTime Timezone Support)
- **Tests Required:** Test formatting (ISO 8601, RFC 3339), test timezone formatting

**ATOM-LANG-0835-010: DateTime Custom Format Formatting**
- **Parent:** SPEC-LANG-0835
- **Source:** REQ-292, SSOT Section 9.7
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Support custom format strings (strftime-like syntax)
  - Handle invalid format strings (ERR-TIME-002)
  - Support timezone formatting in custom formats
- **Semantics:** DateTime custom format formatting converts DateTime to custom string formats using strftime-like syntax.
- **Edge Cases:** Invalid format strings, timezone formatting, edge cases in format strings
- **Failure Modes:** ERR-TIME-002 (invalid format string)
- **Dependencies:** ATOM-LANG-0835-003 (DateTime Type Definition), ATOM-LANG-0835-009 (DateTime Timezone Support)
- **Tests Required:** Test custom formats, test invalid formats (errors), test timezone formatting in custom formats

**ATOM-LANG-0835-005: DateTime Standard Format Parsing**
- **Parent:** SPEC-LANG-0835
- **Source:** REQ-292, SSOT Section 9.7
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Implement date/time parsing (string to DateTime)
  - Support parsing standard formats (ISO 8601, RFC 3339)
  - Support timezone parsing and conversion
- **Semantics:** DateTime standard format parsing converts standard string formats (ISO 8601, RFC 3339) to DateTime with timezone support.
- **Edge Cases:** Invalid date/time strings, ambiguous formats, timezone handling in parsing
- **Failure Modes:** ERR-TIME-003 (parsing error)
- **Dependencies:** ATOM-LANG-0835-003 (DateTime Type Definition), ATOM-LANG-0835-009 (DateTime Timezone Support)
- **Tests Required:** Test parsing (ISO 8601, RFC 3339), test parsing errors, test timezone parsing, test ambiguous formats

**ATOM-LANG-0835-011: DateTime Custom Format Parsing**
- **Parent:** SPEC-LANG-0835
- **Source:** REQ-292, SSOT Section 9.7
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Support parsing custom formats
  - Handle parsing errors (ERR-TIME-003 for invalid date/time string)
  - Support timezone parsing in custom formats
- **Semantics:** DateTime custom format parsing converts custom string formats to DateTime using format string matching.
- **Edge Cases:** Invalid date/time strings, format string mismatches, timezone handling in parsing
- **Failure Modes:** ERR-TIME-003 (parsing error)
- **Dependencies:** ATOM-LANG-0835-003 (DateTime Type Definition), ATOM-LANG-0835-009 (DateTime Timezone Support)
- **Tests Required:** Test custom parsing, test parsing errors, test timezone parsing in custom formats

================================================================================
ATOM Decomposition: SPEC-LANG-0007 (Punctuation and Comment Tokens)
================================================================================

**Parent LEAF:** SPEC-LANG-0007: Punctuation and Comment Tokens
**Source:** SPEC-LANG-0001, REQ-037, SSOT Section 3.1
**Decomposition Rationale:** This LEAF combines punctuation token recognition and comment/docstring token recognition, which are independent lexical concerns that can be implemented separately.

**ATOM-LANG-0007-001: Punctuation Token Recognition**
- **Parent:** SPEC-LANG-0007
- **Source:** SPEC-LANG-0001, SSOT Section 3.1
- **Status:** EXISTS-TODAY
- **Priority:** P0
- **DoD:**
  - Recognize all punctuation tokens: ( ) [ ] { } , : ; . -> =>
  - Tokenize punctuation characters correctly
  - Handle multi-character punctuation (-> =>)
  - Emit punctuation tokens with correct type
- **Semantics:** Punctuation token recognition identifies punctuation characters and emits tokens for parser consumption.
- **Edge Cases:** Multi-character punctuation, ambiguous punctuation (e.g., -)
- **Failure Modes:** None (punctuation always recognized)
- **Dependencies:** None (lexical analysis)
- **Tests Required:** Test all punctuation characters, test multi-character punctuation

**ATOM-LANG-0007-002: Single-line Comment Recognition**
- **Parent:** SPEC-LANG-0007
- **Source:** SPEC-LANG-0001, REQ-037, SSOT Section 3.1
- **Status:** EXISTS-TODAY
- **Priority:** P0
- **DoD:**
  - Recognize single-line comments starting with #
  - Skip comment content (not tokenized)
  - Handle comments at end of line
  - Handle comments on empty lines
- **Semantics:** Single-line comment recognition skips comments from # to end of line.
- **Edge Cases:** Comments inside strings (not comments), empty comments, very long comments
- **Failure Modes:** None (comments skipped)
- **Dependencies:** None (lexical analysis)
- **Tests Required:** Test single-line comments, test end-of-line comments, test empty lines

**ATOM-LANG-0007-003: Multi-line Comment and Docstring Recognition**
- **Parent:** SPEC-LANG-0007
- **Source:** SPEC-LANG-0001, REQ-037, SSOT Section 3.1
- **Status:** EXISTS-TODAY
- **Priority:** P0
- **DoD:**
  - Recognize multi-line comments/docstrings using """ (triple quotes)
  - Skip comment content or preserve docstrings (parser determines)
  - Handle unterminated multi-line comments (ERR-LEX-003)
  - Support both comment and docstring contexts
- **Semantics:** Multi-line comment/docstring recognition identifies """ delimited blocks for comments or documentation.
- **Edge Cases:** Unterminated comments, nested quotes, very large comments
- **Failure Modes:** ERR-LEX-003 (unterminated multi-line comment)
- **Dependencies:** None (lexical analysis)
- **Tests Required:** Test multi-line comments, test docstrings, test unterminated, test nested quotes

================================================================================
ATOM Decomposition: SPEC-LANG-0106 (Index and Slice Expression Parsing)
================================================================================

**Parent LEAF:** SPEC-LANG-0106: Index and Slice Expression Parsing
**Source:** SPEC-LANG-0100, SSOT Section 3
**Decomposition Rationale:** This LEAF combines index expression parsing and slice expression parsing, which are related but distinct syntactic constructs that can be implemented separately for clarity.

**ATOM-LANG-0106-001: Index Expression Parsing (Basic)**
- **Parent:** SPEC-LANG-0106
- **Source:** SPEC-LANG-0100, SSOT Section 3
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Parse index expressions: `arr[index]`
  - Support any integer expression as index (literals, variables, function calls, operators)
  - Handle empty brackets error (ERR-PARSE-009)
  - Support nested indexing: `matrix[i][j]` (left-associative)
  - Build AST node for index expression
- **Semantics:** Index expression parsing recognizes array/list indexing syntax and builds AST for type checking and codegen.
- **Edge Cases:** Empty brackets, complex index expressions, nested indexing
- **Failure Modes:** ERR-PARSE-009 (empty brackets)
- **Dependencies:** SPEC-LANG-0101 (Primary Expression Parsing) for base expression
- **Tests Required:** Test index expressions, test nested indexing, test complex expressions, test empty brackets

**ATOM-LANG-0106-002: Slice Expression Parsing (Basic)**
- **Parent:** SPEC-LANG-0106
- **Source:** SPEC-LANG-0100, SSOT Section 3
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Parse slice expressions: `arr[start:end]`, `arr[:end]`, `arr[start:]`, `arr[:]`
  - Support optional start and end expressions
  - Handle invalid slice syntax (ERR-PARSE-010)
  - Build AST node for slice expression
  - Extended slicing (`[start:end:step]`) NOT supported in initial version
- **Semantics:** Slice expression parsing recognizes slice syntax for extracting sub-ranges from arrays/lists.
- **Edge Cases:** Missing start/end, invalid syntax, extended slicing (not supported)
- **Failure Modes:** ERR-PARSE-010 (invalid slice syntax)
- **Dependencies:** SPEC-LANG-0101 (Primary Expression Parsing) for base expression
- **Tests Required:** Test all slice variations, test invalid syntax, test edge cases

**ATOM-LANG-0106-003: Index/Slice Type Checking Integration**
- **Parent:** SPEC-LANG-0106
- **Source:** SPEC-LANG-0100, SSOT Section 3
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Integrate index/slice AST nodes with type checker
  - Verify index expression type (must be integer)
  - Verify base expression type (must be indexable: array, list, string)
  - Verify slice bounds if compile-time constants
  - Generate appropriate type checking errors
- **Semantics:** Type checking integration ensures index/slice expressions are type-correct before codegen.
- **Edge Cases:** Non-integer indices, non-indexable types, out-of-bounds (runtime)
- **Failure Modes:** Type checking errors (ERR-TYPE-XXX)
- **Dependencies:** ATOM-LANG-0106-001 (Index Parsing), ATOM-LANG-0106-002 (Slice Parsing), SPEC-LANG-0200 series (Type Checking)
- **Tests Required:** Test type checking, test error cases, test indexable types

================================================================================
ATOM Decomposition: SPEC-QUARRY-0031 (Coverage-guided Fuzzing)
================================================================================

**Parent LEAF:** SPEC-QUARRY-0031: Coverage-guided Fuzzing (quarry fuzz)
**Source:** REQ-182, REQ-183, REQ-184, SSOT Section 8.9
**Decomposition Rationale:** This LEAF combines multiple independent concerns (fuzzing engine integration, coverage tracking, crash handling, test generation) that can be implemented as separate ATOMs.

**ATOM-QUARRY-0031-001: @fuzz Attribute and Function Validation**
- **Parent:** SPEC-QUARRY-0031
- **Source:** REQ-182, SSOT Section 8.9
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Implement @fuzz attribute syntax: `@fuzz fn fuzz_target(input: &[u8]) { ... }`
  - Validate fuzzing function constraints (deterministic, fuzzable input type, no side effects)
  - Support custom fuzz input types (`FuzzInput` trait)
  - Generate error for invalid fuzz functions (ERR-FUZZ-001, ERR-FUZZ-002)
  - Integrate with compiler attribute system
- **Semantics:** @fuzz attribute marks functions as fuzzing targets with validation to ensure compatibility with fuzzing engine.
- **Edge Cases:** Non-deterministic functions, invalid input types, side effects
- **Failure Modes:** ERR-FUZZ-001 (non-deterministic function), ERR-FUZZ-002 (invalid input type)
- **Dependencies:** SPEC-LANG-0400 series (Attributes) for attribute system
- **Tests Required:** Test @fuzz attribute, test validation, test error cases

**ATOM-QUARRY-0031-002: Coverage Instrumentation**
- **Parent:** SPEC-QUARRY-0031
- **Source:** REQ-183, SSOT Section 8.9
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Insert coverage instrumentation during compilation
  - Track line coverage (primary metric)
  - Track branch coverage (optional)
  - Generate coverage map for fuzzing engine feedback
  - Integrate with LLVM instrumentation passes
- **Semantics:** Coverage instrumentation inserts runtime tracking code to measure which code paths are executed during fuzzing.
- **Edge Cases:** Very large coverage maps, performance overhead, instrumentation conflicts
- **Failure Modes:** None (instrumentation always succeeds)
- **Dependencies:** SPEC-FORGE-0007 (Code Generation Phase) for instrumentation
- **Tests Required:** Test instrumentation, test coverage tracking, test coverage maps

**ATOM-QUARRY-0031-003: LibFuzzer Integration**
- **Parent:** SPEC-QUARRY-0031
- **Source:** REQ-182, SSOT Section 8.9
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Integrate LibFuzzer as default fuzzing engine
  - Generate LibFuzzer-compatible entry point for fuzz targets
  - Support LibFuzzer command-line options (via quarry fuzz flags)
  - Link fuzzing target with LibFuzzer runtime
  - Support alternative fuzzing engine (AFL via --fuzzer=afl)
- **Semantics:** LibFuzzer integration enables coverage-guided fuzzing using LLVM's LibFuzzer engine.
- **Edge Cases:** LibFuzzer not available, fuzzing engine conflicts
- **Failure Modes:** ERR-FUZZ-003 (fuzzing engine integration failure)
- **Dependencies:** ATOM-QUARRY-0031-001 (@fuzz Attribute), ATOM-QUARRY-0031-002 (Coverage Instrumentation), LibFuzzer runtime library
- **Tests Required:** Test LibFuzzer integration, test AFL integration, test fuzzing execution

**ATOM-QUARRY-0031-004: Crash Input Capture and Storage**
- **Parent:** SPEC-QUARRY-0031
- **Source:** REQ-184, SSOT Section 8.9
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Capture crash-inducing inputs from fuzzing engine
  - Save crash inputs to `fuzz/crashes/` directory (one file per crash)
  - Generate metadata file (JSON) with crash information (timestamp, error message, stack trace)
  - Support binary crash input format (raw bytes)
  - Handle concurrent crash saves (multiple fuzzing processes)
- **Semantics:** Crash capture saves inputs that trigger crashes for debugging and regression testing.
- **Edge Cases:** Very large crash inputs, concurrent crashes, disk space issues
- **Failure Modes:** ERR-FUZZ-004 (crash save failure)
- **Dependencies:** ATOM-QUARRY-0031-003 (LibFuzzer Integration) for crash detection
- **Tests Required:** Test crash capture, test storage, test metadata, test concurrent saves

**ATOM-QUARRY-0031-005: Regression Test Generation**
- **Parent:** SPEC-QUARRY-0031
- **Source:** REQ-184, SSOT Section 8.9
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Implement `quarry fuzz --reproduce <crash_file>` command
  - Generate regression test from crash input
  - Add test to test suite (tests/ directory)
  - Test reproduces crash (expects panic or error)
  - Support test naming based on crash timestamp
- **Semantics:** Regression test generation converts crash inputs into permanent test cases to prevent regressions.
- **Edge Cases:** Duplicate crash inputs, test naming conflicts, non-reproducible crashes
- **Failure Modes:** ERR-FUZZ-005 (test generation failure)
- **Dependencies:** ATOM-QUARRY-0031-004 (Crash Capture), SPEC-QUARRY-0016 (Test Runner) for test integration
- **Tests Required:** Test test generation, test reproduction, test test suite integration

**ATOM-QUARRY-0031-006: Fuzzing CLI and Orchestration**
- **Parent:** SPEC-QUARRY-0031
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Implement `quarry fuzz` command
  - Support fuzzing options (--timeout, --runs, --fuzzer)
  - Orchestrate fuzzing workflow (compile, instrument, run fuzzer, collect crashes)
  - Display fuzzing progress (executions/sec, coverage, crashes)
  - Support parallel fuzzing (multiple processes)
- **Semantics:** Fuzzing CLI provides user interface and workflow orchestration for fuzzing campaigns.
- **Edge Cases:** Fuzzing timeout, parallel process coordination, progress display
- **Failure Modes:** None (CLI errors handled gracefully)
- **Dependencies:** ATOM-QUARRY-0031-001 (@fuzz Attribute), ATOM-QUARRY-0031-002 (Coverage), ATOM-QUARRY-0031-003 (LibFuzzer), ATOM-QUARRY-0031-004 (Crash Capture), ATOM-QUARRY-0031-005 (Test Generation)
- **Tests Required:** Test CLI, test workflow, test parallel fuzzing, test progress display

================================================================================
ATOM Decomposition: SPEC-QUARRY-0035 (Automated Documentation Generation)
================================================================================

**Parent LEAF:** SPEC-QUARRY-0035: Automated Documentation Generation (quarry doc)
**Source:** REQ-194, SSOT Section 8.11
**Decomposition Rationale:** This LEAF combines multiple independent concerns (doc comment parsing, API extraction, HTML generation, tested examples) that can be implemented as separate ATOMs.

**ATOM-QUARRY-0035-001: Doc Comment Parsing**
- **Parent:** SPEC-QUARRY-0035
- **Source:** REQ-194, SSOT Section 8.11
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Parse triple-quoted doc comments (`"""..."""`)
  - Support Markdown markup in doc comments (headers, lists, code blocks, links)
  - Extract doc comments from source files (module, function, struct, enum level)
  - Associate doc comments with declared items
  - Handle malformed Markdown (best-effort rendering)
- **Semantics:** Doc comment parsing extracts and parses documentation from source code comments.
- **Edge Cases:** Malformed Markdown, very large doc comments, special characters
- **Failure Modes:** None (best-effort parsing)
- **Dependencies:** SPEC-LANG-0007 (Comment Tokens) for comment recognition
- **Tests Required:** Test parsing, test Markdown support, test association

**ATOM-QUARRY-0035-002: Public API Extraction**
- **Parent:** SPEC-QUARRY-0035
- **Source:** REQ-194, SSOT Section 8.11
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Extract public API signatures (functions, types, traits) from compiled code
  - Identify public items via `pub` keyword (SPEC-LANG-0012)
  - Extract function signatures (parameters, return types)
  - Extract type definitions (fields, methods)
  - Generate API manifest (JSON) for documentation
- **Semantics:** Public API extraction identifies and extracts public items for documentation generation.
- **Edge Cases:** Private items (excluded), generic types, trait implementations
- **Failure Modes:** None (extraction always succeeds)
- **Dependencies:** SPEC-LANG-0012 (Visibility Modifiers), SPEC-FORGE-0004 (Name Resolution) for API identification
- **Tests Required:** Test extraction, test public/private filtering, test signatures

**ATOM-QUARRY-0035-003: HTML Documentation Generation**
- **Parent:** SPEC-QUARRY-0035
- **Source:** REQ-194, SSOT Section 8.11
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Generate HTML documentation from API manifest and doc comments
  - Support standard structure (navigation, content pages, search)
  - Apply default theme (readable, modern CSS)
  - Support syntax highlighting for code examples
  - Generate cross-references (links between items)
  - Support customization via CSS (optional)
- **Semantics:** HTML generation creates browsable documentation website from extracted API and doc comments.
- **Edge Cases:** Very large APIs, cross-reference resolution, custom themes
- **Failure Modes:** ERR-DOC-001 (HTML generation failure)
- **Dependencies:** ATOM-QUARRY-0035-001 (Doc Comment Parsing), ATOM-QUARRY-0035-002 (API Extraction)
- **Tests Required:** Test HTML generation, test navigation, test theme, test cross-references

**ATOM-QUARRY-0035-004: Tested Example Parsing and Execution**
- **Parent:** SPEC-QUARRY-0035
- **Source:** REQ-194, SSOT Section 8.11
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Parse code examples from doc comments (```pyrite ... ``` blocks)
  - Extract examples as runnable tests
  - Execute examples via test runner (SPEC-QUARRY-0016)
  - Report example failures (WARN-DOC-001, documentation still generated)
  - Support example annotations (```no_run, ignore```)
- **Semantics:** Tested examples ensure code examples in documentation are correct and runnable.
- **Edge Cases:** Non-runnable examples (no_run), failing examples, very large examples
- **Failure Modes:** WARN-DOC-001 (example failure, warning only)
- **Dependencies:** ATOM-QUARRY-0035-001 (Doc Comment Parsing), SPEC-QUARRY-0016 (Test Runner) for example execution
- **Tests Required:** Test example parsing, test execution, test failures, test annotations

**ATOM-QUARRY-0035-005: Documentation CLI and Orchestration**
- **Parent:** SPEC-QUARRY-0035
- **Source:** REQ-194, SSOT Section 8.11
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Implement `quarry doc` command
  - Support documentation options (--output-dir, --theme, --no-examples)
  - Orchestrate documentation workflow (parse, extract, generate, test examples)
  - Display progress and warnings
  - Open generated documentation in browser (optional, --open)
- **Semantics:** Documentation CLI provides user interface and workflow orchestration for documentation generation.
- **Edge Cases:** Output directory conflicts, missing examples, browser launch
- **Failure Modes:** None (CLI errors handled gracefully)
- **Dependencies:** ATOM-QUARRY-0035-001 (Parsing), ATOM-QUARRY-0035-002 (Extraction), ATOM-QUARRY-0035-003 (HTML Generation), ATOM-QUARRY-0035-004 (Tested Examples)
- **Tests Required:** Test CLI, test workflow, test options, test browser launch

================================================================================
ATOM Decomposition: SPEC-QUARRY-0103 (Allocation Profiling - quarry alloc)
================================================================================

**Parent LEAF:** SPEC-QUARRY-0103: Allocation Profiling (quarry alloc)
**Source:** REQ-199, REQ-200, SSOT Section 8.13
**Decomposition Rationale:** This LEAF combines multiple independent concerns (instrumentation, tracking, analysis, reporting) for allocation profiling that can be implemented as separate ATOMs.

**ATOM-QUARRY-0103-001: Allocation Instrumentation**
- **Parent:** SPEC-QUARRY-0103
- **Source:** REQ-199, SSOT Section 8.13
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Insert allocation tracking instrumentation during compilation
  - Hook allocation functions (malloc, free, new, delete)
  - Record allocation events (size, location, stack trace)
  - Support conditional instrumentation (only in alloc profiling mode)
  - Minimize performance overhead (< 10% slowdown)
- **Semantics:** Allocation instrumentation records all heap allocations for profiling and analysis.
- **Edge Cases:** Very frequent allocations, large allocations, instrumentation overhead
- **Failure Modes:** None (instrumentation always succeeds)
- **Dependencies:** SPEC-FORGE-0007 (Code Generation) for instrumentation passes
- **Tests Required:** Test instrumentation, test allocation tracking, test overhead

**ATOM-QUARRY-0103-002: Allocation Event Tracking and Storage**
- **Parent:** SPEC-QUARRY-0103
- **Source:** REQ-199, SSOT Section 8.13
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Store allocation events in memory (ring buffer for efficiency)
  - Track allocation count, total bytes, allocation sites
  - Support periodic flushing to disk (optional, for long-running programs)
  - Handle large event volumes (millions of allocations)
  - Generate allocation profile data file
- **Semantics:** Event tracking stores allocation data for analysis and reporting.
- **Edge Cases:** Very large profiles, memory pressure, concurrent allocations
- **Failure Modes:** ERR-PROF-001 (tracking failure, out of memory)
- **Dependencies:** ATOM-QUARRY-0103-001 (Allocation Instrumentation)
- **Tests Required:** Test tracking, test storage, test flushing, test large volumes

**ATOM-QUARRY-0103-003: Allocation Site Analysis**
- **Parent:** SPEC-QUARRY-0103
- **Source:** REQ-200, SSOT Section 8.13
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Analyze allocation profile data
  - Identify allocation hotspots (by count and bytes)
  - Generate stack traces for allocation sites
  - Calculate aggregate statistics (total, average, peak)
  - Support filtering by allocation size or call stack
- **Semantics:** Allocation analysis identifies performance bottlenecks and memory usage patterns.
- **Edge Cases:** Recursive allocations, transient allocations, aggregation accuracy
- **Failure Modes:** None (analysis always succeeds)
- **Dependencies:** ATOM-QUARRY-0103-002 (Event Tracking)
- **Tests Required:** Test analysis, test hotspot identification, test statistics

**ATOM-QUARRY-0103-004: Allocation Profile Reporting**
- **Parent:** SPEC-QUARRY-0103
- **Source:** REQ-200, SSOT Section 8.13
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Generate allocation profile report (text or HTML)
  - Display top allocation sites (ranked by count or bytes)
  - Display stack traces with source locations
  - Support interactive report (HTML with filtering, sorting)
  - Support export to standard formats (CSV, JSON)
- **Semantics:** Profile reporting presents allocation data in human-readable format for optimization.
- **Edge Cases:** Very large reports, missing source locations, export format errors
- **Failure Modes:** None (report generation errors logged)
- **Dependencies:** ATOM-QUARRY-0103-003 (Allocation Analysis)
- **Tests Required:** Test reporting, test formats, test interactive reports

**ATOM-QUARRY-0103-005: Allocation Profiling CLI**
- **Parent:** SPEC-QUARRY-0103
- **Source:** REQ-199, REQ-200, SSOT Section 8.13
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Implement `quarry alloc <binary>` command
  - Run binary with allocation profiling enabled
  - Collect allocation profile
  - Generate and display report
  - Support profiling options (--report-format, --filter, --top-n)
- **Semantics:** Allocation profiling CLI provides user interface for allocation profiling workflow.
- **Edge Cases:** Binary execution errors, profiling overhead, report display
- **Failure Modes:** None (CLI errors handled gracefully)
- **Dependencies:** ATOM-QUARRY-0103-001 (Instrumentation), ATOM-QUARRY-0103-002 (Tracking), ATOM-QUARRY-0103-003 (Analysis), ATOM-QUARRY-0103-004 (Reporting)
- **Tests Required:** Test CLI, test workflow, test options

================================================================================
ATOM Decomposition: SPEC-FORGE-0009 (Parser Driver and Error Recovery)
================================================================================

**Parent LEAF:** SPEC-FORGE-0009: Parser Driver and Error Recovery
**Source:** SPEC-FORGE-0003, SSOT Section 3
**Decomposition Rationale:** This LEAF combines parser driver logic and error recovery mechanism, which are independent concerns that can be implemented separately for better testability.

**ATOM-FORGE-0009-001: Parser Driver and Orchestration**
- **Parent:** SPEC-FORGE-0009
- **Source:** SPEC-FORGE-0003, SSOT Section 3
- **Status:** EXISTS-TODAY
- **Priority:** P0
- **DoD:**
  - Implement parser driver that orchestrates parsing workflow
  - Coordinate lexer and parser
  - Build complete AST from token stream
  - Handle module-level parsing (top-level declarations)
  - Support incremental parsing (if caching enabled)
- **Semantics:** Parser driver coordinates parsing workflow and builds complete AST.
- **Edge Cases:** Empty files, very large files, parse errors
- **Failure Modes:** Parse errors (forwarded to error recovery)
- **Dependencies:** SPEC-FORGE-0002 (Lexical Analysis) for tokens
- **Tests Required:** Test driver logic, test AST building, test coordination

**ATOM-FORGE-0009-002: Parser Error Recovery Mechanism**
- **Parent:** SPEC-FORGE-0009
- **Source:** SPEC-FORGE-0003, SSOT Section 3
- **Status:** EXISTS-TODAY
- **Priority:** P0
- **DoD:**
  - Implement error recovery strategies (synchronization tokens, panic mode)
  - Continue parsing after errors (collect multiple errors)
  - Generate meaningful error messages with context
  - Support error recovery at statement and expression boundaries
  - Ensure partial AST can be built even with errors
- **Semantics:** Error recovery allows parser to continue after syntax errors and collect multiple errors for user feedback.
- **Edge Cases:** Cascading errors, ambiguous recovery points, multiple errors in sequence
- **Failure Modes:** None (recovery enables continued parsing)
- **Dependencies:** ATOM-FORGE-0009-001 (Parser Driver), SPEC-FORGE-0100 (Diagnostic System) for error reporting
- **Tests Required:** Test error recovery, test multiple errors, test partial AST

**ATOM-FORGE-0009-003: Parser Performance Optimization**
- **Parent:** SPEC-FORGE-0009
- **Source:** SPEC-FORGE-0003, SSOT Section 3
- **Status:** EXISTS-TODAY
- **Priority:** P1
- **DoD:**
  - Optimize parser for performance (reduce allocations, efficient data structures)
  - Support parser profiling and benchmarking
  - Cache frequently-accessed data (operator precedence tables)
  - Minimize backtracking
  - Achieve target performance (> 100K lines/sec)
- **Semantics:** Parser optimization ensures fast parsing for large codebases.
- **Edge Cases:** Very large files, deeply nested structures, complex expressions
- **Failure Modes:** None (optimization doesn't affect correctness)
- **Dependencies:** ATOM-FORGE-0009-001 (Parser Driver)
- **Tests Required:** Test performance benchmarks, test large files

================================================================================
ATOM Decomposition: SPEC-QUARRY-0017 (Package Dependency Resolution)
================================================================================

**Parent LEAF:** SPEC-QUARRY-0017: Package Dependency Resolution (Basic Versioning)
**Source:** REQ-161, REQ-162, SSOT Section 8.2
**Decomposition Rationale:** This LEAF combines multiple independent concerns (version parsing, constraint checking, graph resolution, conflict detection) that can be implemented as separate ATOMs.

**ATOM-QUARRY-0017-001: Version Parsing and Comparison**
- **Parent:** SPEC-QUARRY-0017
- **Source:** REQ-161, REQ-162, SSOT Section 8.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Implement semantic versioning (SemVer) parser (major.minor.patch)
  - Support version comparison (ordering, equality)
  - Support pre-release versions (alpha, beta, rc)
  - Support version metadata (+build.123)
  - Handle invalid versions (ERR-DEP-001)
- **Semantics:** Version parsing and comparison enables dependency version management following SemVer specification.
- **Edge Cases:** Invalid versions, pre-release ordering, metadata handling
- **Failure Modes:** ERR-DEP-001 (invalid version format)
- **Dependencies:** None (version parsing is independent)
- **Tests Required:** Test parsing, test comparison, test pre-release, test metadata

**ATOM-QUARRY-0017-002: Version Constraint Evaluation**
- **Parent:** SPEC-QUARRY-0017
- **Source:** REQ-161, REQ-162, SSOT Section 8.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Implement version constraint syntax (^1.2.3, ~1.2.3, >=1.2.3, 1.2.*)
  - Support constraint evaluation (does version satisfy constraint?)
  - Support compound constraints (>= 1.2.0, < 2.0.0)
  - Handle caret (^) and tilde (~) semantics (SemVer-compatible)
  - Generate error for invalid constraints (ERR-DEP-002)
- **Semantics:** Version constraint evaluation determines if a version satisfies dependency requirements.
- **Edge Cases:** Invalid constraints, ambiguous constraints, empty constraints
- **Failure Modes:** ERR-DEP-002 (invalid constraint)
- **Dependencies:** ATOM-QUARRY-0017-001 (Version Parsing)
- **Tests Required:** Test constraint evaluation, test operators, test compound constraints

**ATOM-QUARRY-0017-003: Dependency Graph Construction**
- **Parent:** SPEC-QUARRY-0017
- **Source:** REQ-161, REQ-162, SSOT Section 8.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Build dependency graph from Quarry.toml and transitive dependencies
  - Represent packages and their version constraints as graph nodes/edges
  - Support recursive dependency traversal
  - Handle missing dependencies (ERR-DEP-003)
  - Detect cycles in dependency graph
- **Semantics:** Dependency graph construction builds a representation of package dependencies for resolution.
- **Edge Cases:** Missing dependencies, circular dependencies, very large graphs
- **Failure Modes:** ERR-DEP-003 (missing dependency)
- **Dependencies:** ATOM-QUARRY-0017-002 (Constraint Evaluation), SPEC-QUARRY-0012 (Config File Loading) for Quarry.toml
- **Tests Required:** Test graph construction, test traversal, test missing dependencies

**ATOM-QUARRY-0017-004: Dependency Conflict Detection**
- **Parent:** SPEC-QUARRY-0017
- **Source:** REQ-161, REQ-162, SSOT Section 8.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Detect version conflicts in dependency graph (incompatible constraints)
  - Identify conflicting packages and versions
  - Generate clear conflict error messages (ERR-DEP-004)
  - Support conflict visualization (which packages conflict)
  - Handle circular dependencies (ERR-DEP-005)
- **Semantics:** Conflict detection identifies incompatible dependency requirements before resolution.
- **Edge Cases:** Indirect conflicts, multiple conflicts, circular dependencies
- **Failure Modes:** ERR-DEP-004 (version conflict), ERR-DEP-005 (circular dependency)
- **Dependencies:** ATOM-QUARRY-0017-003 (Graph Construction)
- **Tests Required:** Test conflict detection, test error messages, test circular dependencies

**ATOM-QUARRY-0017-005: Dependency Resolution Algorithm**
- **Parent:** SPEC-QUARRY-0017
- **Source:** REQ-161, REQ-162, SSOT Section 8.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Implement dependency resolution algorithm (backtracking or SAT-based)
  - Select compatible versions for all dependencies
  - Prefer latest compatible versions (maximize versions)
  - Handle resolution failures gracefully (ERR-DEP-006)
  - Generate resolved dependency tree
  - Support resolution caching for performance
- **Semantics:** Resolution algorithm finds compatible versions for all dependencies satisfying all constraints.
- **Edge Cases:** No solution exists, multiple solutions, complex constraints
- **Failure Modes:** ERR-DEP-006 (resolution failure, no compatible versions)
- **Dependencies:** ATOM-QUARRY-0017-003 (Graph Construction), ATOM-QUARRY-0017-004 (Conflict Detection)
- **Tests Required:** Test resolution algorithm, test version selection, test resolution failures

**ATOM-QUARRY-0017-006: Resolved Dependencies Output (Quarry.lock)**
- **Parent:** SPEC-QUARRY-0017
- **Source:** REQ-161, REQ-162, SSOT Section 8.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Generate Quarry.lock file from resolved dependencies
  - Store exact versions for all dependencies (locked versions)
  - Include dependency metadata (checksums, sources)
  - Support lock file verification (quarry verify)
  - Update lock file on dependency changes
- **Semantics:** Lock file ensures reproducible builds by locking exact dependency versions.
- **Edge Cases:** Lock file corruption, outdated lock files, merge conflicts
- **Failure Modes:** ERR-DEP-007 (lock file generation failure)
- **Dependencies:** ATOM-QUARRY-0017-005 (Resolution Algorithm)
- **Tests Required:** Test lock file generation, test verification, test updates

================================================================================
ATOM Decomposition: SPEC-LANG-0823 (Lazy Iterator System)
================================================================================

**Parent LEAF:** SPEC-LANG-0823: Lazy Iterator System
**Source:** REQ-280, SSOT Section 9.1
**Decomposition Rationale:** This LEAF combines multiple independent iterator concepts (Iterator trait, adapters, consumers, lazy evaluation) that can be implemented separately for better modularity.

**ATOM-LANG-0823-001: Iterator Trait Definition**
- **Parent:** SPEC-LANG-0823
- **Source:** REQ-280, SSOT Section 9.1
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Define `Iterator[T]` trait with `next()` method
  - Support iterator protocol (next returns Optional[T])
  - Ensure trait is generic over element type
  - Support iterator chaining via default methods
  - Define iterator lifecycle (initialization, iteration, exhaustion)
- **Semantics:** Iterator trait provides common interface for iteration over collections.
- **Edge Cases:** Empty iterators, infinite iterators, iterator state
- **Failure Modes:** None (trait definition)
- **Dependencies:** SPEC-LANG-0227 (Optional Type) for return type
- **Tests Required:** Test trait definition, test iterator protocol

**ATOM-LANG-0823-002: Core Iterator Adapters (map, filter, take)**
- **Parent:** SPEC-LANG-0823
- **Source:** REQ-280, SSOT Section 9.1
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Implement `map` adapter (transform elements)
  - Implement `filter` adapter (filter elements by predicate)
  - Implement `take` adapter (limit number of elements)
  - Support adapter chaining (composability)
  - Ensure lazy evaluation (adapters don't execute until consumed)
- **Semantics:** Core adapters transform iterators lazily without immediate execution.
- **Edge Cases:** Empty iterators, infinite iterators, chained adapters
- **Failure Modes:** None (adapters are lazy)
- **Dependencies:** ATOM-LANG-0823-001 (Iterator Trait)
- **Tests Required:** Test map, test filter, test take, test chaining

**ATOM-LANG-0823-003: Advanced Iterator Adapters (zip, flat_map, enumerate)**
- **Parent:** SPEC-LANG-0823
- **Source:** REQ-280, SSOT Section 9.1
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Implement `zip` adapter (combine two iterators)
  - Implement `flat_map` adapter (flatten nested iterators)
  - Implement `enumerate` adapter (add index to elements)
  - Implement `skip` adapter (skip first n elements)
  - Implement `chain` adapter (concatenate iterators)
- **Semantics:** Advanced adapters provide complex iterator transformations.
- **Edge Cases:** Unequal-length iterators (zip), nested iterators (flat_map), large indices (enumerate)
- **Failure Modes:** None (adapters are lazy)
- **Dependencies:** ATOM-LANG-0823-001 (Iterator Trait)
- **Tests Required:** Test zip, test flat_map, test enumerate, test skip, test chain

**ATOM-LANG-0823-004: Iterator Consumers (collect, fold, for_each)**
- **Parent:** SPEC-LANG-0823
- **Source:** REQ-280, SSOT Section 9.1
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Implement `collect` consumer (collect into collection)
  - Implement `fold` consumer (reduce with accumulator)
  - Implement `for_each` consumer (execute side effect for each element)
  - Implement `count` consumer (count elements)
  - Implement `sum` and `product` consumers (numeric aggregation)
- **Semantics:** Consumers execute iterator pipeline and produce results.
- **Edge Cases:** Empty iterators, very large results, type inference for collect
- **Failure Modes:** None (consumers execute iterator)
- **Dependencies:** ATOM-LANG-0823-001 (Iterator Trait)
- **Tests Required:** Test collect, test fold, test for_each, test aggregations

**ATOM-LANG-0823-005: Collection Iterator Integration**
- **Parent:** SPEC-LANG-0823
- **Source:** REQ-280, SSOT Section 9.1
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Implement Iterator trait for List[T] (list.iter())
  - Implement Iterator trait for Map[K, V] (map.iter(), map.keys(), map.values())
  - Implement Iterator trait for Set[T] (set.iter())
  - Support mutable iterators (iter_mut())
  - Support consuming iterators (into_iter())
- **Semantics:** Collection iterator integration enables iteration over standard collections.
- **Edge Cases:** Concurrent modification, mutable vs immutable iterators, ownership
- **Failure Modes:** None (iterators are safe)
- **Dependencies:** ATOM-LANG-0823-001 (Iterator Trait), SPEC-LANG-0820 (List), SPEC-LANG-0821 (Map), SPEC-LANG-0822 (Set)
- **Tests Required:** Test list iteration, test map iteration, test set iteration, test mutable/consuming

**ATOM-LANG-0823-006: Lazy Evaluation Guarantees**
- **Parent:** SPEC-LANG-0823
- **Source:** REQ-280, SSOT Section 9.1
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Ensure adapters don't execute until consumed
  - Document lazy evaluation semantics
  - Optimize adapter chains (fusion where possible)
  - Support short-circuiting consumers (any, all, find)
  - Verify no unnecessary allocations in iterator pipeline
- **Semantics:** Lazy evaluation ensures iterators execute only when consumed, enabling efficient pipelines.
- **Edge Cases:** Side effects in adapters, infinite iterators, short-circuiting
- **Failure Modes:** None (lazy evaluation is semantic guarantee)
- **Dependencies:** ATOM-LANG-0823-001 (Iterator Trait), ATOM-LANG-0823-002 (Core Adapters), ATOM-LANG-0823-004 (Consumers)
- **Tests Required:** Test lazy evaluation, test short-circuiting, test fusion

================================================================================
ATOM Decomposition: SPEC-QUARRY-0014 (Build Execution Orchestrator)
================================================================================

**Parent LEAF:** SPEC-QUARRY-0014: Build Execution Orchestrator
**Source:** SPEC-QUARRY-0001, REQ-161, SSOT Section 8.1
**Decomposition Rationale:** This LEAF orchestrates multiple distinct phases of the build process (dependency resolution, graph construction, compilation, linking) and handles artifact management and reporting, making it suitable for decomposition into smaller, testable units.

**ATOM-QUARRY-0014-001: Build Pipeline Orchestration Driver**
- **Parent:** SPEC-QUARRY-0014
- **Source:** REQ-161, SSOT Section 8.1
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Implement the main driver for the build pipeline
  - Sequence steps: resolve dependencies -> build graph -> compile -> link
  - Handle errors from any stage and stop pipeline execution
  - Support dry-run mode (list steps without executing)
- **Semantics:** Coordinates the high-level execution flow of the quarry build command.
- **Edge Cases:** Empty projects, circular dependencies (detected in graph phase), stage failures
- **Failure Modes:** ERR-BUILD-001 (pipeline stage failure)
- **Dependencies:** SPEC-QUARRY-0017 (Dependency Resolution), SPEC-QUARRY-0004 (Build Graph)
- **Tests Required:** Test sequential execution, test error propagation

**ATOM-QUARRY-0014-002: Output Directory and Artifact Management**
- **Parent:** SPEC-QUARRY-0014
- **Source:** REQ-161, SSOT Section 8.1
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Create and manage target/ directory structure (bin, lib, obj)
  - Ensure thread-safe access to build artifacts
  - Implement cleanup logic (quarry clean)
  - Handle permission errors for output directory
- **Semantics:** Manages the filesystem state for build artifacts.
- **Edge Cases:** Directory already exists, no write permissions, long paths
- **Failure Modes:** ERR-BUILD-002 (filesystem permission error), ERR-BUILD-003 (cleanup failure)
- **Dependencies:** None
- **Tests Required:** Test directory creation, test cleanup, test permission errors

**ATOM-QUARRY-0014-003: Progress Reporting and Stage Feedback**
- **Parent:** SPEC-QUARRY-0014
- **Source:** REQ-161, SSOT Section 8.1
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Implement terminal-based progress reporting (colors, indicators)
  - Log start and end of each build stage with timestamps
  - Capture and format output from sub-processes (forge, linker)
  - Support machine-readable output mode (JSON)
- **Semantics:** Provides user feedback during the build process.
- **Edge Cases:** Non-interactive terminals, very fast stages, large output from tools
- **Failure Modes:** None (reporting is best-effort)
- **Dependencies:** None
- **Tests Required:** Test terminal output formatting, test JSON output mode

================================================================================
ATOM Decomposition: SPEC-LANG-0820 (List[T] Implementation)
================================================================================

**Parent LEAF:** SPEC-LANG-0820: List[T] Implementation
**Source:** REQ-063, REQ-267, SSOT Section 9.1
**Decomposition Rationale:** Decomposes the growable array implementation into memory management, core operations, and access patterns to ensure robust implementation of the fundamental collection type.

**ATOM-LANG-0820-001: List Memory Management (Allocation and Growth)**
- **Parent:** SPEC-LANG-0820
- **Source:** REQ-063, REQ-267, SSOT Section 9.1
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Implement dynamic growth logic (geometric expansion, e.g., factor of 1.5 or 2)
  - Handle memory allocation and deallocation for the underlying contiguous buffer
  - Implement reserve and shrink_to_fit operations
  - Handle out-of-memory (OOM) conditions gracefully
- **Semantics:** Manages the physical memory backing the growable list.
- **Edge Cases:** Large allocations, zero capacity, growth on every append
- **Failure Modes:** ERR-MEM-001 (allocation failure)
- **Dependencies:** SPEC-LANG-0901 (Global Allocator)
- **Tests Required:** Test growth factors, test reservation, test OOM handling

**ATOM-LANG-0820-002: List Core Operations (append, insert, remove)**
- **Parent:** SPEC-LANG-0820
- **Source:** REQ-063, REQ-267, SSOT Section 9.1
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Implement append(element) with amortized O(1) complexity
  - Implement insert(index, element) with O(n) complexity (shifting elements)
  - Implement remove(index) with O(n) complexity
  - Implement pop() and clear()
- **Semantics:** Provides the basic mutation interface for the list.
- **Edge Cases:** Inserting at end, removing from empty list, clearing large list
- **Failure Modes:** ERR-COL-001 (index out of bounds)
- **Dependencies:** ATOM-LANG-0820-001 (Memory Management)
- **Tests Required:** Test all operations, test bounds checking

**ATOM-LANG-0820-003: List Indexing and Slicing**
- **Parent:** SPEC-LANG-0820
- **Source:** REQ-063, REQ-267, SSOT Section 9.1
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Implement operator [] for indexing (get and set)
  - Implement slicing support (returning a Slice[T])
  - Enforce bounds checking on all accesses
  - Support negative indexing (if per specification)
- **Semantics:** Provides read and write access to list elements.
- **Edge Cases:** Index out of bounds, empty slice, full slice
- **Failure Modes:** ERR-COL-001 (index out of bounds)
- **Dependencies:** None
- **Tests Required:** Test indexing, test slicing, test bounds checking

================================================================================
ATOM Decomposition: SPEC-LANG-0821 (Map[K, V] Implementation)
================================================================================

**Parent LEAF:** SPEC-LANG-0821: Map[K, V] Implementation
**Source:** REQ-063, REQ-268, REQ-279, SSOT Section 9.1
**Decomposition Rationale:** Decomposes the hash map into hashing, probing, resizing, and operations to manage the complexity of high-performance associative containers.

**ATOM-LANG-0821-001: Hash Table Core and Resizing**
- **Parent:** SPEC-LANG-0821
- **Source:** REQ-063, REQ-268, SSOT Section 9.1
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Implement bucket management (allocation, layout)
  - Implement load-factor-based resizing (rehashing all elements)
  - Handle power-of-two bucket sizes for fast masking
  - Implement capacity management (initial capacity, maximum capacity)
- **Semantics:** Manages the structural integrity and growth of the hash table.
- **Edge Cases:** Zero initial capacity, rehashing large tables, maximum capacity reached
- **Failure Modes:** ERR-MEM-001 (allocation failure)
- **Dependencies:** SPEC-LANG-0901 (Global Allocator)
- **Tests Required:** Test resizing triggers, test rehashing correctness

**ATOM-LANG-0821-002: Probing Strategy and Collision Resolution**
- **Parent:** SPEC-LANG-0821
- **Source:** REQ-063, REQ-268, SSOT Section 9.1
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Implement open addressing probing strategy (linear or quadratic probing)
  - Handle bucket states: empty, occupied, and deleted (tombstones)
  - Implement lookup logic using the chosen probing strategy
  - Optimize probing performance (minimizing cache misses)
- **Semantics:** Resolves hash collisions within the table.
- **Edge Cases:** High collision clusters, full table (before resizing), tombstone accumulation
- **Failure Modes:** None (handled by resizing)
- **Dependencies:** ATOM-LANG-0821-001 (Hash Table Core)
- **Tests Required:** Test collision handling, test tombstone reuse

**ATOM-LANG-0821-003: Hashing Strategy and Security**
- **Parent:** SPEC-LANG-0821
- **Source:** REQ-063, REQ-268, SSOT Section 9.1
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Integrate with Hash trait for key types
  - Implement secure default hashing (e.g., SipHash or similar) to prevent DoS
  - Support hash randomization (seeding per map instance)
  - Implement fast path for common key types (integers, strings)
- **Semantics:** Provides the mapping from keys to bucket indices.
- **Edge Cases:** Hash collisions, null/empty keys, large keys
- **Failure Modes:** None
- **Dependencies:** SPEC-LANG-0220 (Traits/Hash)
- **Tests Required:** Test hash distribution, test collision resistance

**ATOM-LANG-0821-004: Map Operations (insert, get, remove)**
- **Parent:** SPEC-LANG-0821
- **Source:** REQ-063, REQ-268, SSOT Section 9.1
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Implement insert(key, value) with average O(1) complexity
  - Implement get(key) and contains(key)
  - Implement remove(key) with tombstone management
  - Implement clear() and length()
- **Semantics:** Provides the public API for the map.
- **Edge Cases:** Inserting duplicate key, removing non-existent key, getting from empty map
- **Failure Modes:** None (Result types used where appropriate)
- **Dependencies:** ATOM-LANG-0821-001, ATOM-LANG-0821-002, ATOM-LANG-0821-003
- **Tests Required:** Test all operations, test key replacement

================================================================================
ATOM Decomposition: SPEC-LANG-0822 (Set[T] Implementation)
================================================================================

**Parent LEAF:** SPEC-LANG-0822: Set[T] Implementation
**Source:** REQ-063, REQ-269, SSOT Section 9.1
**Decomposition Rationale:** Decomposes the set into its core wrapper implementation and mathematical operations.

**ATOM-LANG-0822-001: Set Core Wrapper and Operations**
- **Parent:** SPEC-LANG-0822
- **Source:** REQ-063, REQ-269, SSOT Section 9.1
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Implement Set[T] as a wrapper around Map[T, ()]
  - Implement add(element), remove(element), contains(element)
  - Implement length() and clear()
  - Integrate with Hash and Eq traits for element type
- **Semantics:** Provides a collection of unique elements.
- **Edge Cases:** Adding existing element, removing non-existent element
- **Failure Modes:** None
- **Dependencies:** ATOM-LANG-0821-004 (Map Operations)
- **Tests Required:** Test uniqueness, test all operations

**ATOM-LANG-0822-002: Mathematical Set Operations**
- **Parent:** SPEC-LANG-0822
- **Source:** REQ-063, REQ-269, SSOT Section 9.1
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Implement union(other)
  - Implement intersection(other)
  - Implement difference(other)
  - Implement symmetric_difference(other)
  - Implement subset and superset checks
- **Semantics:** Provides set-theoretic operations between sets.
- **Edge Cases:** Empty sets, equal sets, disjoint sets
- **Failure Modes:** None
- **Dependencies:** ATOM-LANG-0822-001 (Set Core)
- **Tests Required:** Test all mathematical operations

================================================================================
ATOM Decomposition: SPEC-FORGE-0024 (Codegen Driver)
================================================================================

**Parent LEAF:** SPEC-FORGE-0024: Codegen Driver and LLVM Context Management
**Source:** SPEC-FORGE-0007, REQ-002, SSOT Section 2
**Decomposition Rationale:** Decomposes LLVM management into distinct concerns of environment setup, IR generation state, and target machine configuration.

**ATOM-FORGE-0024-001: LLVM Context and Module Management**
- **Parent:** SPEC-FORGE-0024
- **Source:** SPEC-FORGE-0007, SSOT Section 2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Initialize LLVM Context (thread-local)
  - Manage LLVM Module lifecycle for a single translation unit
  - Handle global symbol declarations and naming
  - Provide API for module serialization (bitcode, assembly)
- **Semantics:** Manages the top-level LLVM containers for code generation.
- **Edge Cases:** Multiple modules in one context, invalid symbol names
- **Failure Modes:** ERR-CODEGEN-001 (LLVM initialization failure)
- **Dependencies:** None
- **Tests Required:** Test context/module lifecycle, test bitcode output

**ATOM-FORGE-0024-002: LLVM Builder and IR Generation State**
- **Parent:** SPEC-FORGE-0024
- **Source:** SPEC-FORGE-0007, SSOT Section 2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Manage LLVM IRBuilder instance
  - Track current basic block and insertion point
  - Implement scope-based management for local variable storage
  - Provide helpers for common IR patterns (function entry/exit)
- **Semantics:** Manages the state required for emitting LLVM IR instructions.
- **Edge Cases:** Nested scopes, branching between blocks, empty functions
- **Failure Modes:** None (internal builder state)
- **Dependencies:** ATOM-FORGE-0024-001 (Module Management)
- **Tests Required:** Test insertion point management, test local variable scoping

**ATOM-FORGE-0024-003: Target Machine and Data Layout Initialization**
- **Parent:** SPEC-FORGE-0024
- **Source:** REQ-002, REQ-391, SSOT Section 2, 7.6
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Initialize LLVM target registry and machines
  - Configure TargetMachine based on target triple and CPU features
  - Set up DataLayout for the target (pointer size, alignment)
  - Integrate with @import("builtin") for target inspection
- **Semantics:** Configures the code generator for a specific target architecture.
- **Edge Cases:** Unsupported targets, custom CPU features, mismatched data layouts
- **Failure Modes:** ERR-CODEGEN-002 (Target initialization failure)
- **Dependencies:** ATOM-FORGE-0024-001 (Module Management)
- **Tests Required:** Test target machine creation, test data layout properties

================================================================================
ATOM Decomposition: SPEC-LANG-0016 (Indentation and Whitespace tokens)
================================================================================

**Parent LEAF:** SPEC-LANG-0016: Indentation and Whitespace tokens
**Source:** REQ-035, REQ-417, SSOT Section 3.1
**Decomposition Rationale:** Indentation handling requires stateful tracking (stack) and complex validation logic that is distinct from simple token recognition, warranting decomposition into specific ATOMs.

**ATOM-LANG-0016-001: Indentation Stack and State Tracking**
- **Parent:** SPEC-LANG-0016
- **Source:** REQ-035, SSOT Section 3.1
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Implement a stack for tracking current indentation levels.
  - Initial level is 0.
  - Implement `push` and `pop` operations for indentation changes.
- **Semantics:** Manages the logical nesting levels of the source code.
- **Edge Cases:** Empty stack (initial state), extremely deep nesting.
- **Failure Modes:** None (stack management is internal).
- **Dependencies:** None.
- **Tests Required:** Test stack depth, test push/pop correctness.

**ATOM-LANG-0016-002: INDENT/DEDENT Token Generation Logic**
- **Parent:** SPEC-LANG-0016
- **Source:** REQ-035, SSOT Section 3.1
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Compare current line indentation with the top of the stack.
  - Emit INDENT token and push new level if current > top.
  - Emit DEDENT tokens and pop levels until match if current < top.
  - Ensure DEDENT tokens are emitted for all remaining levels at EOF.
- **Semantics:** Translates physical indentation changes into logical block tokens.
- **Edge Cases:** Multiple dedents at once, EOF with remaining indents.
- **Failure Modes:** ERR-LEX-007 (invalid dedent level).
- **Dependencies:** ATOM-LANG-0016-001 (Indentation Stack).
- **Tests Required:** Test INDENT emission, test single/multiple DEDENT emission, test EOF dedents.

**ATOM-LANG-0016-003: Indentation Validation (Tabs, Spaces, Consistency)**
- **Parent:** SPEC-LANG-0016
- **Source:** REQ-035, REQ-417, SSOT Section 3.1
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Enforce 4-space indentation multiples.
  - Detect and error on mixed tabs and spaces in indentation.
  - Error if dedent level does not match any previous level on the stack.
- **Semantics:** Ensures the source code follows the language's indentation rules.
- **Edge Cases:** Tabs only (converted to 4 spaces but disallowed if mixed), odd space counts (e.g., 3 or 5 spaces).
- **Failure Modes:** ERR-LEX-007 (inconsistent indentation, tab/space mixing).
- **Dependencies:** ATOM-LANG-0016-001 (Indentation Stack).
- **Tests Required:** Test tab/space mixing, test inconsistent indentation widths, test invalid dedent levels.

================================================================================
ATOM Decomposition: SPEC-LANG-0017 (Statement and Block structure (Lexical))
================================================================================

**Parent LEAF:** SPEC-LANG-0017: Statement and Block structure (Lexical)
**Source:** REQ-036, SSOT Section 3.1
**Decomposition Rationale:** Newline handling is context-dependent (bracket nesting) and supports both explicit and implicit continuation mechanisms, requiring separate ATOMs for clarity and testing.

**ATOM-LANG-0017-001: Newline Handling and Statement Termination**
- **Parent:** SPEC-LANG-0017
- **Source:** REQ-036, SSOT Section 3.1
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Emit NEWLINE token when a newline character is encountered outside of brackets or continuation.
  - Suppress NEWLINE token inside parentheses, brackets, and braces.
  - Collapse multiple consecutive newlines into a single NEWLINE token.
- **Semantics:** Determines when a physical line break constitutes a logical statement terminator.
- **Edge Cases:** Newlines at start/end of file, newlines with only whitespace/comments.
- **Failure Modes:** None (newlines are always valid if syntax is correct).
- **Dependencies:** None.
- **Tests Required:** Test basic NEWLINE emission, test suppression inside brackets, test consecutive newline collapsing.

**ATOM-LANG-0017-002: Explicit Line Continuation (Backslash)**
- **Parent:** SPEC-LANG-0017
- **Source:** REQ-036, SSOT Section 3.1
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Recognize backslash (`\`) as an explicit line continuation character when immediately preceding a newline.
  - Ensure the lexer ignores the backslash and the following newline, treating the next line as part of the current line.
- **Semantics:** Allows statements to be explicitly broken across multiple lines.
- **Edge Cases:** Backslash at EOF, backslash followed by non-newline characters.
- **Failure Modes:** ERR-LEX-004 (Unexpected EOF after backslash).
- **Dependencies:** None.
- **Tests Required:** Test valid continuation, test backslash at EOF, test backslash with trailing whitespace (should ideally be error or handled).

**ATOM-LANG-0017-003: Implicit Line Continuation (Bracket Nesting)**
- **Parent:** SPEC-LANG-0017
- **Source:** REQ-036, SSOT Section 3.1
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Maintain a counter for nested parentheses `()`, brackets `[]`, and braces `{}`.
  - Increment on open brackets, decrement on close brackets.
  - Disable NEWLINE token emission whenever the nesting counter is greater than zero.
- **Semantics:** Enables statements to span multiple lines naturally when wrapped in brackets.
- **Edge Cases:** Mismatched brackets (handled by later parser phase, but lexer must still track), extremely deep nesting.
- **Failure Modes:** None (lexer just tracks, parser catches mismatches).
- **Dependencies:** None.
- **Tests Required:** Test nesting with all bracket types, test nested continuation across many lines.

================================================================================
ATOM Decomposition: SPEC-LANG-0018 (Floating-point literal tokens)
================================================================================

**Parent LEAF:** SPEC-LANG-0018: Floating-point literal tokens
**Source:** REQ-043, SSOT Section 3.1
**Decomposition Rationale:** Floating-point literals have multiple distinct components (mantissa, exponent, suffixes) and special values (inf, nan) that benefit from separate specification and testing.

**ATOM-LANG-0018-001: Float Format Recognition (Decimal and Scientific)**
- **Parent:** SPEC-LANG-0018
- **Source:** REQ-043, SSOT Section 3.1
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Recognize standard decimal floats (e.g., `1.0`, `0.5`).
  - Recognize scientific notation (e.g., `1e10`, `1.5E-5`).
  - Recognize shorthand notation with leading or trailing dots (e.g., `.5`, `5.`).
- **Semantics:** Identifies the numeric part of a floating-point literal.
- **Edge Cases:** Multiple dots, missing exponent after 'e', leading zeros.
- **Failure Modes:** ERR-LEX-005 (invalid float literal syntax).
- **Dependencies:** None.
- **Tests Required:** Test basic decimals, test scientific notation, test shorthands.

**ATOM-LANG-0018-002: Float Suffix Handling (f32, f64)**
- **Parent:** SPEC-LANG-0018
- **Source:** REQ-043, SSOT Section 3.1
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Recognize `f32` and `f64` suffixes on float literals.
  - Assign single precision for `f32` and double precision for `f64`.
  - Default to `f64` if no suffix is present.
- **Semantics:** Explicitly specifies the precision of a floating-point literal.
- **Edge Cases:** Invalid suffixes, suffixes on integer-like literals (e.g., `5f32`).
- **Failure Modes:** ERR-LEX-005 (invalid suffix).
- **Dependencies:** ATOM-LANG-0018-001.
- **Tests Required:** Test both suffixes, test default behavior.

**ATOM-LANG-0018-003: Special Float Values (inf, nan)**
- **Parent:** SPEC-LANG-0018
- **Source:** REQ-043, SSOT Section 3.1
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Recognize `inf` and `nan` as floating-point literal tokens.
  - Support case-insensitive recognition (e.g., `Inf`, `NaN`).
- **Semantics:** Provides literals for non-finite floating-point values.
- **Edge Cases:** Case sensitivity variations, usage in expressions.
- **Failure Modes:** None.
- **Dependencies:** None.
- **Tests Required:** Test all casing variations of inf and nan.

================================================================================
ATOM Decomposition: SPEC-LANG-0019 (Boolean and None literal tokens)
================================================================================

**Parent LEAF:** SPEC-LANG-0019: Boolean and None literal tokens
**Source:** REQ-044, REQ-048, SSOT Section 3.1
**Decomposition Rationale:** Boolean and None literals are fundamental primitive values with distinct types and lexical representations.

**ATOM-LANG-0019-001: Boolean Literal Recognition**
- **Parent:** SPEC-LANG-0019
- **Source:** REQ-044, SSOT Section 3.1
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Recognize `true` and `false` as boolean literal tokens.
  - Enforce case sensitivity (lowercase only).
- **Semantics:** Represents the two logical truth values.
- **Edge Cases:** Case variations (True, FALSE), use as identifiers (disallowed).
- **Failure Modes:** None (lexer recognizes as keywords/literals).
- **Dependencies:** None.
- **Tests Required:** Test recognition of true/false, test case sensitivity.

**ATOM-LANG-0019-002: None Literal Recognition**
- **Parent:** SPEC-LANG-0019
- **Source:** REQ-048, SSOT Section 3.1
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Recognize `None` as a literal token representing the absence of a value.
  - Enforce exact case sensitivity.
- **Semantics:** Represents the unit value for optional types.
- **Edge Cases:** Case variations (none, NONE).
- **Failure Modes:** None.
- **Dependencies:** None.
- **Tests Required:** Test recognition of None, test case sensitivity.

================================================================================
ATOM Decomposition: SPEC-LANG-0020 (Character literal tokens)
================================================================================

**Parent LEAF:** SPEC-LANG-0020: Character literal tokens
**Source:** REQ-046, SSOT Section 3.1
**Decomposition Rationale:** Character literals involve specific escape sequence processing and Unicode code point validation, which are distinct from the basic token framing (single quotes).

**ATOM-LANG-0020-001: Character Literal Framing and Single Code Point Validation**
- **Parent:** SPEC-LANG-0020
- **Source:** REQ-046, SSOT Section 3.1
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Recognize content enclosed in single quotes `'`.
  - Validate that the literal contains exactly one Unicode code point after escape processing.
  - Error on empty `''` or multi-character `'ab'` literals.
- **Semantics:** Defines the basic syntax and cardinality of a character literal.
- **Edge Cases:** Empty literals, multi-character literals, unterminated literals.
- **Failure Modes:** ERR-LEX-007 (invalid character literal), ERR-LEX-008 (unterminated character literal).
- **Dependencies:** None.
- **Tests Required:** Test basic single characters, test empty literals, test multi-character error.

**ATOM-LANG-0020-002: Character Escape Sequence Processing**
- **Parent:** SPEC-LANG-0020
- **Source:** REQ-046, SSOT Section 3.1
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Implement standard escapes: `\n`, `\t`, `\r`, `\\`, `\'`, `\"`.
  - Implement Unicode escapes: `\u{HEX}` with range U+0000 to U+10FFFF.
  - Validate that the escape sequence resolves to a single valid Unicode code point.
- **Semantics:** Translates escape sequences into their representative Unicode values.
- **Edge Cases:** Invalid hex digits, surrogates (U+D800 to U+DFFF), out of range code points.
- **Failure Modes:** ERR-LEX-009 (invalid escape sequence).
- **Dependencies:** None (coordinates with SPEC-LANG-0005).
- **Tests Required:** Test all standard escapes, test valid/invalid Unicode escapes.

================================================================================
ATOM Decomposition: SPEC-LANG-0009 (File-based Module Resolution)
================================================================================

**Parent LEAF:** SPEC-LANG-0009: File-based Module Resolution
**Source:** REQ-049, SSOT Section 3.2
**Decomposition Rationale:** Module resolution involves distinct concerns of filesystem mapping, search path prioritization, and cross-platform path normalization.

**ATOM-LANG-0009-001: Module Name to Filesystem Path Mapping**
- **Parent:** SPEC-LANG-0009
- **Source:** REQ-049, SSOT Section 3.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Map module names (e.g., `core.math`) to file paths (e.g., `core/math.pyrite`).
  - Support package-style resolution (e.g., `core/math/mod.pyrite`).
- **Semantics:** Defines the convention for locating module source files on disk.
- **Edge Cases:** Nested packages, directory/file name collisions.
- **Failure Modes:** ERR-IMPORT-001 (Module not found).
- **Dependencies:** None.
- **Tests Required:** Test basic mapping, test nested mapping, test `mod.pyrite` resolution.

**ATOM-LANG-0009-002: Search Path Prioritization and Resolution**
- **Parent:** SPEC-LANG-0009
- **Source:** REQ-049, SSOT Section 3.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Implement the search order: 1. Standard Library, 2. Local Project, 3. External Dependencies.
  - Stop at the first match and return the absolute path.
- **Semantics:** Ensures predictable resolution when multiple modules share the same name across paths.
- **Edge Cases:** Overriding standard library (disallowed), dependency shadowing.
- **Failure Modes:** ERR-IMPORT-002 (Ambiguous module name).
- **Dependencies:** SPEC-QUARRY-0017 (Dependency Resolution).
- **Tests Required:** Test priority order, test library overrides, test dependency resolution.

**ATOM-LANG-0009-003: Cross-Platform Path Normalization and Case Handling**
- **Parent:** SPEC-LANG-0009
- **Source:** REQ-049, SSOT Section 3.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Normalize path separators (`/` vs `\`).
  - Enforce case-sensitive module names even on case-insensitive filesystems.
  - Detect and error on case-mismatched imports on Windows/macOS.
- **Semantics:** Ensures consistent module resolution across different operating systems.
- **Edge Cases:** Different separators, case collisions (e.g., `math.pyrite` vs `Math.pyrite`).
- **Failure Modes:** ERR-IMPORT-003 (Case mismatch in import).
- **Dependencies:** None.
- **Tests Required:** Test cross-platform paths, test case mismatch errors on Windows/macOS.

================================================================================
ATOM Decomposition: SPEC-LANG-0010 (Import Namespace Management)
================================================================================

**Parent LEAF:** SPEC-LANG-0010: Import Namespace Management
**Source:** REQ-051, SSOT Section 3.2
**Decomposition Rationale:** Import namespace management involves distinct operations: namespace creation/tracking, alias resolution, collision detection, and scoping rules.

**ATOM-LANG-0010-001: Namespace Creation and Tracking**
- **Parent:** SPEC-LANG-0010
- **Source:** REQ-051, SSOT Section 3.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Implement namespace data structure for each module.
  - Track imported names and their sources.
  - Support scoped namespace (module-level).
- **Semantics:** Creates and maintains namespace for imported names.
- **Edge Cases:** Empty imports, duplicate namespace entries.
- **Failure Modes:** None (namespace is internal structure).
- **Dependencies:** SPEC-LANG-0009 (Module Resolution).
- **Tests Required:** Test namespace creation, test multiple imports, test scoping.

**ATOM-LANG-0010-002: Import Alias Resolution**
- **Parent:** SPEC-LANG-0010
- **Source:** REQ-051, SSOT Section 3.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Implement `import foo as bar` aliasing.
  - Resolve alias references to original definitions.
  - Track aliased names separately from direct imports.
- **Semantics:** Allows renaming of imported modules/items.
- **Edge Cases:** Alias shadowing local names, alias conflicts.
- **Failure Modes:** ERR-IMPORT-004 (Name collision with alias).
- **Dependencies:** ATOM-LANG-0010-001.
- **Tests Required:** Test basic aliasing, test alias resolution, test conflicts.

**ATOM-LANG-0010-003: Name Collision Detection and Resolution**
- **Parent:** SPEC-LANG-0010
- **Source:** REQ-051, SSOT Section 3.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Detect name collisions between imports.
  - Detect collisions between imports and local definitions.
  - Report ERR-IMPORT-004 for unresolved collisions.
  - Allow shadowing with explicit warnings.
- **Semantics:** Prevents ambiguous name references.
- **Edge Cases:** Multiple imports of same name, import shadowing local.
- **Failure Modes:** ERR-IMPORT-004 (Name collision).
- **Dependencies:** ATOM-LANG-0010-001, ATOM-LANG-0010-002.
- **Tests Required:** Test collision detection, test error reporting, test shadowing.

================================================================================
ATOM Decomposition: SPEC-LANG-0011 (Circular Dependency Detection)
================================================================================

**Parent LEAF:** SPEC-LANG-0011: Circular Dependency Detection
**Source:** REQ-052, SSOT Section 3.2
**Decomposition Rationale:** Circular dependency detection requires import graph construction, cycle detection algorithm, and error reporting with cycle paths.

**ATOM-LANG-0011-001: Import Graph Construction**
- **Parent:** SPEC-LANG-0011
- **Source:** REQ-052, SSOT Section 3.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Build directed graph of module imports.
  - Track import edges (module A imports module B).
  - Support incremental graph updates.
- **Semantics:** Represents module dependency relationships.
- **Edge Cases:** Self-imports, missing modules.
- **Failure Modes:** None (graph is internal structure).
- **Dependencies:** SPEC-LANG-0009 (Module Resolution).
- **Tests Required:** Test graph construction, test incremental updates.

**ATOM-LANG-0011-002: Cycle Detection Algorithm (DFS)**
- **Parent:** SPEC-LANG-0011
- **Source:** REQ-052, SSOT Section 3.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Implement DFS-based cycle detection.
  - Detect all cycles in import graph.
  - Extract cycle paths for error reporting.
- **Semantics:** Identifies circular import chains.
- **Edge Cases:** Multiple cycles, self-cycles, indirect cycles.
- **Failure Modes:** ERR-IMPORT-005 (Circular import detected).
- **Dependencies:** ATOM-LANG-0011-001.
- **Tests Required:** Test simple cycles, test complex cycles, test multiple cycles.

**ATOM-LANG-0011-003: Cycle Path Reporting**
- **Parent:** SPEC-LANG-0011
- **Source:** REQ-052, SSOT Section 3.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Format cycle paths for error messages.
  - Show complete import chain (A  B  C  A).
  - Report all detected cycles.
- **Semantics:** Provides clear diagnostic information for circular imports.
- **Edge Cases:** Long cycle paths, multiple cycles.
- **Failure Modes:** ERR-IMPORT-005 (Circular import detected).
- **Dependencies:** ATOM-LANG-0011-002.
- **Tests Required:** Test error message format, test multiple cycle reporting.

================================================================================
ATOM Decomposition: SPEC-LANG-0101 (Primary Expression Parsing)
================================================================================

**Parent LEAF:** SPEC-LANG-0101: Primary Expression Parsing
**Source:** REQ-063, SSOT Section 3.3
**Decomposition Rationale:** Primary expression parsing handles multiple distinct expression types (literals, identifiers, parenthesized, collections) requiring separate parsing logic.

**ATOM-LANG-0101-001: Literal Expression Parsing**
- **Parent:** SPEC-LANG-0101
- **Source:** REQ-063, SSOT Section 3.3
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Parse integer, float, string, char, bool, None literals.
  - Create AST nodes for each literal type.
  - Preserve literal metadata (base, suffix, etc.).
- **Semantics:** Converts literal tokens to AST expressions.
- **Edge Cases:** Large literals, special values (inf, nan).
- **Failure Modes:** ERR-PARSE-001 (Invalid literal).
- **Dependencies:** Lexer LEAFs (SPEC-LANG-0004, 0005, 0018, 0019, 0020).
- **Tests Required:** Test all literal types, test edge cases.

**ATOM-LANG-0101-002: Identifier Expression Parsing**
- **Parent:** SPEC-LANG-0101
- **Source:** REQ-063, SSOT Section 3.3
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Parse identifier references.
  - Create AST identifier nodes.
  - Preserve identifier location for later resolution.
- **Semantics:** Converts identifier tokens to AST references.
- **Edge Cases:** Keywords as identifiers (context-dependent).
- **Failure Modes:** ERR-PARSE-002 (Unexpected identifier context).
- **Dependencies:** SPEC-LANG-0002 (Identifier Tokens).
- **Tests Required:** Test basic identifiers, test scoping.

**ATOM-LANG-0101-003: Parenthesized Expression Parsing**
- **Parent:** SPEC-LANG-0101
- **Source:** REQ-063, SSOT Section 3.3
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Parse `(expr)` with nested expression.
  - Handle empty parens (unit type or error).
  - Track matching parens for error recovery.
- **Semantics:** Parses grouped expressions for precedence control.
- **Edge Cases:** Unmatched parens, empty parens, deeply nested.
- **Failure Modes:** ERR-PARSE-003 (Mismatched parentheses).
- **Dependencies:** Recursive expression parsing.
- **Tests Required:** Test basic parens, test nesting, test errors.

**ATOM-LANG-0101-004: Collection Literal Parsing (List, Tuple, Dict)**
- **Parent:** SPEC-LANG-0101
- **Source:** REQ-063, SSOT Section 3.3
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Parse list literals `[expr, ...]`.
  - Parse tuple literals `(expr, expr, ...)`.
  - Parse dict literals `{key: value, ...}`.
  - Handle trailing commas.
- **Semantics:** Parses collection construction syntax.
- **Edge Cases:** Empty collections, single-element tuples, nested collections.
- **Failure Modes:** ERR-PARSE-004 (Invalid collection syntax).
- **Dependencies:** Recursive expression parsing.
- **Tests Required:** Test all collection types, test nesting, test empty/trailing comma.

================================================================================
ATOM Decomposition: SPEC-LANG-0102 (Unary Operator Parsing)
================================================================================

**Parent LEAF:** SPEC-LANG-0102: Unary Operator Parsing
**Source:** REQ-064, SSOT Section 3.3
**Decomposition Rationale:** Unary operators require distinct logic for operator recognition, precedence handling, and associativity.

**ATOM-LANG-0102-001: Unary Operator Recognition**
- **Parent:** SPEC-LANG-0102
- **Source:** REQ-064, SSOT Section 3.3
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Recognize `-`, `!`, `~`, `*`, `&` as unary prefix operators.
  - Create AST unary expression nodes.
  - Distinguish unary from binary operators (context-dependent).
- **Semantics:** Identifies unary operators in prefix position.
- **Edge Cases:** Multiple consecutive unary operators (`--x`), operator context.
- **Failure Modes:** ERR-PARSE-005 (Invalid unary operator).
- **Dependencies:** SPEC-LANG-0006 (Operator Tokens).
- **Tests Required:** Test all unary operators, test multiple unary.

**ATOM-LANG-0102-002: Unary Precedence and Association**
- **Parent:** SPEC-LANG-0102
- **Source:** REQ-064, SSOT Section 3.3
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Implement right-to-left associativity for unary operators.
  - Handle unary operator precedence (higher than binary).
  - Parse unary chains correctly (`-!x` = `-(!(x))`).
- **Semantics:** Correctly parses complex unary expressions.
- **Edge Cases:** Unary + binary combinations (`-x + y`), multiple unary.
- **Failure Modes:** None (precedence is algorithmic).
- **Dependencies:** ATOM-LANG-0102-001.
- **Tests Required:** Test precedence, test associativity, test combinations.

================================================================================
ATOM Decomposition: SPEC-LANG-0103 (Binary Operator Parsing)
================================================================================

**Parent LEAF:** SPEC-LANG-0103: Binary Operator Parsing
**Source:** REQ-065, SSOT Section 3.3
**Decomposition Rationale:** Binary operators require precedence table management, operator-precedence parsing algorithm, and associativity handling.

**ATOM-LANG-0103-001: Operator Precedence Table Construction**
- **Parent:** SPEC-LANG-0103
- **Source:** REQ-065, SSOT Section 3.3
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Define precedence levels for all binary operators.
  - Implement precedence table lookup.
  - Support precedence ranges (14 levels as per SSOT).
- **Semantics:** Establishes operator precedence hierarchy.
- **Edge Cases:** Equal precedence, unknown operators.
- **Failure Modes:** None (table is static).
- **Dependencies:** SPEC-LANG-0006 (Operator Tokens).
- **Tests Required:** Test precedence table completeness.

**ATOM-LANG-0103-002: Pratt Parser (Operator-Precedence Parsing)**
- **Parent:** SPEC-LANG-0103
- **Source:** REQ-065, SSOT Section 3.3
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Implement Pratt/operator-precedence parsing algorithm.
  - Handle left and right associativity.
  - Construct correct AST based on precedence.
- **Semantics:** Parses binary expressions with correct precedence and associativity.
- **Edge Cases:** Complex precedence chains, associativity edge cases.
- **Failure Modes:** ERR-PARSE-006 (Invalid binary expression).
- **Dependencies:** ATOM-LANG-0103-001.
- **Tests Required:** Test precedence, test associativity, test complex expressions.

**ATOM-LANG-0103-003: Associativity Handling**
- **Parent:** SPEC-LANG-0103
- **Source:** REQ-065, SSOT Section 3.3
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Implement left-to-right associativity for most operators.
  - Implement right-to-left associativity for assignment.
  - Handle non-associative operators (comparison chains).
- **Semantics:** Correctly groups operators with same precedence.
- **Edge Cases:** Comparison chains (`a < b < c`), mixed associativity.
- **Failure Modes:** ERR-PARSE-007 (Invalid comparison chain).
- **Dependencies:** ATOM-LANG-0103-002.
- **Tests Required:** Test left-associative, test right-associative, test comparison chains.

================================================================================
ATOM Decomposition: SPEC-LANG-0104 (Function Call Parsing)
================================================================================

**Parent LEAF:** SPEC-LANG-0104: Function Call Parsing
**Source:** REQ-066, SSOT Section 3.3
**Decomposition Rationale:** Function calls involve call expression parsing, argument list parsing with trailing commas, and named argument support.

**ATOM-LANG-0104-001: Call Expression Parsing**
- **Parent:** SPEC-LANG-0104
- **Source:** REQ-066, SSOT Section 3.3
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Parse `expr(...)` call syntax.
  - Create AST call nodes with callee and arguments.
  - Support nested/chained calls.
- **Semantics:** Parses function call expressions.
- **Edge Cases:** Zero-argument calls, complex callees.
- **Failure Modes:** ERR-PARSE-008 (Invalid call syntax).
- **Dependencies:** SPEC-LANG-0101 (Primary Expressions).
- **Tests Required:** Test basic calls, test chained calls, test zero args.

**ATOM-LANG-0104-002: Argument List Parsing**
- **Parent:** SPEC-LANG-0104
- **Source:** REQ-066, SSOT Section 3.3
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Parse comma-separated argument lists.
  - Support trailing commas.
  - Handle empty argument lists.
- **Semantics:** Parses function call arguments.
- **Edge Cases:** Trailing commas, complex nested expressions as arguments.
- **Failure Modes:** ERR-PARSE-009 (Invalid argument syntax).
- **Dependencies:** ATOM-LANG-0104-001.
- **Tests Required:** Test multiple args, test trailing commas, test complex args.

**ATOM-LANG-0104-003: Named Argument Support**
- **Parent:** SPEC-LANG-0104
- **Source:** REQ-066, SSOT Section 3.3
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Parse `name=expr` named arguments.
  - Enforce positional before named arguments.
  - Detect duplicate named arguments.
- **Semantics:** Supports explicit parameter naming in calls.
- **Edge Cases:** Mixed positional/named, duplicates, order violations.
- **Failure Modes:** ERR-PARSE-010 (Invalid named argument).
- **Dependencies:** ATOM-LANG-0104-002.
- **Tests Required:** Test named args, test mixed args, test errors.

================================================================================
ATOM Decomposition: SPEC-LANG-0105 (Method Call Parsing)
================================================================================

**Parent LEAF:** SPEC-LANG-0105: Method Call Parsing
**Source:** REQ-067, SSOT Section 3.3
**Decomposition Rationale:** Method calls require field access parsing, method call chaining, and self parameter handling.

**ATOM-LANG-0105-001: Method Call Syntax Parsing**
- **Parent:** SPEC-LANG-0105
- **Source:** REQ-067, SSOT Section 3.3
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Parse `expr.method(...)` method call syntax.
  - Create AST method call nodes with receiver and method name.
  - Support method argument lists.
- **Semantics:** Parses method invocation on objects.
- **Edge Cases:** Chained method calls, complex receivers.
- **Failure Modes:** ERR-PARSE-011 (Invalid method call syntax).
- **Dependencies:** SPEC-LANG-0104 (Function Call Parsing), SPEC-LANG-0107 (Field Access).
- **Tests Required:** Test basic method calls, test chaining, test arguments.

**ATOM-LANG-0105-002: Method Call Chaining**
- **Parent:** SPEC-LANG-0105
- **Source:** REQ-067, SSOT Section 3.3
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Support chained calls `obj.method1().method2()`.
  - Parse left-to-right associativity.
  - Handle complex chaining with field access.
- **Semantics:** Enables fluent interface patterns.
- **Edge Cases:** Long chains, mixed field/method access.
- **Failure Modes:** None (syntax is clear).
- **Dependencies:** ATOM-LANG-0105-001.
- **Tests Required:** Test chaining, test mixed access, test long chains.

**ATOM-LANG-0105-003: Implicit Self Parameter Handling**
- **Parent:** SPEC-LANG-0105
- **Source:** REQ-067, SSOT Section 3.3
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Track receiver expression as implicit first parameter.
  - Resolve method calls in type checking phase.
  - Support `self` parameter semantics.
- **Semantics:** Connects method syntax to underlying function calls.
- **Edge Cases:** Self parameter types (ref, mut, take).
- **Failure Modes:** Type checking errors (not parsing errors).
- **Dependencies:** ATOM-LANG-0105-001.
- **Tests Required:** Test self resolution, test various self types.

================================================================================
ATOM Decomposition: SPEC-LANG-0111 (Conditional Statement Parsing)
================================================================================

**Parent LEAF:** SPEC-LANG-0111: Conditional Statement Parsing
**Source:** REQ-070, SSOT Section 3.4
**Decomposition Rationale:** Conditional statements require if/elif/else parsing, condition expression handling, and nested block management.

**ATOM-LANG-0111-001: If Statement Parsing**
- **Parent:** SPEC-LANG-0111
- **Source:** REQ-070, SSOT Section 3.4
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Parse `if condition:` syntax.
  - Parse condition expression (must be bool).
  - Parse if block (indented body).
- **Semantics:** Parses basic conditional control flow.
- **Edge Cases:** Missing colon, invalid indentation, non-bool condition.
- **Failure Modes:** ERR-PARSE-012 (Invalid if statement).
- **Dependencies:** Expression parsing, SPEC-LANG-0016 (Indentation).
- **Tests Required:** Test basic if, test conditions, test blocks.

**ATOM-LANG-0111-002: Elif and Else Parsing**
- **Parent:** SPEC-LANG-0111
- **Source:** REQ-070, SSOT Section 3.4
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Parse `elif condition:` and `else:` branches.
  - Support multiple elif branches.
  - Enforce elif before else ordering.
- **Semantics:** Parses complete conditional chains.
- **Edge Cases:** Multiple elif, else without if, ordering violations.
- **Failure Modes:** ERR-PARSE-013 (Invalid elif/else).
- **Dependencies:** ATOM-LANG-0111-001.
- **Tests Required:** Test elif chains, test else, test errors.

**ATOM-LANG-0111-003: Nested Conditional Handling**
- **Parent:** SPEC-LANG-0111
- **Source:** REQ-070, SSOT Section 3.4
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Support nested if statements.
  - Track indentation levels correctly.
  - Handle complex nesting scenarios.
- **Semantics:** Allows conditional nesting for complex logic.
- **Edge Cases:** Deep nesting, indentation errors.
- **Failure Modes:** ERR-PARSE-014 (Invalid nesting).
- **Dependencies:** ATOM-LANG-0111-001, ATOM-LANG-0111-002.
- **Tests Required:** Test nesting, test deep nesting, test indentation.

================================================================================
ATOM Decomposition: SPEC-LANG-0112 (Loop Statement Parsing)
================================================================================

**Parent LEAF:** SPEC-LANG-0112: Loop Statement Parsing
**Source:** REQ-071, SSOT Section 3.4
**Decomposition Rationale:** Loop statements involve multiple loop types (for, while) with distinct parsing requirements.

**ATOM-LANG-0112-001: While Loop Parsing**
- **Parent:** SPEC-LANG-0112
- **Source:** REQ-071, SSOT Section 3.4
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Parse `while condition:` syntax.
  - Parse loop body (indented block).
  - Support boolean conditions.
- **Semantics:** Parses condition-based loops.
- **Edge Cases:** Infinite loops (while true), complex conditions.
- **Failure Modes:** ERR-PARSE-015 (Invalid while loop).
- **Dependencies:** Expression parsing, SPEC-LANG-0016 (Indentation).
- **Tests Required:** Test while loops, test conditions, test bodies.

**ATOM-LANG-0112-002: For Loop Parsing**
- **Parent:** SPEC-LANG-0112
- **Source:** REQ-071, SSOT Section 3.4
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Parse `for variable in iterable:` syntax.
  - Parse loop variable binding.
  - Parse iterable expression.
  - Parse loop body.
- **Semantics:** Parses iterator-based loops.
- **Edge Cases:** Multiple loop variables (tuple unpacking), nested loops.
- **Failure Modes:** ERR-PARSE-016 (Invalid for loop).
- **Dependencies:** Expression parsing, pattern parsing.
- **Tests Required:** Test for loops, test iterables, test unpacking.

**ATOM-LANG-0112-003: Loop Control Statement Integration**
- **Parent:** SPEC-LANG-0112
- **Source:** REQ-071, SSOT Section 3.4
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Support `break` and `continue` within loops.
  - Validate loop control statements are in loop context.
  - Parse optional loop labels (if supported).
- **Semantics:** Enables loop flow control.
- **Edge Cases:** Break/continue outside loops, nested loop control.
- **Failure Modes:** ERR-PARSE-017 (Invalid loop control).
- **Dependencies:** ATOM-LANG-0112-001, ATOM-LANG-0112-002, SPEC-LANG-0113.
- **Tests Required:** Test break/continue, test nesting, test errors.

================================================================================
ATOM Decomposition: SPEC-LANG-0114 (Pattern Match Parsing)
================================================================================

**Parent LEAF:** SPEC-LANG-0114: Pattern Match Parsing
**Source:** REQ-073, SSOT Section 3.4
**Decomposition Rationale:** Pattern matching involves match expression parsing, pattern parsing (multiple types), and exhaustiveness checking preparation.

**ATOM-LANG-0114-001: Match Expression Parsing**
- **Parent:** SPEC-LANG-0114
- **Source:** REQ-073, SSOT Section 3.4
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Parse `match expr:` syntax.
  - Parse match subject expression.
  - Parse case branches.
- **Semantics:** Parses pattern matching control flow.
- **Edge Cases:** Empty match, single case, complex subjects.
- **Failure Modes:** ERR-PARSE-018 (Invalid match syntax).
- **Dependencies:** Expression parsing.
- **Tests Required:** Test match syntax, test subjects, test branches.

**ATOM-LANG-0114-002: Pattern Parsing (Literal, Identifier, Wildcard)**
- **Parent:** SPEC-LANG-0114
- **Source:** REQ-073, SSOT Section 3.4
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Parse literal patterns (numbers, strings, etc.).
  - Parse identifier patterns (variable binding).
  - Parse wildcard pattern `_`.
  - Create AST pattern nodes.
- **Semantics:** Parses basic pattern types.
- **Edge Cases:** Pattern ambiguity, identifier vs literal.
- **Failure Modes:** ERR-PARSE-019 (Invalid pattern).
- **Dependencies:** ATOM-LANG-0114-001.
- **Tests Required:** Test literal patterns, test bindings, test wildcards.

**ATOM-LANG-0114-003: Structured Pattern Parsing (Tuple, Struct, Enum)**
- **Parent:** SPEC-LANG-0114
- **Source:** REQ-073, SSOT Section 3.4
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Parse tuple patterns `(a, b, c)`.
  - Parse struct patterns `Point { x, y }`.
  - Parse enum patterns `Option::Some(x)`.
  - Support nested patterns.
- **Semantics:** Parses complex destructuring patterns.
- **Edge Cases:** Deep nesting, partial patterns, rest patterns.
- **Failure Modes:** ERR-PARSE-020 (Invalid structured pattern).
- **Dependencies:** ATOM-LANG-0114-002.
- **Tests Required:** Test tuple patterns, test struct patterns, test enum patterns, test nesting.

**ATOM-LANG-0114-004: Pattern Guard Parsing**
- **Parent:** SPEC-LANG-0114
- **Source:** REQ-073, SSOT Section 3.4
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Parse `case pattern if guard:` syntax.
  - Parse guard boolean expressions.
  - Associate guards with patterns.
- **Semantics:** Adds conditional matching to patterns.
- **Edge Cases:** Complex guard expressions, guard with wildcards.
- **Failure Modes:** ERR-PARSE-021 (Invalid pattern guard).
- **Dependencies:** ATOM-LANG-0114-002, ATOM-LANG-0114-003.
- **Tests Required:** Test guards, test complex guards, test semantics.

================================================================================
ATOM Decomposition: SPEC-LANG-0201 (Type Inference Algorithm)
================================================================================

**Parent LEAF:** SPEC-LANG-0201: Type Inference Algorithm
**Source:** REQ-085, SSOT Section 4.1
**Decomposition Rationale:** Type inference requires constraint collection, unification algorithm, and solution propagation - three distinct algorithmic phases.

**ATOM-LANG-0201-001: Type Variable Generation**
- **Parent:** SPEC-LANG-0201
- **Source:** REQ-085, SSOT Section 4.1
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Generate fresh type variables for unknown types.
  - Track type variable scopes.
  - Support type variable naming for diagnostics.
- **Semantics:** Creates placeholder types for inference.
- **Edge Cases:** Type variable capture, shadowing.
- **Failure Modes:** None (generation is internal).
- **Dependencies:** None.
- **Tests Required:** Test generation, test scoping, test uniqueness.

**ATOM-LANG-0201-002: Constraint Collection**
- **Parent:** SPEC-LANG-0201
- **Source:** REQ-085, SSOT Section 4.1
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Collect equality constraints (T1 = T2).
  - Collect subtyping constraints (T1 <: T2).
  - Collect trait bound constraints (T: Trait).
  - Build constraint set from AST traversal.
- **Semantics:** Gathers type relationships for solving.
- **Edge Cases:** Conflicting constraints, circular constraints.
- **Failure Modes:** ERR-TYPE-001 (Type mismatch during collection).
- **Dependencies:** ATOM-LANG-0201-001, AST.
- **Tests Required:** Test constraint collection, test various expressions.

**ATOM-LANG-0201-003: Unification Algorithm**
- **Parent:** SPEC-LANG-0201
- **Source:** REQ-085, SSOT Section 4.1
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Implement Hindley-Milner unification algorithm.
  - Solve type variable constraints.
  - Detect unification failures.
  - Implement occurs check.
- **Semantics:** Resolves type variables to concrete types.
- **Edge Cases:** Infinite types, ambiguous types, polymorphic recursion.
- **Failure Modes:** ERR-TYPE-002 (Unification failure).
- **Dependencies:** ATOM-LANG-0201-002.
- **Tests Required:** Test unification, test occurs check, test failures.

**ATOM-LANG-0201-004: Type Solution Propagation**
- **Parent:** SPEC-LANG-0201
- **Source:** REQ-085, SSOT Section 4.1
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Propagate solved types back to AST nodes.
  - Substitute type variables with solved types.
  - Validate final type assignments.
- **Semantics:** Applies inference results to program.
- **Edge Cases:** Partial inference, unsolved variables.
- **Failure Modes:** ERR-TYPE-003 (Ambiguous type).
- **Dependencies:** ATOM-LANG-0201-003.
- **Tests Required:** Test propagation, test ambiguity detection.

================================================================================
ATOM Decomposition: SPEC-LANG-0202 (Type Compatibility Checking)
================================================================================

**Parent LEAF:** SPEC-LANG-0202: Type Compatibility Checking
**Source:** REQ-086, SSOT Section 4.1
**Decomposition Rationale:** Type compatibility involves structural comparison, subtyping rules, and compatibility error reporting.

**ATOM-LANG-0202-001: Structural Type Comparison**
- **Parent:** SPEC-LANG-0202
- **Source:** REQ-086, SSOT Section 4.1
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Implement structural equality checking.
  - Handle nominal vs structural types.
  - Compare type parameters and arguments.
- **Semantics:** Determines if two types are identical.
- **Edge Cases:** Generic types, recursive types, type aliases.
- **Failure Modes:** None (returns boolean).
- **Dependencies:** Type representation.
- **Tests Required:** Test structural comparison, test generics.

**ATOM-LANG-0202-002: Subtyping Rules Implementation**
- **Parent:** SPEC-LANG-0202
- **Source:** REQ-086, SSOT Section 4.1
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Implement subtyping rules (variance).
  - Handle trait object subtyping.
  - Handle reference subtyping.
- **Semantics:** Determines if T1 is a subtype of T2.
- **Edge Cases:** Variance, lifetime subtyping, coercions.
- **Failure Modes:** None (returns boolean).
- **Dependencies:** ATOM-LANG-0202-001.
- **Tests Required:** Test subtyping, test variance.

**ATOM-LANG-0202-003: Compatibility Error Reporting**
- **Parent:** SPEC-LANG-0202
- **Source:** REQ-086, SSOT Section 4.1
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Generate ERR-TYPE-004 for incompatible types.
  - Show expected vs actual types.
  - Provide hints for common fixes.
- **Semantics:** Reports type compatibility violations.
- **Edge Cases:** Complex type mismatches, nested incompatibilities.
- **Failure Modes:** ERR-TYPE-004 (Incompatible types).
- **Dependencies:** ATOM-LANG-0202-001, ATOM-LANG-0202-002.
- **Tests Required:** Test error messages, test hints.

================================================================================
ATOM Decomposition: SPEC-LANG-0203 (Generic Type Instantiation)
================================================================================

**Parent LEAF:** SPEC-LANG-0203: Generic Type Instantiation
**Source:** REQ-087, SSOT Section 4.2
**Decomposition Rationale:** Generic instantiation involves type parameter substitution, monomorphization, and generic function call resolution.

**ATOM-LANG-0203-001: Type Parameter Substitution**
- **Parent:** SPEC-LANG-0203
- **Source:** REQ-087, SSOT Section 4.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Substitute type parameters with concrete types.
  - Handle nested generic types.
  - Validate parameter bounds during substitution.
- **Semantics:** Replaces generic placeholders with actual types.
- **Edge Cases:** Nested generics, recursive types, partial substitution.
- **Failure Modes:** ERR-TYPE-005 (Invalid generic instantiation).
- **Dependencies:** SPEC-LANG-0201 (Type Inference).
- **Tests Required:** Test substitution, test nesting, test bounds.

**ATOM-LANG-0203-002: Monomorphization**
- **Parent:** SPEC-LANG-0203
- **Source:** REQ-087, SSOT Section 4.2
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Generate concrete instances of generic functions/types.
  - Track generated instances to avoid duplication.
  - Handle trait bound requirements for instantiations.
- **Semantics:** Creates specialized versions of generic code.
- **Edge Cases:** Exponential blowup, recursion, unused instantiations.
- **Failure Modes:** ERR-CODEGEN-001 (Monomorphization failure).
- **Dependencies:** ATOM-LANG-0203-001.
- **Tests Required:** Test monomorphization, test deduplication.

**ATOM-LANG-0203-003: Generic Function Call Resolution**
- **Parent:** SPEC-LANG-0203
- **Source:** REQ-087, SSOT Section 4.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Infer type arguments from call sites.
  - Support explicit type arguments `func::<T>(...)`.
  - Resolve generic method calls.
- **Semantics:** Determines concrete types for generic calls.
- **Edge Cases:** Ambiguous inference, partial inference, turbofish syntax.
- **Failure Modes:** ERR-TYPE-006 (Cannot infer type arguments).
- **Dependencies:** ATOM-LANG-0203-001, SPEC-LANG-0201.
- **Tests Required:** Test inference, test explicit syntax, test methods.

================================================================================
ATOM Decomposition: SPEC-LANG-0204 (Trait Bound Checking)
================================================================================

**Parent LEAF:** SPEC-LANG-0204: Trait Bound Checking
**Source:** REQ-088, SSOT Section 4.3
**Decomposition Rationale:** Trait bounds require bound collection, satisfaction checking, and associated type resolution.

**ATOM-LANG-0204-001: Trait Bound Collection**
- **Parent:** SPEC-LANG-0204
- **Source:** REQ-088, SSOT Section 4.3
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Collect trait bounds from function/type signatures.
  - Parse where clauses.
  - Build bound environment.
- **Semantics:** Gathers trait requirements for types.
- **Edge Cases:** Complex where clauses, nested bounds.
- **Failure Modes:** ERR-PARSE-022 (Invalid bound syntax).
- **Dependencies:** Parser.
- **Tests Required:** Test bound collection, test where clauses.

**ATOM-LANG-0204-002: Trait Satisfaction Checking**
- **Parent:** SPEC-LANG-0204
- **Source:** REQ-088, SSOT Section 4.3
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Check if types satisfy required traits.
  - Search for trait implementations.
  - Validate bound satisfaction at usage sites.
- **Semantics:** Ensures trait requirements are met.
- **Edge Cases:** Multiple bounds, negative bounds, higher-rank traits.
- **Failure Modes:** ERR-TYPE-007 (Trait bound not satisfied).
- **Dependencies:** ATOM-LANG-0204-001, trait system.
- **Tests Required:** Test satisfaction, test errors, test complex bounds.

**ATOM-LANG-0204-003: Associated Type Resolution**
- **Parent:** SPEC-LANG-0204
- **Source:** REQ-088, SSOT Section 4.3
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Resolve associated types in trait bounds.
  - Handle `T: Trait<Assoc=U>` syntax.
  - Validate associated type bindings.
- **Semantics:** Resolves types within trait relationships.
- **Edge Cases:** Ambiguous associated types, conflicting bindings.
- **Failure Modes:** ERR-TYPE-008 (Invalid associated type).
- **Dependencies:** ATOM-LANG-0204-002.
- **Tests Required:** Test associated types, test bindings.

================================================================================
ATOM Decomposition: SPEC-LANG-0301 (Move Semantics Analysis)
================================================================================

**Parent LEAF:** SPEC-LANG-0301: Move Semantics Analysis
**Source:** REQ-104, SSOT Section 5.1
**Decomposition Rationale:** Move semantics requires use-after-move detection, move tracking, and move error reporting.

**ATOM-LANG-0301-001: Move Site Detection**
- **Parent:** SPEC-LANG-0301
- **Source:** REQ-104, SSOT Section 5.1
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Detect value moves (assignment, function call, return).
  - Mark moved variables in dataflow graph.
  - Track move semantics through control flow.
- **Semantics:** Identifies when values are moved.
- **Edge Cases:** Conditional moves, loop moves, partial moves.
- **Failure Modes:** None (detection is internal).
- **Dependencies:** Control flow graph.
- **Tests Required:** Test move detection, test control flow.

**ATOM-LANG-0301-002: Use-After-Move Detection**
- **Parent:** SPEC-LANG-0301
- **Source:** REQ-104, SSOT Section 5.1
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Detect uses of moved values.
  - Track variable liveness after moves.
  - Generate ERR-MOVE-001 for violations.
- **Semantics:** Prevents use of invalidated values.
- **Edge Cases:** Conditional use-after-move, move in loop, partial use.
- **Failure Modes:** ERR-MOVE-001 (Use of moved value).
- **Dependencies:** ATOM-LANG-0301-001.
- **Tests Required:** Test use-after-move, test conditionals, test loops.

**ATOM-LANG-0301-003: Copy Type Exemption**
- **Parent:** SPEC-LANG-0301
- **Source:** REQ-104, SSOT Section 5.1
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Identify Copy types (primitives, Copy trait).
  - Exempt Copy types from move semantics.
  - Allow multiple uses of Copy types.
- **Semantics:** Handles types that can be implicitly copied.
- **Edge Cases:** Struct with Copy fields, generic Copy bounds.
- **Failure Modes:** None (exemption is type-based).
- **Dependencies:** SPEC-LANG-0304 (Copy vs Move Classification).
- **Tests Required:** Test Copy types, test exemptions.

================================================================================
ATOM Decomposition: SPEC-LANG-0306 (Borrow Checker Driver and Flow Analysis)
================================================================================

**Parent LEAF:** SPEC-LANG-0306: Borrow Checker Driver and Flow Analysis
**Source:** REQ-106, SSOT Section 5.2
**Decomposition Rationale:** Borrow checking requires control flow graph construction, liveness analysis, and borrow scope tracking.

**ATOM-LANG-0306-001: Control Flow Graph Construction**
- **Parent:** SPEC-LANG-0306
- **Source:** REQ-106, SSOT Section 5.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Build CFG from AST.
  - Track basic blocks and edges.
  - Handle control flow statements (if, loop, return, etc.).
- **Semantics:** Represents program control flow.
- **Edge Cases:** Complex control flow, unreachable code, infinite loops.
- **Failure Modes:** None (CFG is internal).
- **Dependencies:** AST.
- **Tests Required:** Test CFG construction, test complex flow.

**ATOM-LANG-0306-002: Liveness Analysis**
- **Parent:** SPEC-LANG-0306
- **Source:** REQ-106, SSOT Section 5.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Perform backward dataflow analysis for liveness.
  - Track live variables at each program point.
  - Identify dead variables.
- **Semantics:** Determines variable lifetime bounds.
- **Edge Cases:** Conditionals, loops, early returns.
- **Failure Modes:** None (analysis is internal).
- **Dependencies:** ATOM-LANG-0306-001.
- **Tests Required:** Test liveness, test control flow.

**ATOM-LANG-0306-003: Borrow Scope Tracking**
- **Parent:** SPEC-LANG-0306
- **Source:** REQ-106, SSOT Section 5.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Track borrow creation and expiration.
  - Compute borrow scopes (non-lexical lifetimes).
  - Detect overlapping borrows.
- **Semantics:** Manages borrow lifetime tracking.
- **Edge Cases:** Nested borrows, conditional borrows, loop borrows.
- **Failure Modes:** None (tracking is internal).
- **Dependencies:** ATOM-LANG-0306-002.
- **Tests Required:** Test scope tracking, test NLL.

================================================================================
ATOM Decomposition: SPEC-LANG-0307 (Immutable vs Mutable Borrow Exclusivity)
================================================================================

**Parent LEAF:** SPEC-LANG-0307: Immutable vs Mutable Borrow Exclusivity Rules
**Source:** REQ-107, SSOT Section 5.2
**Decomposition Rationale:** Exclusivity checking requires borrow conflict detection, simultaneous borrow validation, and violation reporting.

**ATOM-LANG-0307-001: Borrow Conflict Detection**
- **Parent:** SPEC-LANG-0307
- **Source:** REQ-107, SSOT Section 5.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Detect mutable borrow conflicts (multiple mutable).
  - Detect shared/mutable conflicts.
  - Track all active borrows.
- **Semantics:** Identifies exclusivity violations.
- **Edge Cases:** Nested conflicts, field-level conflicts.
- **Failure Modes:** ERR-BORROW-001 (Borrow conflict).
- **Dependencies:** SPEC-LANG-0306 (Borrow Checker Driver).
- **Tests Required:** Test conflict detection, test various scenarios.

**ATOM-LANG-0307-002: Simultaneous Borrow Validation**
- **Parent:** SPEC-LANG-0307
- **Source:** REQ-107, SSOT Section 5.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Validate multiple immutable borrows (allowed).
  - Reject simultaneous mutable borrows.
  - Reject shared + mutable combinations.
- **Semantics:** Enforces aliasing restrictions.
- **Edge Cases:** Temporary borrows, method call borrows.
- **Failure Modes:** ERR-BORROW-001 (Multiple mutable borrows).
- **Dependencies:** ATOM-LANG-0307-001.
- **Tests Required:** Test allowed cases, test forbidden cases.

**ATOM-LANG-0307-003: Exclusivity Violation Reporting**
- **Parent:** SPEC-LANG-0307
- **Source:** REQ-107, SSOT Section 5.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Generate clear error messages for violations.
  - Show conflicting borrow locations.
  - Provide hints for fixes.
- **Semantics:** Reports borrowing errors to users.
- **Edge Cases:** Complex conflict chains, indirect conflicts.
- **Failure Modes:** ERR-BORROW-001 (various borrow errors).
- **Dependencies:** ATOM-LANG-0307-002.
- **Tests Required:** Test error messages, test hints.

================================================================================
ATOM Decomposition: SPEC-LANG-0315 (RAII and Deterministic Destruction)
================================================================================

**Parent LEAF:** SPEC-LANG-0315: RAII and Deterministic Destruction
**Source:** REQ-115, SSOT Section 5.4
**Decomposition Rationale:** RAII involves destructor call insertion, drop order calculation, and panic-during-drop handling.

**ATOM-LANG-0315-001: Destructor Call Insertion**
- **Parent:** SPEC-LANG-0315
- **Source:** REQ-115, SSOT Section 5.4
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Insert implicit destructor calls at scope exit.
  - Handle early exits (return, break, continue).
  - Track drop flags for conditional drops.
- **Semantics:** Ensures automatic resource cleanup.
- **Edge Cases:** Moved values, conditional initialization, panic.
- **Failure Modes:** None (insertion is automatic).
- **Dependencies:** SPEC-LANG-0306 (Borrow Checker).
- **Tests Required:** Test automatic drops, test early exit, test moves.

**ATOM-LANG-0315-002: Drop Order Calculation**
- **Parent:** SPEC-LANG-0315
- **Source:** REQ-115, SSOT Section 5.4
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Calculate reverse declaration order for drops.
  - Handle nested scopes correctly.
  - Drop fields in reverse declaration order.
- **Semantics:** Defines deterministic destruction order.
- **Edge Cases:** Circular references (compile error), complex nesting.
- **Failure Modes:** None (order is deterministic).
- **Dependencies:** ATOM-LANG-0315-001.
- **Tests Required:** Test drop order, test nesting, test fields.

**ATOM-LANG-0315-003: Panic-During-Drop Handling**
- **Parent:** SPEC-LANG-0315
- **Source:** REQ-115, SSOT Section 5.4
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Continue dropping remaining values if drop panics.
  - Track double-panic scenario (abort).
  - Ensure all drops attempt execution.
- **Semantics:** Handles exceptional situations during cleanup.
- **Edge Cases:** Double panic, recursive panic.
- **Failure Modes:** Abort on double panic.
- **Dependencies:** ATOM-LANG-0315-002, panic system.
- **Tests Required:** Test panic during drop, test double panic.

================================================================================
ATOM Decomposition: SPEC-LANG-0501 (Parameter Closure Syntax)
================================================================================

**Parent LEAF:** SPEC-LANG-0501: Parameter Closure Syntax (fn[...])
**Source:** REQ-161, SSOT Section 6.1
**Decomposition Rationale:** Parameter closures require syntax parsing, capture-by-parameter semantics, and zero-cost abstraction validation.

**ATOM-LANG-0501-001: Parameter Closure Syntax Parsing**
- **Parent:** SPEC-LANG-0501
- **Source:** REQ-161, SSOT Section 6.1
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Parse `fn[param1, param2] { body }` syntax.
  - Parse parameter list in brackets.
  - Create AST closure nodes.
- **Semantics:** Parses zero-cost closure syntax.
- **Edge Cases:** Empty parameter list, nested closures.
- **Failure Modes:** ERR-PARSE-023 (Invalid closure syntax).
- **Dependencies:** Expression parsing.
- **Tests Required:** Test syntax parsing, test nesting.

**ATOM-LANG-0501-002: Capture-by-Parameter Semantics**
- **Parent:** SPEC-LANG-0501
- **Source:** REQ-161, SSOT Section 6.1
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Treat captures as explicit parameters.
  - No implicit environment capture.
  - Validate all used variables are parameters.
- **Semantics:** Enforces explicit capture for zero-cost.
- **Edge Cases:** Captured variables not in parameters.
- **Failure Modes:** ERR-TYPE-009 (Undefined variable in closure).
- **Dependencies:** ATOM-LANG-0501-001.
- **Tests Required:** Test explicit capture, test errors.

**ATOM-LANG-0501-003: Zero-Cost Inlining Validation**
- **Parent:** SPEC-LANG-0501
- **Source:** REQ-161, SSOT Section 6.1
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Verify parameter closures can be fully inlined.
  - No heap allocation for parameter closures.
  - Validate zero-cost guarantee.
- **Semantics:** Ensures performance promise.
- **Edge Cases:** Complex closures, recursive calls.
- **Failure Modes:** None (guaranteed by design).
- **Dependencies:** ATOM-LANG-0501-002, codegen.
- **Tests Required:** Test inlining, verify no heap allocation.

================================================================================
ATOM Decomposition: SPEC-LANG-0502 (Runtime Closure Syntax)
================================================================================

**Parent LEAF:** SPEC-LANG-0502: Runtime Closure Syntax (fn(...))
**Source:** REQ-162, SSOT Section 6.1
**Decomposition Rationale:** Runtime closures require syntax parsing, implicit capture analysis, and heap allocation codegen.

**ATOM-LANG-0502-001: Runtime Closure Syntax Parsing**
- **Parent:** SPEC-LANG-0502
- **Source:** REQ-162, SSOT Section 6.1
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Parse `fn(param1, param2) { body }` syntax (parens, not brackets).
  - Parse parameter list in parentheses.
  - Create AST runtime closure nodes.
- **Semantics:** Parses heap-allocated closure syntax.
- **Edge Cases:** Zero parameters, nested closures.
- **Failure Modes:** ERR-PARSE-024 (Invalid closure syntax).
- **Dependencies:** Expression parsing.
- **Tests Required:** Test syntax parsing, test nesting.

**ATOM-LANG-0502-002: Implicit Capture Analysis**
- **Parent:** SPEC-LANG-0502
- **Source:** REQ-162, SSOT Section 6.1
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Analyze closure body for free variables.
  - Determine captured variables automatically.
  - Build capture environment.
- **Semantics:** Identifies variables to capture implicitly.
- **Edge Cases:** Nested captures, mutable captures.
- **Failure Modes:** None (analysis is automatic).
- **Dependencies:** ATOM-LANG-0502-001, SPEC-LANG-0503.
- **Tests Required:** Test capture analysis, test nesting.

**ATOM-LANG-0502-003: Heap Allocation Codegen**
- **Parent:** SPEC-LANG-0502
- **Source:** REQ-162, SSOT Section 6.1
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Generate heap-allocated closure structs.
  - Store captured environment in closure.
  - Generate closure call trampolines.
- **Semantics:** Implements runtime closure representation.
- **Edge Cases:** Large captures, recursive closures.
- **Failure Modes:** OOM during allocation.
- **Dependencies:** ATOM-LANG-0502-002, allocator.
- **Tests Required:** Test heap allocation, test calls.

================================================================================
ATOM Decomposition: SPEC-LANG-0503 (Closure Capture Analysis)
================================================================================

**Parent LEAF:** SPEC-LANG-0503: Closure Capture Analysis
**Source:** REQ-163, SSOT Section 6.1
**Decomposition Rationale:** Capture analysis requires free variable detection, capture mode determination (move/borrow), and lifetime validation.

**ATOM-LANG-0503-001: Free Variable Detection**
- **Parent:** SPEC-LANG-0503
- **Source:** REQ-163, SSOT Section 6.1
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Identify variables used in closure that are not parameters.
  - Distinguish local vs captured variables.
  - Build capture set.
- **Semantics:** Finds variables that must be captured.
- **Edge Cases:** Nested closures, shadowing, recursive references.
- **Failure Modes:** None (detection is internal).
- **Dependencies:** Scope analysis.
- **Tests Required:** Test detection, test nesting, test shadowing.

**ATOM-LANG-0503-002: Capture Mode Determination**
- **Parent:** SPEC-LANG-0503
- **Source:** REQ-163, SSOT Section 6.1
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Determine if capture is by-move or by-reference.
  - Analyze usage within closure body.
  - Apply move-by-default for non-Copy types.
- **Semantics:** Decides how variables are captured.
- **Edge Cases:** Mutable captures, Copy types, explicit move.
- **Failure Modes:** ERR-CAPTURE-001 (Invalid capture mode).
- **Dependencies:** ATOM-LANG-0503-001, SPEC-LANG-0304 (Copy classification).
- **Tests Required:** Test capture modes, test Copy/non-Copy.

**ATOM-LANG-0503-003: Capture Lifetime Validation**
- **Parent:** SPEC-LANG-0503
- **Source:** REQ-163, SSOT Section 6.1
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Validate captured references outlive closure.
  - Check closure lifetime bounds.
  - Report lifetime violations.
- **Semantics:** Ensures closure captures are safe.
- **Edge Cases:** Short-lived captures, escaping closures.
- **Failure Modes:** ERR-LIFETIME-001 (Capture lifetime error).
- **Dependencies:** ATOM-LANG-0503-002, SPEC-LANG-0303 (Lifetime Analysis).
- **Tests Required:** Test lifetime validation, test errors.

================================================================================
ATOM Decomposition: SPEC-LANG-0840 (Built-in Serialization Formats) [ALREADY DECOMPOSED]
================================================================================
# NOTE: This LEAF was already decomposed earlier with 5 ATOMs. Skipping.

================================================================================
ATOM Decomposition: SPEC-LANG-0841 (Automated Serialization Derivation)
================================================================================

**Parent LEAF:** SPEC-LANG-0841: Automated Serialization Derivation (@derive)
**Source:** REQ-299, SSOT Section 9.6
**Decomposition Rationale:** Derive macros require attribute parsing, trait implementation generation, and field serialization logic.

**ATOM-LANG-0841-001: @derive Attribute Parsing**
- **Parent:** SPEC-LANG-0841
- **Source:** REQ-299, SSOT Section 9.6
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Parse `@derive(Serialize, Deserialize)` syntax.
  - Validate derivable traits.
  - Collect derive requests.
- **Semantics:** Parses derive annotations.
- **Edge Cases:** Multiple derives, invalid traits, conflicting derives.
- **Failure Modes:** ERR-DERIVE-001 (Invalid derive).
- **Dependencies:** Attribute parsing.
- **Tests Required:** Test parsing, test validation, test errors.

**ATOM-LANG-0841-002: Serialize Trait Implementation Generation**
- **Parent:** SPEC-LANG-0841
- **Source:** REQ-299, SSOT Section 9.6
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Generate Serialize impl for structs/enums.
  - Handle field serialization recursively.
  - Support custom field attributes (rename, skip).
- **Semantics:** Generates serialization code automatically.
- **Edge Cases:** Generic types, nested structures, circular references.
- **Failure Modes:** ERR-DERIVE-002 (Cannot derive Serialize).
- **Dependencies:** ATOM-LANG-0841-001, SPEC-LANG-0840.
- **Tests Required:** Test generation, test custom attributes.

**ATOM-LANG-0841-003: Deserialize Trait Implementation Generation**
- **Parent:** SPEC-LANG-0841
- **Source:** REQ-299, SSOT Section 9.6
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Generate Deserialize impl for structs/enums.
  - Handle field deserialization with validation.
  - Support default values and missing fields.
- **Semantics:** Generates deserialization code automatically.
- **Edge Cases:** Missing fields, type mismatches, validation errors.
- **Failure Modes:** ERR-DERIVE-003 (Cannot derive Deserialize).
- **Dependencies:** ATOM-LANG-0841-001, SPEC-LANG-0840.
- **Tests Required:** Test generation, test validation, test defaults.

================================================================================
ATOM Decomposition: SPEC-LANG-0901 (Global Default Allocator)
================================================================================

**Parent LEAF:** SPEC-LANG-0901: Global Default Allocator
**Source:** REQ-331, SSOT Section 9.8
**Decomposition Rationale:** Global allocator requires allocation/deallocation implementation, alignment handling, and OOM error handling.

**ATOM-LANG-0901-001: Allocation Interface Implementation**
- **Parent:** SPEC-LANG-0901
- **Source:** REQ-331, SSOT Section 9.8
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Implement `alloc(size, align)` function.
  - Call system allocator (malloc/HeapAlloc).
  - Return aligned memory pointer.
- **Semantics:** Provides memory allocation.
- **Edge Cases:** Zero-size allocations, large alignments.
- **Failure Modes:** Returns null on OOM.
- **Dependencies:** System allocator.
- **Tests Required:** Test allocation, test alignment, test sizes.

**ATOM-LANG-0901-002: Deallocation Interface Implementation**
- **Parent:** SPEC-LANG-0901
- **Source:** REQ-331, SSOT Section 9.8
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Implement `dealloc(ptr, size, align)` function.
  - Call system deallocator (free/HeapFree).
  - Handle null pointers gracefully.
- **Semantics:** Frees allocated memory.
- **Edge Cases:** Null pointer, double-free (UB), mismatched size/align.
- **Failure Modes:** None (dealloc doesn't fail).
- **Dependencies:** ATOM-LANG-0901-001.
- **Tests Required:** Test deallocation, test null handling.

**ATOM-LANG-0901-003: Out-of-Memory Handling**
- **Parent:** SPEC-LANG-0901
- **Source:** REQ-331, SSOT Section 9.8
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Detect allocation failures.
  - Return ERR-MEM-001 (out of memory).
  - Support OOM hooks for custom handling.
- **Semantics:** Handles memory exhaustion.
- **Edge Cases:** Partial allocations, allocation storms.
- **Failure Modes:** ERR-MEM-001 (out of memory).
- **Dependencies:** ATOM-LANG-0901-001.
- **Tests Required:** Test OOM detection, test error propagation.

================================================================================
ATOM Decomposition: SPEC-LANG-0902 (Custom Arena Allocators)
================================================================================

**Parent LEAF:** SPEC-LANG-0902: Custom Arena Allocators
**Source:** REQ-332, SSOT Section 9.8
**Decomposition Rationale:** Arena allocators require arena memory management, fast bump allocation, and bulk deallocation.

**ATOM-LANG-0902-001: Arena Memory Management**
- **Parent:** SPEC-LANG-0902
- **Source:** REQ-332, SSOT Section 9.8
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Allocate large memory chunks from system.
  - Track arena capacity and used space.
  - Support arena resizing/expansion.
- **Semantics:** Manages arena backing storage.
- **Edge Cases:** Arena exhaustion, large allocations, fragmentation.
- **Failure Modes:** ERR-MEM-002 (arena full).
- **Dependencies:** SPEC-LANG-0901.
- **Tests Required:** Test arena creation, test expansion.

**ATOM-LANG-0902-002: Bump Allocator Implementation**
- **Parent:** SPEC-LANG-0902
- **Source:** REQ-332, SSOT Section 9.8
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Implement fast bump pointer allocation.
  - Handle alignment requirements.
  - Check arena bounds on each allocation.
- **Semantics:** Provides fast sequential allocation.
- **Edge Cases:** Alignment padding, boundary conditions.
- **Failure Modes:** ERR-MEM-002 (arena full).
- **Dependencies:** ATOM-LANG-0902-001.
- **Tests Required:** Test bump allocation, test alignment.

**ATOM-LANG-0902-003: Bulk Deallocation**
- **Parent:** SPEC-LANG-0902
- **Source:** REQ-332, SSOT Section 9.8
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Implement arena reset (dealloc all at once).
  - Skip individual deallocations.
  - Optimize for bulk cleanup.
- **Semantics:** Enables efficient lifetime-based memory management.
- **Edge Cases:** Partially used arenas, nested arenas.
- **Failure Modes:** None (bulk dealloc is fast).
- **Dependencies:** ATOM-LANG-0902-001.
- **Tests Required:** Test bulk dealloc, test performance.

================================================================================
ATOM Decomposition: SPEC-LANG-1001 (Thread Management API)
================================================================================

**Parent LEAF:** SPEC-LANG-1001: Thread Management API (spawn)
**Source:** REQ-339, SSOT Section 9.9
**Decomposition Rationale:** Thread management requires thread creation, thread joining, and thread-local storage.

**ATOM-LANG-1001-001: Thread Creation (spawn)**
- **Parent:** SPEC-LANG-1001
- **Source:** REQ-339, SSOT Section 9.9
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Implement `Thread::spawn(closure)` API.
  - Create OS thread (pthread/Windows thread).
  - Execute closure in new thread.
- **Semantics:** Creates concurrent execution threads.
- **Edge Cases:** Thread creation limits, resource exhaustion.
- **Failure Modes:** ERR-THREAD-001 (thread creation failed).
- **Dependencies:** OS threading API.
- **Tests Required:** Test thread creation, test concurrency.

**ATOM-LANG-1001-002: Thread Joining**
- **Parent:** SPEC-LANG-1001
- **Source:** REQ-339, SSOT Section 9.9
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Implement `Thread::join()` API.
  - Wait for thread completion.
  - Return thread result.
- **Semantics:** Synchronizes with thread completion.
- **Edge Cases:** Detached threads, double join, deadlock.
- **Failure Modes:** ERR-THREAD-002 (join failed).
- **Dependencies:** ATOM-LANG-1001-001.
- **Tests Required:** Test joining, test result return.

**ATOM-LANG-1001-003: Thread-Local Storage**
- **Parent:** SPEC-LANG-1001
- **Source:** REQ-339, SSOT Section 9.9
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Implement thread-local variable support.
  - Use OS TLS mechanisms.
  - Support initialization per thread.
- **Semantics:** Provides per-thread state.
- **Edge Cases:** TLS limits, initialization order, destructors.
- **Failure Modes:** ERR-THREAD-003 (TLS allocation failed).
- **Dependencies:** ATOM-LANG-1001-001.
- **Tests Required:** Test TLS, test per-thread state.

================================================================================
ATOM Decomposition: SPEC-LANG-1002 (Send/Sync Trait Enforcement)
================================================================================

**Parent LEAF:** SPEC-LANG-1002: Send/Sync Trait Enforcement
**Source:** REQ-340, SSOT Section 9.9
**Decomposition Rationale:** Send/Sync enforcement requires marker trait implementation, auto-derive logic, and cross-thread validation.

**ATOM-LANG-1002-001: Send/Sync Marker Trait Definition**
- **Parent:** SPEC-LANG-1002
- **Source:** REQ-340, SSOT Section 9.9
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Define Send and Sync marker traits.
  - Mark as auto traits (no methods).
  - Integrate with type system.
- **Semantics:** Establishes thread safety contracts.
- **Edge Cases:** Manual impl, negative impl (!Send).
- **Failure Modes:** None (definition is declarative).
- **Dependencies:** Trait system.
- **Tests Required:** Test trait definition, test markers.

**ATOM-LANG-1002-002: Auto-derive Logic for Send/Sync**
- **Parent:** SPEC-LANG-1002
- **Source:** REQ-340, SSOT Section 9.9
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Auto-implement Send for types where all fields are Send.
  - Auto-implement Sync for types where all fields are Sync.
  - Handle primitives and standard types.
- **Semantics:** Automatically determines thread safety.
- **Edge Cases:** Generic types, raw pointers, unsafe types.
- **Failure Modes:** None (auto-derive is algorithmic).
- **Dependencies:** ATOM-LANG-1002-001.
- **Tests Required:** Test auto-derive, test edge cases.

**ATOM-LANG-1002-003: Cross-Thread Send Validation**
- **Parent:** SPEC-LANG-1002
- **Source:** REQ-340, SSOT Section 9.9
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Validate T: Send when moving across threads.
  - Check Send bounds at thread spawn sites.
  - Report ERR-THREAD-004 for violations.
- **Semantics:** Enforces thread safety at compile time.
- **Edge Cases:** Closures, captured variables, shared references.
- **Failure Modes:** ERR-THREAD-004 (type not Send).
- **Dependencies:** ATOM-LANG-1002-002.
- **Tests Required:** Test validation, test errors.

================================================================================
ATOM Decomposition: SPEC-LANG-1101 (Structured Logging API)
================================================================================

**Parent LEAF:** SPEC-LANG-1101: Structured Logging API
**Source:** REQ-351, SSOT Section 9.10
**Decomposition Rationale:** Logging API requires log macro implementation, level filtering, and backend integration.

**ATOM-LANG-1101-001: Log Macro Implementation**
- **Parent:** SPEC-LANG-1101
- **Source:** REQ-351, SSOT Section 9.10
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Implement log!(), debug!(), info!(), warn!(), error!() macros.
  - Support format string syntax.
  - Support structured key-value pairs.
- **Semantics:** Provides logging interface.
- **Edge Cases:** Complex format strings, many key-value pairs.
- **Failure Modes:** None (logging doesn't fail).
- **Dependencies:** Macro system, format strings.
- **Tests Required:** Test macros, test formatting.

**ATOM-LANG-1101-002: Log Level Filtering**
- **Parent:** SPEC-LANG-1101
- **Source:** REQ-351, SSOT Section 9.10
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Implement compile-time log level filtering.
  - Support runtime log level configuration.
  - Filter based on log level hierarchy.
- **Semantics:** Controls which logs are emitted.
- **Edge Cases:** Dynamic level changes, per-module levels.
- **Failure Modes:** None (filtering is non-failing).
- **Dependencies:** ATOM-LANG-1101-001.
- **Tests Required:** Test filtering, test levels.

**ATOM-LANG-1101-003: Backend Integration**
- **Parent:** SPEC-LANG-1101
- **Source:** REQ-351, SSOT Section 9.10
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Define logger backend trait.
  - Support pluggable backends (console, file, etc.).
  - Route log calls to configured backend.
- **Semantics:** Enables flexible log output.
- **Edge Cases:** Multiple backends, async logging.
- **Failure Modes:** Backend initialization errors.
- **Dependencies:** ATOM-LANG-1101-001, ATOM-LANG-1101-002.
- **Tests Required:** Test backends, test routing.

================================================================================
ATOM Decomposition: SPEC-LANG-1102 (Distributed Tracing Spans)
================================================================================

**Parent LEAF:** SPEC-LANG-1102: Distributed Tracing Spans
**Source:** REQ-352, SSOT Section 9.10
**Decomposition Rationale:** Tracing spans require span creation, context propagation, and trace ID management.

**ATOM-LANG-1102-001: Span Creation and Lifecycle**
- **Parent:** SPEC-LANG-1102
- **Source:** REQ-352, SSOT Section 9.10
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Implement span creation API.
  - Track span start/end times.
  - Support span attributes and events.
- **Semantics:** Defines trace execution segments.
- **Edge Cases:** Nested spans, long-lived spans, concurrent spans.
- **Failure Modes:** None (span creation is non-failing).
- **Dependencies:** Time utilities.
- **Tests Required:** Test span creation, test lifecycle.

**ATOM-LANG-1102-002: Context Propagation**
- **Parent:** SPEC-LANG-1102
- **Source:** REQ-352, SSOT Section 9.10
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Implement span context (trace ID, span ID).
  - Propagate context across function calls.
  - Support cross-service context (W3C Trace Context).
- **Semantics:** Maintains trace continuity.
- **Edge Cases:** Context loss, concurrent contexts, distributed systems.
- **Failure Modes:** None (propagation is best-effort).
- **Dependencies:** ATOM-LANG-1102-001.
- **Tests Required:** Test propagation, test cross-service.

**ATOM-LANG-1102-003: Trace ID Management**
- **Parent:** SPEC-LANG-1102
- **Source:** REQ-352, SSOT Section 9.10
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Generate unique trace IDs.
  - Associate spans with trace IDs.
  - Support trace ID injection/extraction.
- **Semantics:** Identifies complete request traces.
- **Edge Cases:** ID collisions, distributed ID generation.
- **Failure Modes:** None (ID generation is algorithmic).
- **Dependencies:** ATOM-LANG-1102-001.
- **Tests Required:** Test ID generation, test uniqueness.

================================================================================
ATOM Decomposition: SPEC-LANG-1103 (Type-safe Metrics Collection)
================================================================================

**Parent LEAF:** SPEC-LANG-1103: Type-safe Metrics Collection
**Source:** REQ-353, SSOT Section 9.10
**Decomposition Rationale:** Metrics require metric type support (counter, gauge, histogram), recording API, and aggregation logic.

**ATOM-LANG-1103-001: Metric Type Support**
- **Parent:** SPEC-LANG-1103
- **Source:** REQ-353, SSOT Section 9.10
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Implement Counter, Gauge, Histogram metric types.
  - Define type-specific APIs (increment, set, record).
  - Enforce type safety for metric operations.
- **Semantics:** Provides different metric semantics.
- **Edge Cases:** Negative values, overflow, concurrent updates.
- **Failure Modes:** None (metrics are fire-and-forget).
- **Dependencies:** None.
- **Tests Required:** Test all metric types, test operations.

**ATOM-LANG-1103-002: Metrics Recording API**
- **Parent:** SPEC-LANG-1103
- **Source:** REQ-353, SSOT Section 9.10
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Implement recording methods (inc, set, record).
  - Support metric labels/dimensions.
  - Ensure thread-safe recording.
- **Semantics:** Captures metric values.
- **Edge Cases:** High-frequency recording, many labels, concurrent access.
- **Failure Modes:** None (recording is non-blocking).
- **Dependencies:** ATOM-LANG-1103-001.
- **Tests Required:** Test recording, test labels, test concurrency.

**ATOM-LANG-1103-003: Metric Aggregation Logic**
- **Parent:** SPEC-LANG-1103
- **Source:** REQ-353, SSOT Section 9.10
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Aggregate metric values over time windows.
  - Calculate percentiles for histograms.
  - Support metric export format.
- **Semantics:** Computes metric summaries.
- **Edge Cases:** Time window boundaries, sparse metrics, reset handling.
- **Failure Modes:** None (aggregation is internal).
- **Dependencies:** ATOM-LANG-1103-002.
- **Tests Required:** Test aggregation, test percentiles, test export.

================================================================================
ATOM Decomposition: SPEC-QUARRY-0021 (Configurable Contract Checking Levels)
================================================================================

**Parent LEAF:** SPEC-QUARRY-0021: Configurable Contract Checking Levels
**Source:** REQ-197, SSOT Section 8.12
**Decomposition Rationale:** Contract checking requires level configuration, conditional check instrumentation, and runtime optimization.

**ATOM-QUARRY-0021-001: Contract Level Configuration**
- **Parent:** SPEC-QUARRY-0021
- **Source:** REQ-197, SSOT Section 8.12
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Implement --contracts=[none|dev|full] CLI flag.
  - Parse configuration from Quarry.toml.
  - Propagate level to compiler.
- **Semantics:** Configures which contracts are checked.
- **Edge Cases:** Conflicting configs, invalid levels.
- **Failure Modes:** ERR-CONFIG-001 (invalid contract level).
- **Dependencies:** Config system.
- **Tests Required:** Test configuration, test levels.

**ATOM-QUARRY-0021-002: Conditional Check Instrumentation**
- **Parent:** SPEC-QUARRY-0021
- **Source:** REQ-197, SSOT Section 8.12
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Instrument @requires and @ensures checks conditionally.
  - Remove checks at "none" level.
  - Include all checks at "full" level.
- **Semantics:** Enables/disables contract checking in code.
- **Edge Cases:** Nested contracts, performance-critical paths.
- **Failure Modes:** None (instrumentation is compile-time).
- **Dependencies:** ATOM-QUARRY-0021-001, contract attributes.
- **Tests Required:** Test instrumentation, test levels, test performance.

**ATOM-QUARRY-0021-003: Runtime Optimization**
- **Parent:** SPEC-QUARRY-0021
- **Source:** REQ-197, SSOT Section 8.12
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Optimize away checks at "none" level (dead code elimination).
  - Inline lightweight checks at "dev" level.
  - Ensure zero overhead when disabled.
- **Semantics:** Minimizes performance impact of contracts.
- **Edge Cases:** Complex contracts, side effects in checks.
- **Failure Modes:** None (optimization is transparent).
- **Dependencies:** ATOM-QUARRY-0021-002, optimizer.
- **Tests Required:** Test performance, verify zero overhead.

================================================================================
ATOM Decomposition: SPEC-QUARRY-0025 (Learning Profile Mode)
================================================================================

**Parent LEAF:** SPEC-QUARRY-0025: Learning Profile Mode (--learning)
**Source:** REQ-205, SSOT Section 8.13
**Decomposition Rationale:** Learning mode requires educational diagnostics, suggestion generation, and beginner-friendly formatting.

**ATOM-QUARRY-0025-001: Educational Diagnostic Expansion**
- **Parent:** SPEC-QUARRY-0025
- **Source:** REQ-205, SSOT Section 8.13
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Expand error messages with explanations.
  - Include "Why this error?" sections.
  - Provide concept links (borrowing, lifetimes, etc.).
- **Semantics:** Makes errors more understandable for beginners.
- **Edge Cases:** Complex errors, multiple errors.
- **Failure Modes:** None (enhancement only).
- **Dependencies:** Diagnostic system.
- **Tests Required:** Test expanded messages, test clarity.

**ATOM-QUARRY-0025-002: Fix Suggestion Generation**
- **Parent:** SPEC-QUARRY-0025
- **Source:** REQ-205, SSOT Section 8.13
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Generate concrete fix suggestions.
  - Show before/after code examples.
  - Explain why the fix works.
- **Semantics:** Guides users to correct solutions.
- **Edge Cases:** Multiple possible fixes, context-dependent fixes.
- **Failure Modes:** None (suggestions are optional).
- **Dependencies:** ATOM-QUARRY-0025-001.
- **Tests Required:** Test suggestions, test examples, test accuracy.

**ATOM-QUARRY-0025-003: Beginner-Friendly Formatting**
- **Parent:** SPEC-QUARRY-0025
- **Source:** REQ-205, SSOT Section 8.13
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Use simplified terminology.
  - Add visual separators and highlights.
  - Limit jargon in learning mode.
- **Semantics:** Improves accessibility for new users.
- **Edge Cases:** Very complex errors, technical users.
- **Failure Modes:** None (formatting enhancement).
- **Dependencies:** ATOM-QUARRY-0025-001, ATOM-QUARRY-0025-002.
- **Tests Required:** Test formatting, test readability.

================================================================================
ATOM Decomposition: SPEC-QUARRY-0026 (Feature Flag System)
================================================================================

**Parent LEAF:** SPEC-QUARRY-0026: Feature Flag System (Quarry.toml)
**Source:** REQ-206, SSOT Section 8.14
**Decomposition Rationale:** Feature flags require flag definition, dependency resolution, and conditional compilation.

**ATOM-QUARRY-0026-001: Feature Flag Definition and Parsing**
- **Parent:** SPEC-QUARRY-0026
- **Source:** REQ-206, SSOT Section 8.14
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Parse [features] section in Quarry.toml.
  - Support flag definitions with dependencies.
  - Validate flag names and relationships.
- **Semantics:** Defines available feature flags.
- **Edge Cases:** Circular feature dependencies, invalid names.
- **Failure Modes:** ERR-CONFIG-002 (invalid feature definition).
- **Dependencies:** Config parsing.
- **Tests Required:** Test parsing, test validation.

**ATOM-QUARRY-0026-002: Feature Dependency Resolution**
- **Parent:** SPEC-QUARRY-0026
- **Source:** REQ-206, SSOT Section 8.14
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Resolve feature flag dependencies.
  - Enable transitive feature flags.
  - Detect and report circular dependencies.
- **Semantics:** Determines active feature set.
- **Edge Cases:** Complex dependency trees, conflicts.
- **Failure Modes:** ERR-CONFIG-003 (circular feature dependency).
- **Dependencies:** ATOM-QUARRY-0026-001.
- **Tests Required:** Test resolution, test transitivity, test cycles.

**ATOM-QUARRY-0026-003: Conditional Compilation Integration**
- **Parent:** SPEC-QUARRY-0026
- **Source:** REQ-206, SSOT Section 8.14
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Integrate features with @cfg attributes.
  - Support #[cfg(feature = "name")] syntax.
  - Exclude disabled feature code from compilation.
- **Semantics:** Enables conditional compilation based on features.
- **Edge Cases:** Nested cfg, feature combinations.
- **Failure Modes:** None (conditional compilation is transparent).
- **Dependencies:** ATOM-QUARRY-0026-002, SPEC-LANG-0120.
- **Tests Required:** Test conditional compilation, test combinations.

================================================================================
ATOM Decomposition: SPEC-QUARRY-0030 (Automated Code Fixes)
================================================================================

**Parent LEAF:** SPEC-QUARRY-0030: Automated Code Fixes (quarry fix)
**Source:** REQ-210, SSOT Section 8.13
**Decomposition Rationale:** Automated fixes require fix suggestion detection, code transformation, and safety verification.

**ATOM-QUARRY-0030-001: Fix Suggestion Detection**
- **Parent:** SPEC-QUARRY-0030
- **Source:** REQ-210, SSOT Section 8.13
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Identify errors that can be auto-fixed.
  - Generate fix suggestions with code patches.
  - Rank suggestions by confidence.
- **Semantics:** Finds fixable issues automatically.
- **Edge Cases:** Ambiguous fixes, low-confidence suggestions.
- **Failure Modes:** None (suggestions are non-destructive).
- **Dependencies:** Diagnostic system.
- **Tests Required:** Test detection, test suggestion quality.

**ATOM-QUARRY-0030-002: Code Transformation Application**
- **Parent:** SPEC-QUARRY-0030
- **Source:** REQ-210, SSOT Section 8.13
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Apply suggested fixes to source code.
  - Preserve formatting and comments.
  - Support batch fix application.
- **Semantics:** Modifies source code automatically.
- **Edge Cases:** Conflicting fixes, formatting preservation.
- **Failure Modes:** ERR-FIX-001 (fix application failed).
- **Dependencies:** ATOM-QUARRY-0030-001, AST manipulation.
- **Tests Required:** Test application, test preservation, test batching.

**ATOM-QUARRY-0030-003: Fix Safety Verification**
- **Parent:** SPEC-QUARRY-0030
- **Source:** REQ-210, SSOT Section 8.13
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Recompile after applying fixes.
  - Verify fixes don't introduce new errors.
  - Rollback on verification failure.
- **Semantics:** Ensures fixes are correct.
- **Edge Cases:** Partial fixes, cascading errors.
- **Failure Modes:** ERR-FIX-002 (fix verification failed).
- **Dependencies:** ATOM-QUARRY-0030-002, compiler.
- **Tests Required:** Test verification, test rollback.

================================================================================
ATOM Decomposition: SPEC-QUARRY-0033 (Multi-level Linter)
================================================================================

**Parent LEAF:** SPEC-QUARRY-0033: Multi-level Linter (quarry lint)
**Source:** REQ-217, SSOT Section 8.13
**Decomposition Rationale:** Linter requires rule definition, lint checking, and configurable severity levels.

**ATOM-QUARRY-0033-001: Lint Rule Definition Framework**
- **Parent:** SPEC-QUARRY-0033
- **Source:** REQ-217, SSOT Section 8.13
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Define lint rule interface.
  - Support AST-based and pattern-based rules.
  - Allow extensible rule registration.
- **Semantics:** Provides framework for lint rules.
- **Edge Cases:** Complex rules, performance-intensive rules.
- **Failure Modes:** None (framework is structural).
- **Dependencies:** AST.
- **Tests Required:** Test framework, test rule registration.

**ATOM-QUARRY-0033-002: Lint Check Execution**
- **Parent:** SPEC-QUARRY-0033
- **Source:** REQ-217, SSOT Section 8.13
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Execute lint rules on AST.
  - Collect lint violations.
  - Support incremental linting.
- **Semantics:** Performs code quality checking.
- **Edge Cases:** Many violations, slow rules, large codebases.
- **Failure Modes:** None (linting reports issues).
- **Dependencies:** ATOM-QUARRY-0033-001.
- **Tests Required:** Test execution, test collection, test performance.

**ATOM-QUARRY-0033-003: Configurable Severity Levels**
- **Parent:** SPEC-QUARRY-0033
- **Source:** REQ-217, SSOT Section 8.13
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Support warn/error/allow severity levels.
  - Configure severity per rule in Quarry.toml.
  - Enforce error-level violations (fail build).
- **Semantics:** Controls lint enforcement.
- **Edge Cases:** Global vs local config, rule overrides.
- **Failure Modes:** ERR-LINT-001 (lint error).
- **Dependencies:** ATOM-QUARRY-0033-002, config system.
- **Tests Required:** Test severity levels, test configuration, test enforcement.

================================================================================
ATOM Decomposition: SPEC-QUARRY-0034 (Code Expansion Tooling)
================================================================================

**Parent LEAF:** SPEC-QUARRY-0034: Code Expansion Tooling (quarry expand)
**Source:** REQ-218, SSOT Section 8.15
**Decomposition Rationale:** Code expansion requires macro expansion, output formatting, and expansion scoping.

**ATOM-QUARRY-0034-001: Macro Expansion**
- **Parent:** SPEC-QUARRY-0034
- **Source:** REQ-218, SSOT Section 8.15
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Expand all macros in target code.
  - Show intermediate expansion steps.
  - Handle nested macro expansion.
- **Semantics:** Reveals macro-generated code.
- **Edge Cases:** Deep nesting, recursive macros, complex macros.
- **Failure Modes:** ERR-EXPAND-001 (expansion failed).
- **Dependencies:** Macro system.
- **Tests Required:** Test expansion, test nesting, test complex macros.

**ATOM-QUARRY-0034-002: Expanded Code Formatting**
- **Parent:** SPEC-QUARRY-0034
- **Source:** REQ-218, SSOT Section 8.15
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Format expanded code for readability.
  - Preserve source locations in comments.
  - Add expansion annotations.
- **Semantics:** Makes expanded code understandable.
- **Edge Cases:** Very large expansions, generated code.
- **Failure Modes:** None (formatting enhancement).
- **Dependencies:** ATOM-QUARRY-0034-001, formatter.
- **Tests Required:** Test formatting, test annotations.

**ATOM-QUARRY-0034-003: Expansion Scoping**
- **Parent:** SPEC-QUARRY-0034
- **Source:** REQ-218, SSOT Section 8.15
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Support expanding specific items (function, module).
  - Support expanding specific macros only.
  - Support whole-file expansion.
- **Semantics:** Provides targeted expansion.
- **Edge Cases:** Overlapping scopes, partial expansion.
- **Failure Modes:** None (scoping is selective).
- **Dependencies:** ATOM-QUARRY-0034-001.
- **Tests Required:** Test scoping, test selective expansion.

================================================================================
ATOM Decomposition: SPEC-QUARRY-0036 (Cross-platform Toolchain Management)
================================================================================

**Parent LEAF:** SPEC-QUARRY-0036: Cross-platform Toolchain Management
**Source:** REQ-220, SSOT Section 8.15
**Decomposition Rationale:** Toolchain management requires toolchain installation, target support, and version management.

**ATOM-QUARRY-0036-001: Toolchain Installation**
- **Parent:** SPEC-QUARRY-0036
- **Source:** REQ-220, SSOT Section 8.15
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Implement `quarry toolchain install <version>`.
  - Download toolchain from official sources.
  - Verify checksums and signatures.
- **Semantics:** Installs compiler toolchains.
- **Edge Cases:** Network failures, disk space, permissions.
- **Failure Modes:** ERR-TOOLCHAIN-001 (installation failed).
- **Dependencies:** Network, file system.
- **Tests Required:** Test installation, test verification.

**ATOM-QUARRY-0036-002: Target Triple Support**
- **Parent:** SPEC-QUARRY-0036
- **Source:** REQ-220, SSOT Section 8.15
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Support target triple specification (x86_64-pc-windows-msvc, etc.).
  - Install target-specific components.
  - Configure cross-compilation toolchain.
- **Semantics:** Enables cross-platform builds.
- **Edge Cases:** Unsupported targets, missing components.
- **Failure Modes:** ERR-TOOLCHAIN-002 (target not supported).
- **Dependencies:** ATOM-QUARRY-0036-001.
- **Tests Required:** Test target support, test cross-compilation.

**ATOM-QUARRY-0036-003: Version Management**
- **Parent:** SPEC-QUARRY-0036
- **Source:** REQ-220, SSOT Section 8.15
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Manage multiple toolchain versions.
  - Support default toolchain selection.
  - Support per-project toolchain override.
- **Semantics:** Manages toolchain versions.
- **Edge Cases:** Version conflicts, missing versions.
- **Failure Modes:** ERR-TOOLCHAIN-003 (version not found).
- **Dependencies:** ATOM-QUARRY-0036-001.
- **Tests Required:** Test version switching, test overrides.

================================================================================
ATOM Decomposition: SPEC-QUARRY-0037 (Automated Edition Migration Tool)
================================================================================

**Parent LEAF:** SPEC-QUARRY-0037: Automated Edition Migration Tool
**Source:** REQ-221, SSOT Section 8.15
**Decomposition Rationale:** Edition migration requires syntax transformation, compatibility checking, and migration validation.

**ATOM-QUARRY-0037-001: Syntax Transformation**
- **Parent:** SPEC-QUARRY-0037
- **Source:** REQ-221, SSOT Section 8.15
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Identify edition-specific syntax.
  - Transform old syntax to new edition.
  - Preserve semantics.
- **Semantics:** Migrates code between editions.
- **Edge Cases:** Ambiguous transformations, manual intervention needed.
- **Failure Modes:** ERR-MIGRATE-001 (transformation failed).
- **Dependencies:** AST manipulation, edition system.
- **Tests Required:** Test transformations, test preservation.

**ATOM-QUARRY-0037-002: Compatibility Checking**
- **Parent:** SPEC-QUARRY-0037
- **Source:** REQ-221, SSOT Section 8.15
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Check for breaking changes between editions.
  - Report incompatibilities.
  - Suggest manual fixes where needed.
- **Semantics:** Identifies migration blockers.
- **Edge Cases:** Complex incompatibilities, transitive dependencies.
- **Failure Modes:** ERR-MIGRATE-002 (incompatible change).
- **Dependencies:** ATOM-QUARRY-0037-001, edition system.
- **Tests Required:** Test checking, test reporting.

**ATOM-QUARRY-0037-003: Migration Validation**
- **Parent:** SPEC-QUARRY-0037
- **Source:** REQ-221, SSOT Section 8.15
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Compile migrated code.
  - Run tests to verify behavior.
  - Report migration success/failure.
- **Semantics:** Verifies migration correctness.
- **Edge Cases:** Test failures, behavior changes.
- **Failure Modes:** ERR-MIGRATE-003 (validation failed).
- **Dependencies:** ATOM-QUARRY-0037-001, ATOM-QUARRY-0037-002, compiler.
- **Tests Required:** Test validation, test reporting.

================================================================================
ATOM Decomposition: SPEC-LANG-0113 (Control Flow Statement Parsing)
================================================================================

**Parent LEAF:** SPEC-LANG-0113: Control Flow Statement Parsing
**Source:** REQ-072, SSOT Section 3.4
**Decomposition Rationale:** Control flow statements (break, continue, return) require distinct parsing and validation logic.

**ATOM-LANG-0113-001: Break Statement Parsing**
- **Parent:** SPEC-LANG-0113
- **Source:** REQ-072, SSOT Section 3.4
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Parse `break` keyword.
  - Support optional loop labels.
  - Validate break is within loop context.
- **Semantics:** Parses loop exit statements.
- **Edge Cases:** Break outside loop, labeled break, nested loops.
- **Failure Modes:** ERR-PARSE-025 (break outside loop).
- **Dependencies:** Loop parsing.
- **Tests Required:** Test break, test labels, test validation.

**ATOM-LANG-0113-002: Continue Statement Parsing**
- **Parent:** SPEC-LANG-0113
- **Source:** REQ-072, SSOT Section 3.4
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Parse `continue` keyword.
  - Support optional loop labels.
  - Validate continue is within loop context.
- **Semantics:** Parses loop continuation statements.
- **Edge Cases:** Continue outside loop, labeled continue.
- **Failure Modes:** ERR-PARSE-026 (continue outside loop).
- **Dependencies:** Loop parsing.
- **Tests Required:** Test continue, test labels, test validation.

**ATOM-LANG-0113-003: Return Statement Parsing**
- **Parent:** SPEC-LANG-0113
- **Source:** REQ-072, SSOT Section 3.4
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Parse `return` keyword.
  - Parse optional return expression.
  - Validate return type matches function.
- **Semantics:** Parses function exit statements.
- **Edge Cases:** Return without value (unit), return in void function.
- **Failure Modes:** ERR-TYPE-010 (return type mismatch).
- **Dependencies:** Function parsing, type checking.
- **Tests Required:** Test return, test values, test validation.

================================================================================
ATOM Decomposition: SPEC-LANG-0116 (Defer Statement Parsing)
================================================================================

**Parent LEAF:** SPEC-LANG-0116: Defer Statement Parsing
**Source:** REQ-074, SSOT Section 3.4
**Decomposition Rationale:** Defer requires parsing, execution order tracking, and cleanup code generation.

**ATOM-LANG-0116-001: Defer Syntax Parsing**
- **Parent:** SPEC-LANG-0116
- **Source:** REQ-074, SSOT Section 3.4
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Parse `defer statement` syntax.
  - Support single statements and blocks.
  - Create AST defer nodes.
- **Semantics:** Parses deferred execution declarations.
- **Edge Cases:** Defer in different scopes, nested defer.
- **Failure Modes:** ERR-PARSE-027 (invalid defer syntax).
- **Dependencies:** Statement parsing.
- **Tests Required:** Test syntax, test blocks, test nesting.

**ATOM-LANG-0116-002: Defer Execution Order Tracking**
- **Parent:** SPEC-LANG-0116
- **Source:** REQ-074, SSOT Section 3.4
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Track defers in reverse declaration order.
  - Build defer stack per scope.
  - Handle early exit (return, break, panic).
- **Semantics:** Determines when deferred code executes.
- **Edge Cases:** Multiple defers, conditional defers, defers in loops.
- **Failure Modes:** None (order is deterministic).
- **Dependencies:** ATOM-LANG-0116-001.
- **Tests Required:** Test order, test early exit, test loops.

**ATOM-LANG-0116-003: Cleanup Code Generation**
- **Parent:** SPEC-LANG-0116
- **Source:** REQ-074, SSOT Section 3.4
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Generate cleanup code at scope exit.
  - Insert defer calls in correct order.
  - Handle exceptions/panics.
- **Semantics:** Implements defer execution.
- **Edge Cases:** Panic during defer, nested exceptions.
- **Failure Modes:** Abort on double panic.
- **Dependencies:** ATOM-LANG-0116-002, codegen.
- **Tests Required:** Test cleanup, test panic handling.

================================================================================
ATOM Decomposition: SPEC-LANG-0117 (Context Managers - with - Parsing)
================================================================================

**Parent LEAF:** SPEC-LANG-0117: Context Managers (with) Parsing
**Source:** REQ-075, SSOT Section 3.4
**Decomposition Rationale:** With statements require parsing, trait validation, and cleanup guarantees.

**ATOM-LANG-0117-001: With Statement Parsing**
- **Parent:** SPEC-LANG-0117
- **Source:** REQ-075, SSOT Section 3.4
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Parse `with expr as binding:` syntax.
  - Parse context manager expression.
  - Parse optional binding name.
  - Parse body block.
- **Semantics:** Parses resource management syntax.
- **Edge Cases:** Multiple with bindings, nested with, no binding.
- **Failure Modes:** ERR-PARSE-028 (invalid with syntax).
- **Dependencies:** Expression parsing, statement parsing.
- **Tests Required:** Test syntax, test bindings, test nesting.

**ATOM-LANG-0117-002: Context Manager Trait Validation**
- **Parent:** SPEC-LANG-0117
- **Source:** REQ-075, SSOT Section 3.4
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Validate expression implements enter/exit methods.
  - Check trait bounds (Enter + Exit).
  - Validate method signatures.
- **Semantics:** Ensures type safety for context managers.
- **Edge Cases:** Missing methods, wrong signatures.
- **Failure Modes:** ERR-TYPE-011 (missing context manager trait).
- **Dependencies:** ATOM-LANG-0117-001, SPEC-LANG-0123.
- **Tests Required:** Test validation, test errors.

**ATOM-LANG-0117-003: Cleanup Guarantee Implementation**
- **Parent:** SPEC-LANG-0117
- **Source:** REQ-075, SSOT Section 3.4
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Call enter() before body.
  - Call exit() after body (always).
  - Handle exceptions in body.
- **Semantics:** Guarantees resource cleanup.
- **Edge Cases:** Early exit, exceptions, nested with.
- **Failure Modes:** None (cleanup is guaranteed).
- **Dependencies:** ATOM-LANG-0117-002, codegen.
- **Tests Required:** Test cleanup, test exceptions, test nesting.

================================================================================
ATOM Decomposition: SPEC-LANG-0107 (Field Access Parsing)
================================================================================

**Parent LEAF:** SPEC-LANG-0107: Field Access Parsing
**Source:** REQ-068, SSOT Section 3.3
**Decomposition Rationale:** Field access requires dot notation parsing, nested access support, and tuple index support.

**ATOM-LANG-0107-001: Dot Notation Parsing**
- **Parent:** SPEC-LANG-0107
- **Source:** REQ-068, SSOT Section 3.3
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Parse `expr.field` syntax.
  - Create AST field access nodes.
  - Support identifier field names.
- **Semantics:** Parses struct field access.
- **Edge Cases:** Private fields, missing fields.
- **Failure Modes:** ERR-PARSE-029 (invalid field access).
- **Dependencies:** Expression parsing.
- **Tests Required:** Test basic access, test complex expressions.

**ATOM-LANG-0107-002: Nested Field Access**
- **Parent:** SPEC-LANG-0107
- **Source:** REQ-068, SSOT Section 3.3
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Support chained field access `obj.field1.field2`.
  - Parse left-to-right associativity.
  - Handle complex nesting.
- **Semantics:** Enables deep field access.
- **Edge Cases:** Long chains, mixed access types.
- **Failure Modes:** None (parsing is straightforward).
- **Dependencies:** ATOM-LANG-0107-001.
- **Tests Required:** Test chaining, test depth.

**ATOM-LANG-0107-003: Tuple Index Access**
- **Parent:** SPEC-LANG-0107
- **Source:** REQ-068, SSOT Section 3.3
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Parse `expr.0`, `expr.1`, etc. for tuple access.
  - Validate index is integer literal.
  - Support tuple field access.
- **Semantics:** Parses tuple element access.
- **Edge Cases:** Out of bounds index, large indices.
- **Failure Modes:** ERR-TYPE-012 (tuple index out of bounds).
- **Dependencies:** ATOM-LANG-0107-001.
- **Tests Required:** Test tuple access, test validation.

================================================================================
ATOM Decomposition: SPEC-LANG-0108 (Try Operator Parsing)
================================================================================

**Parent LEAF:** SPEC-LANG-0108: Try Operator Parsing
**Source:** REQ-069, SSOT Section 3.3
**Decomposition Rationale:** Try operator requires postfix syntax parsing, error propagation, and Result type integration.

**ATOM-LANG-0108-001: Try Operator Syntax Parsing**
- **Parent:** SPEC-LANG-0108
- **Source:** REQ-069, SSOT Section 3.3
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Parse `expr?` postfix syntax.
  - Create AST try operator nodes.
  - Associate with Result expressions.
- **Semantics:** Parses error propagation syntax.
- **Edge Cases:** Chained try, complex expressions.
- **Failure Modes:** ERR-PARSE-030 (invalid try syntax).
- **Dependencies:** Expression parsing.
- **Tests Required:** Test syntax, test chaining.

**ATOM-LANG-0108-002: Result Type Validation**
- **Parent:** SPEC-LANG-0108
- **Source:** REQ-069, SSOT Section 3.3
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Validate expression is Result<T, E> type.
  - Check function returns compatible Result.
  - Report type errors.
- **Semantics:** Ensures type safety for try operator.
- **Edge Cases:** Non-Result types, type mismatches.
- **Failure Modes:** ERR-TYPE-013 (try on non-Result).
- **Dependencies:** ATOM-LANG-0108-001, SPEC-LANG-0232.
- **Tests Required:** Test validation, test errors.

**ATOM-LANG-0108-003: Error Propagation Codegen**
- **Parent:** SPEC-LANG-0108
- **Source:** REQ-069, SSOT Section 3.3
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Generate early return on Err case.
  - Unwrap Ok value.
  - Propagate error to caller.
- **Semantics:** Implements error propagation.
- **Edge Cases:** Nested try, error type conversion.
- **Failure Modes:** None (propagation is automatic).
- **Dependencies:** ATOM-LANG-0108-002, codegen.
- **Tests Required:** Test propagation, test unwrapping.

================================================================================
ATOM Decomposition: SPEC-LANG-0115 (Ternary Expression Parsing)
================================================================================

**Parent LEAF:** SPEC-LANG-0115: Ternary Expression Parsing
**Source:** REQ-076, SSOT Section 3.3
**Decomposition Rationale:** Ternary requires syntax parsing, type checking, and precedence handling.

**ATOM-LANG-0115-001: Ternary Syntax Parsing**
- **Parent:** SPEC-LANG-0115
- **Source:** REQ-076, SSOT Section 3.3
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Parse `cond ? then_expr : else_expr` syntax.
  - Create AST ternary nodes.
  - Handle nested ternary.
- **Semantics:** Parses conditional expressions.
- **Edge Cases:** Nested ternary, complex conditions.
- **Failure Modes:** ERR-PARSE-031 (invalid ternary syntax).
- **Dependencies:** Expression parsing.
- **Tests Required:** Test syntax, test nesting.

**ATOM-LANG-0115-002: Branch Type Compatibility**
- **Parent:** SPEC-LANG-0115
- **Source:** REQ-076, SSOT Section 3.3
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Validate then and else branches have compatible types.
  - Infer common type for branches.
  - Report type mismatches.
- **Semantics:** Ensures type safety for ternary.
- **Edge Cases:** Different types, type coercion.
- **Failure Modes:** ERR-TYPE-014 (incompatible ternary branches).
- **Dependencies:** ATOM-LANG-0115-001, type checking.
- **Tests Required:** Test type checking, test errors.

**ATOM-LANG-0115-003: Ternary Precedence Handling**
- **Parent:** SPEC-LANG-0115
- **Source:** REQ-076, SSOT Section 3.3
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Assign correct precedence level (low, right-associative).
  - Handle interaction with other operators.
  - Parse correctly in complex expressions.
- **Semantics:** Ensures correct parsing in expressions.
- **Edge Cases:** Mixed with binary operators, nested ternary.
- **Failure Modes:** None (precedence is algorithmic).
- **Dependencies:** ATOM-LANG-0115-001, operator precedence.
- **Tests Required:** Test precedence, test complex expressions.

================================================================================
ATOM Decomposition: SPEC-LANG-0120 (Conditional Compilation @cfg Parsing)
================================================================================

**Parent LEAF:** SPEC-LANG-0120: Conditional Compilation (@cfg) Parsing
**Source:** REQ-077, SSOT Section 3.5
**Decomposition Rationale:** Conditional compilation requires attribute parsing, predicate evaluation, and code removal.

**ATOM-LANG-0120-001: @cfg Attribute Parsing**
- **Parent:** SPEC-LANG-0120
- **Source:** REQ-077, SSOT Section 3.5
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Parse @cfg(predicate) syntax.
  - Parse configuration predicates (feature, target_os, etc.).
  - Support logical combinators (all, any, not).
- **Semantics:** Parses conditional compilation directives.
- **Edge Cases:** Complex predicates, nested combinators.
- **Failure Modes:** ERR-PARSE-032 (invalid @cfg syntax).
- **Dependencies:** Attribute parsing.
- **Tests Required:** Test parsing, test predicates, test combinators.

**ATOM-LANG-0120-002: Configuration Predicate Evaluation**
- **Parent:** SPEC-LANG-0120
- **Source:** REQ-077, SSOT Section 3.5
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Evaluate predicates against current configuration.
  - Check feature flags, target platform, etc.
  - Compute boolean result.
- **Semantics:** Determines if code should be included.
- **Edge Cases:** Unknown predicates, complex logic.
- **Failure Modes:** ERR-CONFIG-004 (unknown configuration key).
- **Dependencies:** ATOM-LANG-0120-001, config system.
- **Tests Required:** Test evaluation, test various predicates.

**ATOM-LANG-0120-003: Conditional Code Removal**
- **Parent:** SPEC-LANG-0120
- **Source:** REQ-077, SSOT Section 3.5
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Remove AST nodes for disabled @cfg items.
  - Strip code before type checking.
  - Handle nested @cfg.
- **Semantics:** Excludes disabled code from compilation.
- **Edge Cases:** Nested cfg, cfg on modules, cfg on items.
- **Failure Modes:** None (removal is deterministic).
- **Dependencies:** ATOM-LANG-0120-002, AST manipulation.
- **Tests Required:** Test removal, test nesting, test various item types.

================================================================================
ATOM Decomposition: SPEC-LANG-0002 (Identifier Tokens)
================================================================================

**Parent LEAF:** SPEC-LANG-0002: Identifier Tokens
**Source:** REQ-033, SSOT Section 3.1
**Decomposition Rationale:** Even simple token recognition benefits from separating pattern matching, validation, and Unicode handling.

**ATOM-LANG-0002-001: Identifier Pattern Recognition**
- **Parent:** SPEC-LANG-0002
- **Source:** REQ-033, SSOT Section 3.1
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Implement regex pattern for identifiers (starts with letter/underscore, continues with alphanumeric/underscore).
  - Tokenize matching sequences.
- **Semantics:** Identifies identifier token boundaries.
- **Edge Cases:** Unicode letters, underscore-only identifiers.
- **Failure Modes:** ERR-LEX-002 (invalid identifier syntax).
- **Dependencies:** Lexer infrastructure.
- **Tests Required:** Test ASCII identifiers, test Unicode identifiers.

**ATOM-LANG-0002-002: Keyword Exclusion Check**
- **Parent:** SPEC-LANG-0002
- **Source:** REQ-033, SSOT Section 3.1
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Check if matched identifier is a keyword.
  - Return keyword token instead if match.
  - Use keyword lookup table.
- **Semantics:** Distinguishes keywords from identifiers.
- **Edge Cases:** Keyword-like identifiers (iff, forall).
- **Failure Modes:** None (classification only).
- **Dependencies:** ATOM-LANG-0002-001, SPEC-LANG-0003.
- **Tests Required:** Test keyword vs identifier distinction.

**ATOM-LANG-0002-003: Unicode Validation**
- **Parent:** SPEC-LANG-0002
- **Source:** REQ-033, SSOT Section 3.1
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Validate Unicode characters are in allowed categories (L*).
  - Handle combining marks correctly.
  - Support UTF-8 encoding.
- **Semantics:** Ensures valid Unicode identifiers.
- **Edge Cases:** Invalid UTF-8, zero-width characters, emoji.
- **Failure Modes:** ERR-LEX-002 (invalid Unicode in identifier).
- **Dependencies:** ATOM-LANG-0002-001.
- **Tests Required:** Test various Unicode scripts, test combining marks.

================================================================================
ATOM Decomposition: SPEC-LANG-0003 (Keyword Tokens)
================================================================================

**Parent LEAF:** SPEC-LANG-0003: Keyword Tokens
**Source:** REQ-034, SSOT Section 3.1
**Decomposition Rationale:** Keyword recognition involves lookup table construction and case-sensitive matching.

**ATOM-LANG-0003-001: Keyword Lookup Table Construction**
- **Parent:** SPEC-LANG-0003
- **Source:** REQ-034, SSOT Section 3.1
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Build hash map of keywords.
  - Include all language keywords (if, else, while, fn, struct, etc.).
  - Support O(1) lookup.
- **Semantics:** Provides fast keyword identification.
- **Edge Cases:** None (static table).
- **Failure Modes:** None (construction is infallible).
- **Dependencies:** None.
- **Tests Required:** Test table completeness.

**ATOM-LANG-0003-002: Case-Sensitive Keyword Matching**
- **Parent:** SPEC-LANG-0003
- **Source:** REQ-034, SSOT Section 3.1
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Perform exact case-sensitive lookup.
  - Return keyword token on match.
  - Return None on mismatch.
- **Semantics:** Matches keywords exactly.
- **Edge Cases:** Case variations (IF vs if), partial matches.
- **Failure Modes:** None (returns boolean).
- **Dependencies:** ATOM-LANG-0003-001.
- **Tests Required:** Test all keywords, test case sensitivity.

================================================================================
ATOM Decomposition: SPEC-LANG-0004 (Integer Literal Tokens)
================================================================================

**Parent LEAF:** SPEC-LANG-0004: Integer Literal Tokens
**Source:** REQ-035, SSOT Section 3.1
**Decomposition Rationale:** Integer literals have multiple formats (decimal, hex, binary, octal) requiring separate parsing.

**ATOM-LANG-0004-001: Decimal Integer Parsing**
- **Parent:** SPEC-LANG-0004
- **Source:** REQ-035, SSOT Section 3.1
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Parse decimal integers (0-9 digits).
  - Support underscore separators (123_456).
  - Convert to internal representation.
- **Semantics:** Parses base-10 integers.
- **Edge Cases:** Leading zeros, underscores at start/end.
- **Failure Modes:** ERR-LEX-003 (invalid decimal integer).
- **Dependencies:** None.
- **Tests Required:** Test various decimal formats.

**ATOM-LANG-0004-002: Hexadecimal Integer Parsing**
- **Parent:** SPEC-LANG-0004
- **Source:** REQ-035, SSOT Section 3.1
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Parse hex integers (0x prefix, 0-9a-fA-F digits).
  - Support underscore separators.
  - Convert to internal representation.
- **Semantics:** Parses base-16 integers.
- **Edge Cases:** Case mixing (0xAbCd), underscores.
- **Failure Modes:** ERR-LEX-003 (invalid hex integer).
- **Dependencies:** None.
- **Tests Required:** Test hex formats, test case insensitivity.

**ATOM-LANG-0004-003: Binary and Octal Integer Parsing**
- **Parent:** SPEC-LANG-0004
- **Source:** REQ-035, SSOT Section 3.1
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Parse binary integers (0b prefix, 0-1 digits).
  - Parse octal integers (0o prefix, 0-7 digits).
  - Support underscore separators.
- **Semantics:** Parses base-2 and base-8 integers.
- **Edge Cases:** Invalid digits in format, underscores.
- **Failure Modes:** ERR-LEX-003 (invalid binary/octal integer).
- **Dependencies:** None.
- **Tests Required:** Test binary, test octal, test errors.

**ATOM-LANG-0004-004: Integer Type Suffix Parsing**
- **Parent:** SPEC-LANG-0004
- **Source:** REQ-035, SSOT Section 3.1
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Parse optional type suffixes (i8, i16, i32, i64, u8, u16, u32, u64).
  - Associate suffix with literal.
  - Default to type inference if no suffix.
- **Semantics:** Specifies explicit integer type.
- **Edge Cases:** Invalid suffixes, missing suffixes.
- **Failure Modes:** ERR-LEX-003 (invalid type suffix).
- **Dependencies:** ATOM-LANG-0004-001, 002, 003.
- **Tests Required:** Test all suffixes, test inference.

================================================================================
ATOM Decomposition: SPEC-LANG-0005 (String Literal Tokens)
================================================================================

**Parent LEAF:** SPEC-LANG-0005: String Literal Tokens
**Source:** REQ-036, SSOT Section 3.1
**Decomposition Rationale:** String parsing involves quote handling, escape sequences, and multi-line support.

**ATOM-LANG-0005-001: String Delimiter Recognition**
- **Parent:** SPEC-LANG-0005
- **Source:** REQ-036, SSOT Section 3.1
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Recognize opening double quote.
  - Track string state in lexer.
  - Recognize closing double quote.
- **Semantics:** Identifies string literal boundaries.
- **Edge Cases:** Unterminated strings, nested quotes.
- **Failure Modes:** ERR-LEX-004 (unterminated string).
- **Dependencies:** None.
- **Tests Required:** Test basic strings, test unterminated.

**ATOM-LANG-0005-002: Escape Sequence Processing**
- **Parent:** SPEC-LANG-0005
- **Source:** REQ-036, SSOT Section 3.1
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Process escape sequences (\n, \t, \r, \\, \", \0, etc.).
  - Convert to actual characters.
  - Validate escape sequences.
- **Semantics:** Handles special characters in strings.
- **Edge Cases:** Invalid escapes, octal/hex escapes.
- **Failure Modes:** ERR-LEX-005 (invalid escape sequence).
- **Dependencies:** ATOM-LANG-0005-001.
- **Tests Required:** Test all escapes, test invalid escapes.

**ATOM-LANG-0005-003: Unicode Escape Processing**
- **Parent:** SPEC-LANG-0005
- **Source:** REQ-036, SSOT Section 3.1
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Process \u{XXXX} Unicode escapes.
  - Validate code point range (0-10FFFF).
  - Convert to UTF-8.
- **Semantics:** Supports Unicode characters in strings.
- **Edge Cases:** Invalid code points, surrogate pairs.
- **Failure Modes:** ERR-LEX-006 (invalid Unicode escape).
- **Dependencies:** ATOM-LANG-0005-001.
- **Tests Required:** Test Unicode escapes, test invalid code points.

**ATOM-LANG-0005-004: Multi-line String Handling**
- **Parent:** SPEC-LANG-0005
- **Source:** REQ-036, SSOT Section 3.1
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Support strings spanning multiple lines.
  - Track line numbers correctly.
  - Preserve newlines in string content.
- **Semantics:** Allows strings across lines.
- **Edge Cases:** Indentation, very long strings.
- **Failure Modes:** None (multi-line is allowed).
- **Dependencies:** ATOM-LANG-0005-001.
- **Tests Required:** Test multi-line strings, test line tracking.

**ATOM-LANG-0005-005: Raw String Support**
- **Parent:** SPEC-LANG-0005
- **Source:** REQ-036, SSOT Section 3.1
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Support r"..." raw string syntax.
  - Disable escape processing in raw strings.
  - Allow raw strings to contain unescaped backslashes.
- **Semantics:** Provides literal string representation.
- **Edge Cases:** Raw strings with quotes, nested delimiters.
- **Failure Modes:** ERR-LEX-004 (unterminated raw string).
- **Dependencies:** ATOM-LANG-0005-001.
- **Tests Required:** Test raw strings, test backslashes.

================================================================================
ATOM Decomposition: SPEC-LANG-0006 (Operator Tokens)
================================================================================

**Parent LEAF:** SPEC-LANG-0006: Operator Tokens
**Source:** REQ-037, SSOT Section 3.1
**Decomposition Rationale:** Operator recognition requires maximal munch parsing and multi-character operator handling.

**ATOM-LANG-0006-001: Single-Character Operator Recognition**
- **Parent:** SPEC-LANG-0006
- **Source:** REQ-037, SSOT Section 3.1
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Recognize single-char operators (+, -, *, /, %, =, <, >, !, &, |, ^, ~).
  - Return operator token.
- **Semantics:** Identifies basic operators.
- **Edge Cases:** None (single char matching).
- **Failure Modes:** None (classification only).
- **Dependencies:** None.
- **Tests Required:** Test all single-char operators.

**ATOM-LANG-0006-002: Multi-Character Operator Recognition (Maximal Munch)**
- **Parent:** SPEC-LANG-0006
- **Source:** REQ-037, SSOT Section 3.1
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Implement maximal munch (greedy matching).
  - Recognize multi-char operators (==, !=, <=, >=, &&, ||, <<, >>, +=, -=, etc.).
  - Prefer longer matches over shorter.
- **Semantics:** Correctly tokenizes multi-character operators.
- **Edge Cases:** Ambiguous sequences (< vs <=, - vs ->).
- **Failure Modes:** None (maximal munch resolves ambiguity).
- **Dependencies:** ATOM-LANG-0006-001.
- **Tests Required:** Test all multi-char operators, test maximal munch.

**ATOM-LANG-0006-003: Compound Assignment Operator Recognition**
- **Parent:** SPEC-LANG-0006
- **Source:** REQ-037, SSOT Section 3.1
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Recognize compound assignment operators (+=, -=, *=, /=, %=, &=, |=, ^=, <<=, >>=).
  - Tokenize as single operator tokens.
- **Semantics:** Supports compound assignment syntax.
- **Edge Cases:** Spacing (+ = vs +=).
- **Failure Modes:** None (lexer handles spacing).
- **Dependencies:** ATOM-LANG-0006-002.
- **Tests Required:** Test all compound assignments.

================================================================================
ATOM Decomposition: SPEC-LANG-0012 (Visibility Modifiers)
================================================================================

**Parent LEAF:** SPEC-LANG-0012: Visibility Modifiers (pub)
**Source:** REQ-053, SSOT Section 3.2
**Decomposition Rationale:** Visibility system requires modifier parsing, scope validation, and enforcement logic.

**ATOM-LANG-0012-001: Pub Keyword Recognition**
- **Parent:** SPEC-LANG-0012
- **Source:** REQ-053, SSOT Section 3.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Recognize `pub` keyword.
  - Associate with following item (fn, struct, etc.).
  - Store visibility in AST.
- **Semantics:** Marks items as public.
- **Edge Cases:** Multiple pub keywords, pub on invalid items.
- **Failure Modes:** ERR-PARSE-033 (invalid pub placement).
- **Dependencies:** Parser.
- **Tests Required:** Test pub on various items.

**ATOM-LANG-0012-002: Visibility Scope Validation**
- **Parent:** SPEC-LANG-0012
- **Source:** REQ-053, SSOT Section 3.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Validate visibility rules (pub items in modules).
  - Check visibility consistency.
  - Enforce pub(crate) scoping if supported.
- **Semantics:** Ensures visibility rules are followed.
- **Edge Cases:** Pub items in private modules, nested visibility.
- **Failure Modes:** ERR-VIS-001 (visibility violation).
- **Dependencies:** ATOM-LANG-0012-001, module system.
- **Tests Required:** Test visibility rules, test nested modules.

**ATOM-LANG-0012-003: Access Control Enforcement**
- **Parent:** SPEC-LANG-0012
- **Source:** REQ-053, SSOT Section 3.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Check access at use sites.
  - Report ERR-VIS-002 for private access violations.
  - Allow access within same module.
- **Semantics:** Enforces visibility at compile time.
- **Edge Cases:** Friend modules, re-exports.
- **Failure Modes:** ERR-VIS-002 (accessing private item).
- **Dependencies:** ATOM-LANG-0012-002, type checker.
- **Tests Required:** Test access control, test cross-module access.

================================================================================
ATOM Decomposition: SPEC-LANG-0013 (Module Search Paths)
================================================================================

**Parent LEAF:** SPEC-LANG-0013: Module Search Paths and Environment Variables
**Source:** REQ-054, SSOT Section 3.2
**Decomposition Rationale:** Search path management involves environment variable parsing, path expansion, and search order.

**ATOM-LANG-0013-001: PYRITE_PATH Parsing**
- **Parent:** SPEC-LANG-0013
- **Source:** REQ-054, SSOT Section 3.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Read PYRITE_PATH environment variable.
  - Split by platform path separator (: on Unix, ; on Windows).
  - Build list of search directories.
- **Semantics:** Parses module search path configuration.
- **Edge Cases:** Missing variable, empty paths, whitespace.
- **Failure Modes:** None (missing variable uses defaults).
- **Dependencies:** Environment access.
- **Tests Required:** Test parsing, test platforms.

**ATOM-LANG-0013-002: Path Expansion and Validation**
- **Parent:** SPEC-LANG-0013
- **Source:** REQ-054, SSOT Section 3.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Expand ~ to home directory.
  - Expand environment variables in paths.
  - Validate directories exist.
  - Warn on non-existent directories.
- **Semantics:** Normalizes and validates search paths.
- **Edge Cases:** Relative paths, symbolic links, permissions.
- **Failure Modes:** WARN (non-existent directory).
- **Dependencies:** ATOM-LANG-0013-001, file system.
- **Tests Required:** Test expansion, test validation.

**ATOM-LANG-0013-003: Search Order Management**
- **Parent:** SPEC-LANG-0013
- **Source:** REQ-054, SSOT Section 3.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Order search paths (CLI flags  PYRITE_PATH  defaults).
  - Implement search precedence.
  - Support --library-path CLI flags.
- **Semantics:** Determines module search order.
- **Edge Cases:** Duplicate paths, path priority conflicts.
- **Failure Modes:** None (order is deterministic).
- **Dependencies:** ATOM-LANG-0013-002, CLI parsing.
- **Tests Required:** Test order, test precedence.

================================================================================
ATOM Decomposition: SPEC-LANG-0014 (Prelude Module)
================================================================================

**Parent LEAF:** SPEC-LANG-0014: Prelude Module (Auto-import)
**Source:** REQ-055, SSOT Section 3.2
**Decomposition Rationale:** Prelude requires module definition, auto-import mechanism, and scope injection.

**ATOM-LANG-0014-001: Prelude Module Definition**
- **Parent:** SPEC-LANG-0014
- **Source:** REQ-055, SSOT Section 3.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Define std::prelude module.
  - Include common types (List, Map, Set, Option, Result, String, etc.).
  - Export all prelude items as pub.
- **Semantics:** Defines auto-imported standard items.
- **Edge Cases:** Prelude conflicts with user definitions.
- **Failure Modes:** None (prelude is standard).
- **Dependencies:** Standard library.
- **Tests Required:** Test prelude contents.

**ATOM-LANG-0014-002: Auto-import Mechanism**
- **Parent:** SPEC-LANG-0014
- **Source:** REQ-055, SSOT Section 3.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Automatically inject `use std::prelude::*` at module start.
  - Apply to all modules unless opted out.
  - Support #[no_prelude] opt-out attribute.
- **Semantics:** Makes common types available automatically.
- **Edge Cases:** Opt-out, prelude shadowing.
- **Failure Modes:** None (auto-import is implicit).
- **Dependencies:** ATOM-LANG-0014-001, import system.
- **Tests Required:** Test auto-import, test opt-out.

**ATOM-LANG-0014-003: Prelude Scope Injection**
- **Parent:** SPEC-LANG-0014
- **Source:** REQ-055, SSOT Section 3.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Inject prelude names into module scope.
  - Allow shadowing by local definitions.
  - Resolve prelude names at lower priority than locals.
- **Semantics:** Makes prelude items available in scope.
- **Edge Cases:** Name collisions, explicit imports overriding.
- **Failure Modes:** None (shadowing is allowed).
- **Dependencies:** ATOM-LANG-0014-002, namespace system.
- **Tests Required:** Test injection, test shadowing.

================================================================================
ATOM Decomposition: SPEC-LANG-0015 (Relative vs Absolute Imports)
================================================================================

**Parent LEAF:** SPEC-LANG-0015: Relative vs Absolute Imports
**Source:** REQ-056, SSOT Section 3.2
**Decomposition Rationale:** Import path resolution requires syntax parsing, path interpretation, and module lookup.

**ATOM-LANG-0015-001: Absolute Import Path Parsing**
- **Parent:** SPEC-LANG-0015
- **Source:** REQ-056, SSOT Section 3.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Parse absolute imports (std::collections::List).
  - Parse from root of module tree.
  - Support multi-segment paths.
- **Semantics:** Parses absolute module references.
- **Edge Cases:** Long paths, invalid segments.
- **Failure Modes:** ERR-IMPORT-006 (invalid path syntax).
- **Dependencies:** Parser.
- **Tests Required:** Test absolute paths, test nesting.

**ATOM-LANG-0015-002: Relative Import Path Parsing**
- **Parent:** SPEC-LANG-0015
- **Source:** REQ-056, SSOT Section 3.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Parse relative imports (self::module, super::module).
  - Handle self (current module) and super (parent module).
  - Support multiple super levels (super::super::module).
- **Semantics:** Parses relative module references.
- **Edge Cases:** Super beyond root, self in top-level.
- **Failure Modes:** ERR-IMPORT-007 (super beyond root).
- **Dependencies:** Parser, module hierarchy.
- **Tests Required:** Test relative paths, test super chaining.

**ATOM-LANG-0015-003: Import Path Resolution**
- **Parent:** SPEC-LANG-0015
- **Source:** REQ-056, SSOT Section 3.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Resolve import paths to actual modules.
  - Handle both absolute and relative paths.
  - Unify to absolute paths internally.
- **Semantics:** Converts import paths to module references.
- **Edge Cases:** Ambiguous paths, missing modules.
- **Failure Modes:** ERR-IMPORT-008 (module not found).
- **Dependencies:** ATOM-LANG-0015-001, ATOM-LANG-0015-002, SPEC-LANG-0009.
- **Tests Required:** Test resolution, test both path types.

================================================================================
ATOM Decomposition: SPEC-LANG-0118 (Deterministic Evaluation Order)
================================================================================

**Parent LEAF:** SPEC-LANG-0118: Deterministic Evaluation Order
**Source:** REQ-078, SSOT Section 3.3
**Decomposition Rationale:** Evaluation order requires order specification, enforcement, and validation.

**ATOM-LANG-0118-001: Left-to-Right Order Specification**
- **Parent:** SPEC-LANG-0118
- **Source:** REQ-078, SSOT Section 3.3
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Specify evaluation order as left-to-right.
  - Document order for all expression types.
  - Apply to arguments, operands, fields.
- **Semantics:** Defines deterministic evaluation order.
- **Edge Cases:** Short-circuit evaluation (&&, ||).
- **Failure Modes:** None (specification is documentation).
- **Dependencies:** Language specification.
- **Tests Required:** Verify order in code generation.

**ATOM-LANG-0118-002: Evaluation Order Enforcement in Codegen**
- **Parent:** SPEC-LANG-0118
- **Source:** REQ-078, SSOT Section 3.3
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Generate code that respects left-to-right order.
  - Emit temporaries to preserve order.
  - Ensure side effects occur in correct order.
- **Semantics:** Implements deterministic evaluation.
- **Edge Cases:** Complex nested expressions, function calls.
- **Failure Modes:** None (codegen guarantees order).
- **Dependencies:** ATOM-LANG-0118-001, codegen.
- **Tests Required:** Test side-effect order, test nested expressions.

================================================================================
ATOM Decomposition: SPEC-LANG-0119 (Compile-time Conditionals)
================================================================================

**Parent LEAF:** SPEC-LANG-0119: Compile-time Conditionals (if-comptime)
**Source:** REQ-079, SSOT Section 3.5
**Decomposition Rationale:** Comptime conditionals require syntax parsing, constant evaluation, and branch selection.

**ATOM-LANG-0119-001: If-Comptime Syntax Parsing**
- **Parent:** SPEC-LANG-0119
- **Source:** REQ-079, SSOT Section 3.5
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Parse `if comptime(condition) { ... } else { ... }` syntax.
  - Parse comptime condition expression.
  - Create AST comptime-if nodes.
- **Semantics:** Parses compile-time conditional syntax.
- **Edge Cases:** Nested comptime-if, complex conditions.
- **Failure Modes:** ERR-PARSE-034 (invalid comptime-if syntax).
- **Dependencies:** Parser.
- **Tests Required:** Test syntax, test nesting.

**ATOM-LANG-0119-002: Constant Expression Evaluation**
- **Parent:** SPEC-LANG-0119
- **Source:** REQ-079, SSOT Section 3.5
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Evaluate condition at compile time.
  - Support const expressions only.
  - Return boolean result.
- **Semantics:** Determines which branch to compile.
- **Edge Cases:** Non-const expressions, complex const expressions.
- **Failure Modes:** ERR-COMPTIME-001 (non-const condition).
- **Dependencies:** ATOM-LANG-0119-001, SPEC-LANG-0216.
- **Tests Required:** Test evaluation, test const restrictions.

**ATOM-LANG-0119-003: Branch Selection and Code Removal**
- **Parent:** SPEC-LANG-0119
- **Source:** REQ-079, SSOT Section 3.5
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Include true branch in compilation if condition is true.
  - Include false/else branch if condition is false.
  - Remove non-selected branch from AST.
- **Semantics:** Implements conditional compilation.
- **Edge Cases:** Type checking in removed branches.
- **Failure Modes:** None (branch selection is deterministic).
- **Dependencies:** ATOM-LANG-0119-002, AST manipulation.
- **Tests Required:** Test branch selection, test code removal.

================================================================================
ATOM Decomposition: SPEC-LANG-0121 (Entry Point Validation)
================================================================================

**Parent LEAF:** SPEC-LANG-0121: Entry Point Validation
**Source:** REQ-080, SSOT Section 3.5
**Decomposition Rationale:** Entry point validation requires main function detection, signature validation, and uniqueness checking.

**ATOM-LANG-0121-001: Main Function Detection**
- **Parent:** SPEC-LANG-0121
- **Source:** REQ-080, SSOT Section 3.5
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Search for `fn main()` in root module.
  - Identify entry point function.
  - Support both parameterless and args-accepting main.
- **Semantics:** Finds program entry point.
- **Edge Cases:** Missing main, multiple mains, main in submodule.
- **Failure Modes:** ERR-ENTRY-001 (missing main), ERR-ENTRY-002 (multiple mains).
- **Dependencies:** AST, module system.
- **Tests Required:** Test main detection, test errors.

**ATOM-LANG-0121-002: Main Function Signature Validation**
- **Parent:** SPEC-LANG-0121
- **Source:** REQ-080, SSOT Section 3.5
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Validate main signature: `fn main()` or `fn main(args: List[String])`.
  - Check return type (void or i32).
  - Reject invalid signatures.
- **Semantics:** Ensures valid entry point signature.
- **Edge Cases:** Generic main, async main, incorrect parameters.
- **Failure Modes:** ERR-ENTRY-003 (invalid main signature).
- **Dependencies:** ATOM-LANG-0121-001, type checking.
- **Tests Required:** Test valid signatures, test invalid signatures.

**ATOM-LANG-0121-003: Entry Point Uniqueness Check**
- **Parent:** SPEC-LANG-0121
- **Source:** REQ-080, SSOT Section 3.5
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Ensure only one main function exists.
  - Report error if multiple mains found.
  - Check across all compiled modules.
- **Semantics:** Prevents ambiguous entry points.
- **Edge Cases:** Main in dependencies (ignored), main in tests.
- **Failure Modes:** ERR-ENTRY-002 (multiple main functions).
- **Dependencies:** ATOM-LANG-0121-001.
- **Tests Required:** Test uniqueness, test multiple mains error.

================================================================================
ATOM Decomposition: SPEC-LANG-0122 (No Operator Overloading)
================================================================================

**Parent LEAF:** SPEC-LANG-0122: No Operator Overloading
**Source:** REQ-081, SSOT Section 3.5
**Decomposition Rationale:** Enforcing no operator overloading requires operator usage detection and validation.

**ATOM-LANG-0122-001: Operator Usage Detection**
- **Parent:** SPEC-LANG-0122
- **Source:** REQ-081, SSOT Section 3.5
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Detect operator usage in expressions.
  - Check for trait implementations that could enable overloading.
- **Semantics:** Identifies potential overloading attempts.
- **Edge Cases:** Custom traits with operator-like names.
- **Failure Modes:** None (detection only).
- **Dependencies:** Type checker.
- **Tests Required:** Test operator detection.

**ATOM-LANG-0122-002: Operator Overloading Prevention**
- **Parent:** SPEC-LANG-0122
- **Source:** REQ-081, SSOT Section 3.5
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Reject trait impls for Add, Sub, Mul, etc. if they exist.
  - Ensure operators only work with built-in types.
  - Report ERR-LANG-001 if overloading attempted.
- **Semantics:** Enforces no operator overloading.
- **Edge Cases:** Generic operators, trait bounds.
- **Failure Modes:** ERR-LANG-001 (operator overloading not allowed).
- **Dependencies:** ATOM-LANG-0122-001.
- **Tests Required:** Test prevention, test error messages.

================================================================================
ATOM Decomposition: SPEC-LANG-0123 (with Statement Trait Requirement)
================================================================================

**Parent LEAF:** SPEC-LANG-0123: `with` Statement Trait Requirement
**Source:** REQ-082, SSOT Section 3.4
**Decomposition Rationale:** With statement requirements involve trait definition and enforcement.

**ATOM-LANG-0123-001: Context Manager Trait Definition**
- **Parent:** SPEC-LANG-0123
- **Source:** REQ-082, SSOT Section 3.4
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Define Enter and Exit traits.
  - Specify enter() -> Self and exit() -> void signatures.
- **Semantics:** Defines context manager interface.
- **Edge Cases:** Generic context managers, error handling in exit.
- **Failure Modes:** None (trait definition).
- **Dependencies:** Trait system.
- **Tests Required:** Test trait definition.

**ATOM-LANG-0123-002: With Statement Trait Check**
- **Parent:** SPEC-LANG-0123
- **Source:** REQ-082, SSOT Section 3.4
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Check that with expression implements Enter + Exit.
  - Validate method signatures.
  - Report ERR-TYPE-015 if traits not implemented.
- **Semantics:** Enforces context manager requirements.
- **Edge Cases:** Partial trait implementations.
- **Failure Modes:** ERR-TYPE-015 (context manager trait not implemented).
- **Dependencies:** ATOM-LANG-0123-001, type checker.
- **Tests Required:** Test enforcement, test errors.

================================================================================
ATOM Decomposition: SPEC-LANG-0205 (Lifetime Inference)
================================================================================

**Parent LEAF:** SPEC-LANG-0205: Lifetime Inference
**Source:** REQ-089, SSOT Section 4.4
**Decomposition Rationale:** Lifetime inference requires lifetime variable generation, constraint collection, and solving.

**ATOM-LANG-0205-001: Lifetime Variable Generation**
- **Parent:** SPEC-LANG-0205
- **Source:** REQ-089, SSOT Section 4.4
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Generate fresh lifetime variables for unknown lifetimes.
  - Track lifetime variables per scope.
- **Semantics:** Creates lifetime placeholders.
- **Edge Cases:** Anonymous lifetimes, elision rules.
- **Failure Modes:** None (generation is internal).
- **Dependencies:** None.
- **Tests Required:** Test generation.

**ATOM-LANG-0205-002: Lifetime Constraint Collection**
- **Parent:** SPEC-LANG-0205
- **Source:** REQ-089, SSOT Section 4.4
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Collect lifetime outlives constraints ('a: 'b).
  - Build lifetime constraint graph.
- **Semantics:** Gathers lifetime relationships.
- **Edge Cases:** Complex constraint chains.
- **Failure Modes:** None (collection is internal).
- **Dependencies:** ATOM-LANG-0205-001.
- **Tests Required:** Test constraint collection.

**ATOM-LANG-0205-003: Lifetime Constraint Solving**
- **Parent:** SPEC-LANG-0205
- **Source:** REQ-089, SSOT Section 4.4
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Solve lifetime constraints using graph algorithms.
  - Compute minimal lifetimes satisfying constraints.
  - Report ERR-LIFETIME-002 for unsatisfiable constraints.
- **Semantics:** Determines concrete lifetimes.
- **Edge Cases:** Conflicting constraints, infinite lifetimes.
- **Failure Modes:** ERR-LIFETIME-002 (lifetime constraint violation).
- **Dependencies:** ATOM-LANG-0205-002.
- **Tests Required:** Test solving, test errors.

**ATOM-LANG-0205-004: Lifetime Elision Rules**
- **Parent:** SPEC-LANG-0205
- **Source:** REQ-089, SSOT Section 4.4
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Implement lifetime elision rules for functions.
  - Apply elision automatically when unambiguous.
- **Semantics:** Simplifies lifetime annotations.
- **Edge Cases:** Multiple parameters, ambiguous elision.
- **Failure Modes:** ERR-LIFETIME-003 (elision ambiguous).
- **Dependencies:** ATOM-LANG-0205-001.
- **Tests Required:** Test elision rules.

================================================================================
ATOM Decomposition: SPEC-LANG-0206 (Type Coercion Rules)
================================================================================

**Parent LEAF:** SPEC-LANG-0206: Type Coercion Rules
**Source:** REQ-090, SSOT Section 4.1
**Decomposition Rationale:** Coercion requires coercion site detection, rule application, and conversion generation.

**ATOM-LANG-0206-001: Coercion Site Detection**
- **Parent:** SPEC-LANG-0206
- **Source:** REQ-090, SSOT Section 4.1
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Detect where coercions can occur (assignments, function calls, returns).
  - Mark coercion sites in AST.
- **Semantics:** Identifies coercion opportunities.
- **Edge Cases:** Nested coercions, chained coercions.
- **Failure Modes:** None (detection only).
- **Dependencies:** Type checker.
- **Tests Required:** Test detection.

**ATOM-LANG-0206-002: Coercion Rule Application**
- **Parent:** SPEC-LANG-0206
- **Source:** REQ-090, SSOT Section 4.1
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Apply coercion rules (deref coercion, unsize coercion, etc.).
  - Check if types are coercible.
- **Semantics:** Determines valid coercions.
- **Edge Cases:** Multiple coercion paths, ambiguous coercions.
- **Failure Modes:** None (returns boolean).
- **Dependencies:** ATOM-LANG-0206-001.
- **Tests Required:** Test coercion rules.

**ATOM-LANG-0206-003: Coercion Code Generation**
- **Parent:** SPEC-LANG-0206
- **Source:** REQ-090, SSOT Section 4.1
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Generate implicit conversion code for coercions.
  - Insert deref, cast, or wrapper operations.
- **Semantics:** Implements coercion at codegen.
- **Edge Cases:** Complex coercion chains.
- **Failure Modes:** None (codegen guarantees correctness).
- **Dependencies:** ATOM-LANG-0206-002, codegen.
- **Tests Required:** Test generated code.

================================================================================
ATOM Decomposition: SPEC-LANG-0208 (Text and Bytes Aliases)
================================================================================

**Parent LEAF:** SPEC-LANG-0208: Text and Bytes Aliases
**Source:** REQ-091, SSOT Section 4.5
**Decomposition Rationale:** Type aliases require alias definition, resolution, and display name handling.

**ATOM-LANG-0208-001: Type Alias Definition**
- **Parent:** SPEC-LANG-0208
- **Source:** REQ-091, SSOT Section 4.5
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Define Text = String and Bytes = List[u8].
  - Register aliases in type system.
- **Semantics:** Creates type aliases.
- **Edge Cases:** Alias shadowing, recursive aliases.
- **Failure Modes:** None (definition is declarative).
- **Dependencies:** Type system.
- **Tests Required:** Test alias definition.

**ATOM-LANG-0208-002: Alias Resolution**
- **Parent:** SPEC-LANG-0208
- **Source:** REQ-091, SSOT Section 4.5
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Resolve alias names to underlying types.
  - Treat aliases as transparent.
- **Semantics:** Resolves aliases during type checking.
- **Edge Cases:** Nested aliases, generic aliases.
- **Failure Modes:** None (resolution is automatic).
- **Dependencies:** ATOM-LANG-0208-001.
- **Tests Required:** Test resolution.

**ATOM-LANG-0208-003: Diagnostic Display Names**
- **Parent:** SPEC-LANG-0208
- **Source:** REQ-091, SSOT Section 4.5
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Use alias names in error messages when helpful.
  - Show both alias and underlying type.
- **Semantics:** Improves error message clarity.
- **Edge Cases:** Deeply nested aliases.
- **Failure Modes:** None (display only).
- **Dependencies:** ATOM-LANG-0208-002, diagnostics.
- **Tests Required:** Test error messages.

================================================================================
ATOM Decomposition: SPEC-LANG-0209 (Ref[T] and Mut[T] Aliases)
================================================================================

**Parent LEAF:** SPEC-LANG-0209: Ref[T] and Mut[T] generic aliases
**Source:** REQ-092, SSOT Section 4.5
**Decomposition Rationale:** Generic reference aliases require alias definition, variance handling, and lifetime management.

**ATOM-LANG-0209-001: Reference Alias Definition**
- **Parent:** SPEC-LANG-0209
- **Source:** REQ-092, SSOT Section 4.5
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Define Ref[T] = &T and Mut[T] = &mut T.
  - Support generic parameter T.
- **Semantics:** Creates reference aliases.
- **Edge Cases:** Lifetime parameters, nested references.
- **Failure Modes:** None (definition is declarative).
- **Dependencies:** Type system, references.
- **Tests Required:** Test alias definition.

**ATOM-LANG-0209-002: Variance Preservation**
- **Parent:** SPEC-LANG-0209
- **Source:** REQ-092, SSOT Section 4.5
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Preserve variance of underlying references.
  - Ref[T] is covariant, Mut[T] is invariant.
- **Semantics:** Maintains type safety.
- **Edge Cases:** Subtyping with aliases.
- **Failure Modes:** None (variance is type system property).
- **Dependencies:** ATOM-LANG-0209-001, type system.
- **Tests Required:** Test variance.

**ATOM-LANG-0209-003: Lifetime Parameter Handling**
- **Parent:** SPEC-LANG-0209
- **Source:** REQ-092, SSOT Section 4.5
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Support explicit lifetime parameters (Ref['a, T]).
  - Apply lifetime elision rules.
- **Semantics:** Manages reference lifetimes.
- **Edge Cases:** Multiple lifetimes, lifetime bounds.
- **Failure Modes:** ERR-LIFETIME-004 (lifetime error).
- **Dependencies:** ATOM-LANG-0209-001, SPEC-LANG-0205.
- **Tests Required:** Test lifetime handling.

================================================================================
ATOM Decomposition: SPEC-LANG-0210 (Teaching Argument Keywords)
================================================================================

**Parent LEAF:** SPEC-LANG-0210: Teaching argument keywords (borrow, inout, take)
**Source:** REQ-093, SSOT Section 4.5
**Decomposition Rationale:** Teaching keywords require keyword parsing, semantic mapping, and educational diagnostics.

**ATOM-LANG-0210-001: Teaching Keyword Parsing**
- **Parent:** SPEC-LANG-0210
- **Source:** REQ-093, SSOT Section 4.5
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Parse borrow, inout, take keywords in function parameters.
  - Store keyword in AST.
- **Semantics:** Recognizes teaching annotations.
- **Edge Cases:** Multiple keywords, invalid placement.
- **Failure Modes:** ERR-PARSE-035 (invalid keyword).
- **Dependencies:** Parser.
- **Tests Required:** Test parsing.

**ATOM-LANG-0210-002: Keyword Semantic Mapping**
- **Parent:** SPEC-LANG-0210
- **Source:** REQ-093, SSOT Section 4.5
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Map borrow  &T, inout  &mut T, take  T.
  - Apply semantic meaning during type checking.
- **Semantics:** Translates keywords to types.
- **Edge Cases:** Conflicting keywords, explicit types.
- **Failure Modes:** ERR-TYPE-016 (keyword type conflict).
- **Dependencies:** ATOM-LANG-0210-001, type checker.
- **Tests Required:** Test mapping.

**ATOM-LANG-0210-003: Educational Diagnostics**
- **Parent:** SPEC-LANG-0210
- **Source:** REQ-093, SSOT Section 4.5
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Provide clear error messages referencing keywords.
  - Explain borrow/ownership when keywords used.
- **Semantics:** Improves learning experience.
- **Edge Cases:** Complex error scenarios.
- **Failure Modes:** None (diagnostics are additive).
- **Dependencies:** ATOM-LANG-0210-002, diagnostics.
- **Tests Required:** Test error messages.

================================================================================
ATOM Decomposition: SPEC-LANG-0211 (Integer Literal Type Resolution)
================================================================================

**Parent LEAF:** SPEC-LANG-0211: Integer Literal Type Resolution (Defaulting)
**Source:** REQ-094, SSOT Section 4.6
**Decomposition Rationale:** Integer type resolution requires context analysis, constraint solving, and default application.

**ATOM-LANG-0211-001: Integer Context Analysis**
- **Parent:** SPEC-LANG-0211
- **Source:** REQ-094, SSOT Section 4.6
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Analyze usage context for integer literals.
  - Collect type constraints from context.
- **Semantics:** Gathers information for type inference.
- **Edge Cases:** No context, ambiguous context.
- **Failure Modes:** None (analysis only).
- **Dependencies:** Type inference.
- **Tests Required:** Test context analysis.

**ATOM-LANG-0211-002: Integer Type Constraint Solving**
- **Parent:** SPEC-LANG-0211
- **Source:** REQ-094, SSOT Section 4.6
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Solve constraints to determine integer type.
  - Check for unique solution.
- **Semantics:** Infers integer type from context.
- **Edge Cases:** Multiple valid types, no valid type.
- **Failure Modes:** ERR-TYPE-017 (ambiguous integer type).
- **Dependencies:** ATOM-LANG-0211-001.
- **Tests Required:** Test constraint solving.

**ATOM-LANG-0211-003: Default to i32**
- **Parent:** SPEC-LANG-0211
- **Source:** REQ-094, SSOT Section 4.6
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Default unsuffixed integer literals to i32.
  - Apply default when no constraints determine type.
- **Semantics:** Provides sensible default type.
- **Edge Cases:** Literals outside i32 range.
- **Failure Modes:** ERR-TYPE-018 (literal out of range for i32).
- **Dependencies:** ATOM-LANG-0211-002.
- **Tests Required:** Test defaulting, test range.

================================================================================
ATOM Decomposition: SPEC-LANG-0212 (Floating-point Literal Type Resolution)
================================================================================

**Parent LEAF:** SPEC-LANG-0212: Floating-point Literal Type Resolution
**Source:** REQ-095, SSOT Section 4.6
**Decomposition Rationale:** Float resolution mirrors integer resolution but with float-specific rules.

**ATOM-LANG-0212-001: Float Context Analysis**
- **Parent:** SPEC-LANG-0212
- **Source:** REQ-095, SSOT Section 4.6
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Analyze usage context for float literals.
  - Collect type constraints (f32, f64).
- **Semantics:** Gathers float type information.
- **Edge Cases:** No context, ambiguous context.
- **Failure Modes:** None (analysis only).
- **Dependencies:** Type inference.
- **Tests Required:** Test context analysis.

**ATOM-LANG-0212-002: Float Type Constraint Solving**
- **Parent:** SPEC-LANG-0212
- **Source:** REQ-095, SSOT Section 4.6
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Solve constraints to determine f32 vs f64.
  - Check for unique solution.
- **Semantics:** Infers float type from context.
- **Edge Cases:** Multiple valid types.
- **Failure Modes:** ERR-TYPE-019 (ambiguous float type).
- **Dependencies:** ATOM-LANG-0212-001.
- **Tests Required:** Test solving.

**ATOM-LANG-0212-003: Default to f64**
- **Parent:** SPEC-LANG-0212
- **Source:** REQ-095, SSOT Section 4.6
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Default unsuffixed float literals to f64.
  - Apply default when no constraints.
- **Semantics:** Provides double precision default.
- **Edge Cases:** Precision loss warnings.
- **Failure Modes:** None (f64 accommodates all literals).
- **Dependencies:** ATOM-LANG-0212-002.
- **Tests Required:** Test defaulting.

================================================================================
ATOM Decomposition: SPEC-LANG-0213 (Tuple Type Structural Checking)
================================================================================

**Parent LEAF:** SPEC-LANG-0213: Tuple Type Structural Checking
**Source:** REQ-096, SSOT Section 4.7
**Decomposition Rationale:** Tuple type checking involves element count validation, element type checking, and structural comparison.

**ATOM-LANG-0213-001: Tuple Arity Checking**
- **Parent:** SPEC-LANG-0213
- **Source:** REQ-096, SSOT Section 4.7
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Check tuple element count matches expected.
  - Report ERR-TYPE-020 for arity mismatch.
- **Semantics:** Validates tuple size.
- **Edge Cases:** Empty tuples, large tuples.
- **Failure Modes:** ERR-TYPE-020 (tuple arity mismatch).
- **Dependencies:** Type system.
- **Tests Required:** Test arity checking, test errors.

**ATOM-LANG-0213-002: Element Type Checking**
- **Parent:** SPEC-LANG-0213
- **Source:** REQ-096, SSOT Section 4.7
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Check each element type matches expected.
  - Use structural typing for tuples.
- **Semantics:** Validates tuple element types.
- **Edge Cases:** Nested tuples, generic elements.
- **Failure Modes:** ERR-TYPE-021 (tuple element type mismatch).
- **Dependencies:** ATOM-LANG-0213-001, type checking.
- **Tests Required:** Test element checking, test nested tuples.

**ATOM-LANG-0213-003: Tuple Structural Equality**
- **Parent:** SPEC-LANG-0213
- **Source:** REQ-096, SSOT Section 4.7
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Compare tuple types structurally (not nominally).
  - Two tuples equal if same arity and element types.
- **Semantics:** Determines tuple type equality.
- **Edge Cases:** Type aliases, nested tuples.
- **Failure Modes:** None (returns boolean).
- **Dependencies:** ATOM-LANG-0213-002.
- **Tests Required:** Test structural equality.

================================================================================
ATOM Decomposition: SPEC-LANG-0214 (Array Type and Size Checking)
================================================================================

**Parent LEAF:** SPEC-LANG-0214: Array Type and Size Checking
**Source:** REQ-097, SSOT Section 4.7
**Decomposition Rationale:** Array type checking involves size validation, element type checking, and compile-time size resolution.

**ATOM-LANG-0214-001: Array Size Validation**
- **Parent:** SPEC-LANG-0214
- **Source:** REQ-097, SSOT Section 4.7
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Validate array size is compile-time constant.
  - Check size is positive.
- **Semantics:** Ensures valid array sizes.
- **Edge Cases:** Zero-size arrays, huge arrays.
- **Failure Modes:** ERR-TYPE-022 (invalid array size).
- **Dependencies:** Const evaluation.
- **Tests Required:** Test size validation, test edge cases.

**ATOM-LANG-0214-002: Array Element Type Checking**
- **Parent:** SPEC-LANG-0214
- **Source:** REQ-097, SSOT Section 4.7
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Check all elements have same type.
  - Infer element type from literals or specify explicitly.
- **Semantics:** Validates array homogeneity.
- **Edge Cases:** Empty array literals, type ambiguity.
- **Failure Modes:** ERR-TYPE-023 (heterogeneous array).
- **Dependencies:** ATOM-LANG-0214-001.
- **Tests Required:** Test element checking, test inference.

**ATOM-LANG-0214-003: Compile-Time Size Resolution**
- **Parent:** SPEC-LANG-0214
- **Source:** REQ-097, SSOT Section 4.7
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Resolve array size at compile time.
  - Support const expressions for size.
- **Semantics:** Determines array size statically.
- **Edge Cases:** Complex const expressions.
- **Failure Modes:** ERR-TYPE-024 (non-const array size).
- **Dependencies:** ATOM-LANG-0214-001, SPEC-LANG-0216.
- **Tests Required:** Test const size resolution.

================================================================================
ATOM Decomposition: SPEC-LANG-0216 (Constant Expression Evaluation)
================================================================================

**Parent LEAF:** SPEC-LANG-0216: Constant Expression Evaluation (Basic)
**Source:** REQ-099, SSOT Section 4.8
**Decomposition Rationale:** Const evaluation involves expression validation, evaluation engine, and result caching.

**ATOM-LANG-0216-001: Const Expression Validation**
- **Parent:** SPEC-LANG-0216
- **Source:** REQ-099, SSOT Section 4.8
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Validate expression uses only const-allowed operations.
  - Check all operands are const.
- **Semantics:** Ensures evaluability at compile time.
- **Edge Cases:** Function calls, complex operations.
- **Failure Modes:** ERR-CONST-001 (non-const expression).
- **Dependencies:** Expression AST.
- **Tests Required:** Test validation, test errors.

**ATOM-LANG-0216-002: Compile-Time Evaluation Engine**
- **Parent:** SPEC-LANG-0216
- **Source:** REQ-099, SSOT Section 4.8
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Interpret const expressions at compile time.
  - Support arithmetic, logic, and comparison operations.
- **Semantics:** Evaluates expressions to const values.
- **Edge Cases:** Overflow, division by zero, complex expressions.
- **Failure Modes:** ERR-CONST-002 (evaluation error).
- **Dependencies:** ATOM-LANG-0216-001.
- **Tests Required:** Test evaluation, test operations.

**ATOM-LANG-0216-003: Const Value Caching**
- **Parent:** SPEC-LANG-0216
- **Source:** REQ-099, SSOT Section 4.8
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Cache evaluated const values.
  - Avoid re-evaluation of same expression.
- **Semantics:** Optimizes const evaluation performance.
- **Edge Cases:** Large expressions, repeated evaluations.
- **Failure Modes:** None (caching is optimization).
- **Dependencies:** ATOM-LANG-0216-002.
- **Tests Required:** Test caching performance.

================================================================================
ATOM Decomposition: SPEC-LANG-0217 (Main Function Definition)
================================================================================

**Parent LEAF:** SPEC-LANG-0217: Main Function Definition
**Source:** REQ-100, SSOT Section 4.9
**Decomposition Rationale:** Main function has specific signature requirements and initialization responsibilities.

**ATOM-LANG-0217-001: Main Function Signature Definition**
- **Parent:** SPEC-LANG-0217
- **Source:** REQ-100, SSOT Section 4.9
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Define valid signatures: `fn main()` or `fn main(args: List[String]) -> i32`.
  - Specify return type semantics (void or exit code).
- **Semantics:** Establishes entry point contract.
- **Edge Cases:** Invalid signatures, generics.
- **Failure Modes:** ERR-MAIN-001 (invalid main signature).
- **Dependencies:** Function definition.
- **Tests Required:** Test valid signatures, test invalid.

**ATOM-LANG-0217-002: Main Function Initialization Code**
- **Parent:** SPEC-LANG-0217
- **Source:** REQ-100, SSOT Section 4.9
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Generate runtime initialization before main.
  - Initialize allocator, panic handler, etc.
- **Semantics:** Sets up runtime environment.
- **Edge Cases:** Initialization failures.
- **Failure Modes:** Runtime initialization errors.
- **Dependencies:** ATOM-LANG-0217-001, runtime.
- **Tests Required:** Test initialization sequence.

**ATOM-LANG-0217-003: Main Function Exit Handling**
- **Parent:** SPEC-LANG-0217
- **Source:** REQ-100, SSOT Section 4.9
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Handle main return value as exit code.
  - Call cleanup code on exit.
- **Semantics:** Manages program termination.
- **Edge Cases:** Panic during exit, cleanup failures.
- **Failure Modes:** Abort on cleanup panic.
- **Dependencies:** ATOM-LANG-0217-002.
- **Tests Required:** Test exit codes, test cleanup.

================================================================================
ATOM Decomposition: SPEC-LANG-0224 (Struct Type Semantics)
================================================================================

**Parent LEAF:** SPEC-LANG-0224: Struct Type Semantics
**Source:** REQ-103, SSOT Section 4.11
**Decomposition Rationale:** Struct semantics involve field access, initialization, and layout.

**ATOM-LANG-0224-001: Struct Field Definition**
- **Parent:** SPEC-LANG-0224
- **Source:** REQ-103, SSOT Section 4.11
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Parse struct field definitions.
  - Track field names and types.
  - Support visibility modifiers.
- **Semantics:** Defines struct layout.
- **Edge Cases:** Duplicate fields, invalid types.
- **Failure Modes:** ERR-STRUCT-001 (invalid field).
- **Dependencies:** Type system.
- **Tests Required:** Test field definition, test errors.

**ATOM-LANG-0224-002: Struct Field Access**
- **Parent:** SPEC-LANG-0224
- **Source:** REQ-103, SSOT Section 4.11
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Resolve field access expressions.
  - Check field visibility.
  - Generate field offset calculations.
- **Semantics:** Enables field access.
- **Edge Cases:** Private fields, missing fields.
- **Failure Modes:** ERR-STRUCT-002 (field not found).
- **Dependencies:** ATOM-LANG-0224-001.
- **Tests Required:** Test field access, test visibility.

**ATOM-LANG-0224-003: Struct Initialization Checking**
- **Parent:** SPEC-LANG-0224
- **Source:** REQ-103, SSOT Section 4.11
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Check all fields initialized.
  - Support struct literal syntax.
  - Validate field types.
- **Semantics:** Ensures complete initialization.
- **Edge Cases:** Missing fields, wrong types.
- **Failure Modes:** ERR-STRUCT-003 (incomplete initialization).
- **Dependencies:** ATOM-LANG-0224-001.
- **Tests Required:** Test initialization, test errors.

================================================================================
ATOM Decomposition: SPEC-LANG-0226 (Enum Type Semantics)
================================================================================

**Parent LEAF:** SPEC-LANG-0226: Enum Type Semantics
**Source:** REQ-105, SSOT Section 4.12
**Decomposition Rationale:** Enum semantics involve variant definition, discriminant management, and pattern matching integration.

**ATOM-LANG-0226-001: Enum Variant Definition**
- **Parent:** SPEC-LANG-0226
- **Source:** REQ-105, SSOT Section 4.12
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Parse enum variants with optional associated data.
  - Assign discriminant values.
- **Semantics:** Defines enum structure.
- **Edge Cases:** Duplicate variants, complex associated types.
- **Failure Modes:** ERR-ENUM-001 (invalid variant).
- **Dependencies:** Type system.
- **Tests Required:** Test variant definition.

**ATOM-LANG-0226-002: Discriminant Management**
- **Parent:** SPEC-LANG-0226
- **Source:** REQ-105, SSOT Section 4.12
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Assign unique discriminant to each variant.
  - Support explicit discriminant values.
  - Generate discriminant checks in pattern matching.
- **Semantics:** Implements enum variant identification.
- **Edge Cases:** Discriminant collisions, large discriminants.
- **Failure Modes:** ERR-ENUM-002 (discriminant collision).
- **Dependencies:** ATOM-LANG-0226-001.
- **Tests Required:** Test discriminant assignment.

**ATOM-LANG-0226-003: Enum Pattern Matching Integration**
- **Parent:** SPEC-LANG-0226
- **Source:** REQ-105, SSOT Section 4.12
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Integrate enum variants with pattern matching.
  - Extract associated data in patterns.
  - Check exhaustiveness for enums.
- **Semantics:** Enables safe enum handling.
- **Edge Cases:** Nested enums, generic variants.
- **Failure Modes:** None (integrates with pattern matching).
- **Dependencies:** ATOM-LANG-0226-002, SPEC-LANG-0114.
- **Tests Required:** Test pattern integration, test exhaustiveness.

================================================================================
ATOM Decomposition: SPEC-LANG-0227 (Optional Type and Safety)
================================================================================

**Parent LEAF:** SPEC-LANG-0227: Optional Type and Safety
**Source:** REQ-106, SSOT Section 4.13
**Decomposition Rationale:** Optional type requires None handling, Some unwrapping, and null safety guarantees.

**ATOM-LANG-0227-001: Option Type Definition**
- **Parent:** SPEC-LANG-0227
- **Source:** REQ-106, SSOT Section 4.13
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Define Option[T] as enum: Some(T) | None.
  - Provide in prelude for auto-import.
- **Semantics:** Defines optional value type.
- **Edge Cases:** None.
- **Failure Modes:** None (type definition).
- **Dependencies:** Enum system.
- **Tests Required:** Test Option definition.

**ATOM-LANG-0227-002: Null Safety Enforcement**
- **Parent:** SPEC-LANG-0227
- **Source:** REQ-106, SSOT Section 4.13
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Prevent null pointer representation.
  - Force explicit Option for nullable values.
  - Report errors for null usage.
- **Semantics:** Ensures null safety.
- **Edge Cases:** FFI boundaries, raw pointers.
- **Failure Modes:** ERR-NULL-001 (null not allowed).
- **Dependencies:** ATOM-LANG-0227-001.
- **Tests Required:** Test null prevention.

**ATOM-LANG-0227-003: Option Unwrapping Operations**
- **Parent:** SPEC-LANG-0227
- **Source:** REQ-106, SSOT Section 4.13
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Provide safe unwrapping (pattern matching).
  - Provide unsafe unwrapping with panic (unwrap).
  - Provide default value handling (unwrap_or).
- **Semantics:** Enables safe value extraction.
- **Edge Cases:** Unwrap on None (panic).
- **Failure Modes:** Panic on unwrap None.
- **Dependencies:** ATOM-LANG-0227-001.
- **Tests Required:** Test unwrapping methods, test panics.

================================================================================
ATOM Decomposition: SPEC-LANG-0232 (Result Type Semantics)
================================================================================

**Parent LEAF:** SPEC-LANG-0232: Result Type Semantics
**Source:** REQ-108, SSOT Section 4.14
**Decomposition Rationale:** Result type requires Ok/Err handling, error propagation, and try operator integration.

**ATOM-LANG-0232-001: Result Type Definition**
- **Parent:** SPEC-LANG-0232
- **Source:** REQ-108, SSOT Section 4.14
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Define Result[T, E] as enum: Ok(T) | Err(E).
  - Provide in prelude.
- **Semantics:** Defines error handling type.
- **Edge Cases:** None.
- **Failure Modes:** None (type definition).
- **Dependencies:** Enum system.
- **Tests Required:** Test Result definition.

**ATOM-LANG-0232-002: Error Propagation with Try Operator**
- **Parent:** SPEC-LANG-0232
- **Source:** REQ-108, SSOT Section 4.14
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Integrate Result with ? try operator.
  - Auto-propagate Err variants.
  - Unwrap Ok values.
- **Semantics:** Enables ergonomic error handling.
- **Edge Cases:** Type conversion for errors.
- **Failure Modes:** None (syntactic sugar).
- **Dependencies:** ATOM-LANG-0232-001, SPEC-LANG-0108.
- **Tests Required:** Test try operator with Result.

**ATOM-LANG-0232-003: Result Helper Methods**
- **Parent:** SPEC-LANG-0232
- **Source:** REQ-108, SSOT Section 4.14
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Provide is_ok(), is_err() checks.
  - Provide map(), map_err() transformations.
  - Provide unwrap(), expect() methods.
- **Semantics:** Provides Result utilities.
- **Edge Cases:** Panic on unwrap Err.
- **Failure Modes:** Panic on error unwrap.
- **Dependencies:** ATOM-LANG-0232-001.
- **Tests Required:** Test helper methods.

================================================================================
ATOM Decomposition: SPEC-LANG-0233 (Opt-in Dynamic Dispatch)
================================================================================

**Parent LEAF:** SPEC-LANG-0233: Opt-in Dynamic Dispatch (dyn Trait)
**Source:** REQ-109, SSOT Section 4.15
**Decomposition Rationale:** Dynamic dispatch requires trait object creation, vtable generation, and dynamic method resolution.

**ATOM-LANG-0233-001: Trait Object Creation**
- **Parent:** SPEC-LANG-0233
- **Source:** REQ-109, SSOT Section 4.15
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Parse `dyn Trait` syntax.
  - Create trait object type representation.
  - Validate trait is object-safe.
- **Semantics:** Creates dynamic dispatch types.
- **Edge Cases:** Non-object-safe traits, multiple trait bounds.
- **Failure Modes:** ERR-TRAIT-001 (trait not object-safe).
- **Dependencies:** Trait system.
- **Tests Required:** Test trait object creation, test object safety.

**ATOM-LANG-0233-002: Vtable Generation**
- **Parent:** SPEC-LANG-0233
- **Source:** REQ-109, SSOT Section 4.15
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Generate virtual function tables for trait objects.
  - Include all trait methods in vtable.
  - Store type info for downcasting.
- **Semantics:** Implements dynamic dispatch mechanism.
- **Edge Cases:** Large vtables, method name conflicts.
- **Failure Modes:** None (codegen task).
- **Dependencies:** ATOM-LANG-0233-001, codegen.
- **Tests Required:** Test vtable generation, test method calls.

**ATOM-LANG-0233-003: Dynamic Method Resolution**
- **Parent:** SPEC-LANG-0233
- **Source:** REQ-109, SSOT Section 4.15
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Implement runtime method lookup via vtable.
  - Generate indirect function calls.
  - Handle self parameter correctly.
- **Semantics:** Enables polymorphic method calls.
- **Edge Cases:** Method overrides, self type casting.
- **Failure Modes:** None (runtime behavior).
- **Dependencies:** ATOM-LANG-0233-002.
- **Tests Required:** Test dynamic calls, test polymorphism.

================================================================================
ATOM Decomposition: SPEC-LANG-0234 (Implementation Blocks)
================================================================================

**Parent LEAF:** SPEC-LANG-0234: Implementation Blocks (impl)
**Source:** REQ-110, SSOT Section 4.16
**Decomposition Rationale:** Impl blocks require parsing, method association, and trait implementation verification.

**ATOM-LANG-0234-001: Impl Block Parsing**
- **Parent:** SPEC-LANG-0234
- **Source:** REQ-110, SSOT Section 4.16
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Parse `impl Type { ... }` syntax.
  - Parse `impl Trait for Type { ... }` syntax.
  - Parse generic parameters on impl.
- **Semantics:** Parses implementation declarations.
- **Edge Cases:** Negative impls, blanket impls, overlapping impls.
- **Failure Modes:** ERR-IMPL-001 (invalid impl syntax).
- **Dependencies:** Parser, type system.
- **Tests Required:** Test impl parsing, test trait impls.

**ATOM-LANG-0234-002: Method Association**
- **Parent:** SPEC-LANG-0234
- **Source:** REQ-110, SSOT Section 4.16
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Associate methods with their types.
  - Build method lookup table per type.
  - Support method overloading (distinct signatures).
- **Semantics:** Links methods to types.
- **Edge Cases:** Method name conflicts, inherited methods.
- **Failure Modes:** ERR-IMPL-002 (duplicate method).
- **Dependencies:** ATOM-LANG-0234-001.
- **Tests Required:** Test method association, test lookup.

**ATOM-LANG-0234-003: Trait Implementation Verification**
- **Parent:** SPEC-LANG-0234
- **Source:** REQ-110, SSOT Section 4.16
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Verify all trait methods are implemented.
  - Check method signatures match trait definition.
  - Validate trait bounds are satisfied.
- **Semantics:** Ensures correct trait implementations.
- **Edge Cases:** Default methods, associated types.
- **Failure Modes:** ERR-IMPL-003 (incomplete trait impl).
- **Dependencies:** ATOM-LANG-0234-002.
- **Tests Required:** Test impl verification, test errors.

================================================================================
ATOM Decomposition: SPEC-LANG-0235 (Instance Methods and Self)
================================================================================

**Parent LEAF:** SPEC-LANG-0235: Instance Methods and Self
**Source:** REQ-111, SSOT Section 4.17
**Decomposition Rationale:** Instance methods require self parameter handling, method call desugaring, and receiver type checking.

**ATOM-LANG-0235-001: Self Parameter Parsing**
- **Parent:** SPEC-LANG-0235
- **Source:** REQ-111, SSOT Section 4.17
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Parse self, &self, &mut self parameters.
  - Parse explicit Self type.
  - Validate self is first parameter.
- **Semantics:** Parses instance method receivers.
- **Edge Cases:** self by value, explicit Self type, Box<Self>.
- **Failure Modes:** ERR-METHOD-001 (invalid self parameter).
- **Dependencies:** Parser.
- **Tests Required:** Test self parsing, test all forms.

**ATOM-LANG-0235-002: Method Call Desugaring**
- **Parent:** SPEC-LANG-0235
- **Source:** REQ-111, SSOT Section 4.17
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Desugar `obj.method()` to `Type::method(obj)`.
  - Handle self borrowing automatically.
  - Insert automatic dereferencing as needed.
- **Semantics:** Transforms method syntax to function calls.
- **Edge Cases:** Auto-deref, multiple candidates, explicit paths.
- **Failure Modes:** ERR-METHOD-002 (method not found).
- **Dependencies:** ATOM-LANG-0235-001.
- **Tests Required:** Test desugaring, test auto-deref.

**ATOM-LANG-0235-003: Receiver Type Checking**
- **Parent:** SPEC-LANG-0235
- **Source:** REQ-111, SSOT Section 4.17
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Check receiver type matches self parameter.
  - Validate borrowing rules for method calls.
  - Handle move vs borrow semantics.
- **Semantics:** Ensures type safety for method calls.
- **Edge Cases:** Moving self, reborrowing, smart pointers.
- **Failure Modes:** ERR-METHOD-003 (receiver type mismatch).
- **Dependencies:** ATOM-LANG-0235-002.
- **Tests Required:** Test type checking, test borrowing.

================================================================================
ATOM Decomposition: SPEC-LANG-0303 (Lifetime Analysis)
================================================================================

**Parent LEAF:** SPEC-LANG-0303: Lifetime Analysis
**Source:** REQ-113, SSOT Section 5.3
**Decomposition Rationale:** Lifetime analysis requires scope calculation, constraint solving, and error reporting.

**ATOM-LANG-0303-001: Lexical Scope Calculation**
- **Parent:** SPEC-LANG-0303
- **Source:** REQ-113, SSOT Section 5.3
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Calculate lexical scopes for all variables.
  - Track scope nesting hierarchy.
  - Determine scope entry/exit points.
- **Semantics:** Establishes lifetime bounds.
- **Edge Cases:** Conditional scopes, loop scopes.
- **Failure Modes:** None (analysis is internal).
- **Dependencies:** AST, CFG.
- **Tests Required:** Test scope calculation.

**ATOM-LANG-0303-002: Non-Lexical Lifetime Calculation**
- **Parent:** SPEC-LANG-0303
- **Source:** REQ-113, SSOT Section 5.3
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Calculate actual usage lifetimes (non-lexical).
  - Track last use of each variable.
  - Extend lifetimes as needed for borrows.
- **Semantics:** Computes precise lifetimes.
- **Edge Cases:** Conditional uses, loop iterations.
- **Failure Modes:** None (analysis is internal).
- **Dependencies:** ATOM-LANG-0303-001, liveness analysis.
- **Tests Required:** Test NLL calculation.

**ATOM-LANG-0303-003: Lifetime Error Reporting**
- **Parent:** SPEC-LANG-0303
- **Source:** REQ-113, SSOT Section 5.3
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Generate clear lifetime error messages.
  - Show where reference is created and where it's used after expiry.
  - Suggest lifetime annotations when needed.
- **Semantics:** Reports lifetime violations.
- **Edge Cases:** Complex lifetime relationships.
- **Failure Modes:** ERR-LIFETIME-005 (lifetime error).
- **Dependencies:** ATOM-LANG-0303-002.
- **Tests Required:** Test error messages, test suggestions.

================================================================================
ATOM Decomposition: SPEC-LANG-0308 (Re-borrowing and Borrow Stack)
================================================================================

**Parent LEAF:** SPEC-LANG-0308: Re-borrowing and Borrow Stack Management
**Source:** REQ-108, SSOT Section 5.2
**Decomposition Rationale:** Re-borrowing requires borrow stack tracking, stack operations, and aliasing validation.

**ATOM-LANG-0308-001: Borrow Stack Initialization**
- **Parent:** SPEC-LANG-0308
- **Source:** REQ-108, SSOT Section 5.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Initialize borrow stack for each memory location.
  - Track stack of active borrows.
  - Associate tags with each borrow.
- **Semantics:** Sets up borrow tracking structure.
- **Edge Cases:** Complex borrowing patterns.
- **Failure Modes:** None (initialization).
- **Dependencies:** Borrow checker.
- **Tests Required:** Test stack initialization.

**ATOM-LANG-0308-002: Re-borrow Operation**
- **Parent:** SPEC-LANG-0308
- **Source:** REQ-108, SSOT Section 5.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Create new borrow from existing borrow.
  - Push new borrow on stack.
  - Maintain parent-child borrow relationship.
- **Semantics:** Enables temporary re-borrowing.
- **Edge Cases:** Multiple re-borrows, mixed mutability.
- **Failure Modes:** None (re-borrow is allowed).
- **Dependencies:** ATOM-LANG-0308-001.
- **Tests Required:** Test re-borrowing, test nesting.

**ATOM-LANG-0308-003: Stack Validation and Pop**
- **Parent:** SPEC-LANG-0308
- **Source:** REQ-108, SSOT Section 5.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Validate stack operations maintain ordering.
  - Pop borrows when they expire.
  - Detect invalid aliasing patterns.
- **Semantics:** Enforces borrow stack discipline.
- **Edge Cases:** Out-of-order pops, stack violations.
- **Failure Modes:** ERR-BORROW-003 (invalid aliasing).
- **Dependencies:** ATOM-LANG-0308-002.
- **Tests Required:** Test validation, test errors.

================================================================================
ATOM Decomposition: SPEC-LANG-0309 (Partial Moves and Field-level Tracking)
================================================================================

**Parent LEAF:** SPEC-LANG-0309: Partial Moves and Field-level Tracking
**Source:** REQ-109, SSOT Section 5.2
**Decomposition Rationale:** Partial moves require field-level state tracking, partial initialization, and aggregate checking.

**ATOM-LANG-0309-001: Field-Level Move Tracking**
- **Parent:** SPEC-LANG-0309
- **Source:** REQ-109, SSOT Section 5.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Track move state per struct field.
  - Allow moving individual fields independently.
  - Prevent whole-struct use after partial move.
- **Semantics:** Enables fine-grained move tracking.
- **Edge Cases:** Nested structs, tuple structs.
- **Failure Modes:** ERR-MOVE-002 (use after partial move).
- **Dependencies:** SPEC-LANG-0301.
- **Tests Required:** Test field-level tracking.

**ATOM-LANG-0309-002: Partial Initialization Checking**
- **Parent:** SPEC-LANG-0309
- **Source:** REQ-109, SSOT Section 5.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Track which fields are initialized.
  - Allow incremental field initialization.
  - Require all fields initialized before whole-struct use.
- **Semantics:** Supports partial initialization patterns.
- **Edge Cases:** Conditional initialization, initialization order.
- **Failure Modes:** ERR-INIT-001 (use before full initialization).
- **Dependencies:** ATOM-LANG-0309-001.
- **Tests Required:** Test partial initialization.

**ATOM-LANG-0309-003: Aggregate Move Checking**
- **Parent:** SPEC-LANG-0309
- **Source:** REQ-109, SSOT Section 5.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Check aggregate (whole struct) operations after partial moves.
  - Prevent aggregate use if any field moved.
  - Allow remaining field access.
- **Semantics:** Enforces partial move constraints.
- **Edge Cases:** Complex move patterns.
- **Failure Modes:** ERR-MOVE-003 (aggregate use after partial move).
- **Dependencies:** ATOM-LANG-0309-001.
- **Tests Required:** Test aggregate checking.

================================================================================
ATOM Decomposition: SPEC-LANG-0310 (Borrow Checker Diagnostic Generation)
================================================================================

**Parent LEAF:** SPEC-LANG-0310: Borrow Checker Diagnostic Generation Integration
**Source:** REQ-110, SSOT Section 5.2
**Decomposition Rationale:** Diagnostics require error message generation, suggestion generation, and visualization.

**ATOM-LANG-0310-001: Borrow Error Message Generation**
- **Parent:** SPEC-LANG-0310
- **Source:** REQ-110, SSOT Section 5.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Generate clear error messages for borrow violations.
  - Show where conflicting borrows occur.
  - Explain why borrow is invalid.
- **Semantics:** Reports borrow errors clearly.
- **Edge Cases:** Complex borrow patterns, multiple errors.
- **Failure Modes:** None (diagnostic quality).
- **Dependencies:** Borrow checker.
- **Tests Required:** Test error message quality.

**ATOM-LANG-0310-002: Borrow Error Suggestion Generation**
- **Parent:** SPEC-LANG-0310
- **Source:** REQ-110, SSOT Section 5.2
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Generate suggestions for fixing borrow errors.
  - Suggest cloning, lifetime annotations, or restructuring.
  - Provide code examples.
- **Semantics:** Helps users fix borrow errors.
- **Edge Cases:** Multiple possible fixes, complex suggestions.
- **Failure Modes:** None (suggestions are optional).
- **Dependencies:** ATOM-LANG-0310-001.
- **Tests Required:** Test suggestion quality, test examples.

**ATOM-LANG-0310-003: Borrow Visualization**
- **Parent:** SPEC-LANG-0310
- **Source:** REQ-110, SSOT Section 5.2
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Visualize borrow relationships in errors.
  - Show borrow lifetime spans graphically.
  - Highlight conflicting regions.
- **Semantics:** Provides visual error understanding.
- **Edge Cases:** Complex visualizations, terminal limitations.
- **Failure Modes:** None (visualization is enhancement).
- **Dependencies:** ATOM-LANG-0310-001.
- **Tests Required:** Test visualizations.

================================================================================
ATOM Decomposition: SPEC-LANG-0225 (Data Layout and Alignment)
================================================================================

**Parent LEAF:** SPEC-LANG-0225: Data Layout and Alignment
**Source:** REQ-104, SSOT Section 4.11
**Decomposition Rationale:** Data layout requires size calculation, alignment calculation, and padding insertion.

**ATOM-LANG-0225-001: Type Size Calculation**
- **Parent:** SPEC-LANG-0225
- **Source:** REQ-104, SSOT Section 4.11
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Calculate size of all types.
  - Handle primitive sizes, struct sizes, enum sizes.
  - Support target-dependent sizes.
- **Semantics:** Determines memory footprint.
- **Edge Cases:** ZSTs (zero-sized types), large types.
- **Failure Modes:** None (calculation is deterministic).
- **Dependencies:** Type system.
- **Tests Required:** Test size calculations.

**ATOM-LANG-0225-002: Type Alignment Calculation**
- **Parent:** SPEC-LANG-0225
- **Source:** REQ-104, SSOT Section 4.11
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Calculate alignment requirements for all types.
  - Use platform alignment rules.
  - Support explicit alignment attributes.
- **Semantics:** Determines alignment constraints.
- **Edge Cases:** Over-aligned types, packed types.
- **Failure Modes:** None (calculation is deterministic).
- **Dependencies:** ATOM-LANG-0225-001.
- **Tests Required:** Test alignment calculations.

**ATOM-LANG-0225-003: Struct Padding Insertion**
- **Parent:** SPEC-LANG-0225
- **Source:** REQ-104, SSOT Section 4.11
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Insert padding between fields for alignment.
  - Calculate optimal field ordering (optional).
  - Ensure struct alignment requirements met.
- **Semantics:** Implements struct layout.
- **Edge Cases:** Packed structs (no padding), repr(C) compatibility.
- **Failure Modes:** None (padding is automatic).
- **Dependencies:** ATOM-LANG-0225-002.
- **Tests Required:** Test padding, test layout.

================================================================================
ATOM Decomposition: SPEC-LANG-0228 (Untagged Union Semantics)
================================================================================

**Parent LEAF:** SPEC-LANG-0228: Untagged Union Semantics
**Source:** REQ-107, SSOT Section 4.13
**Decomposition Rationale:** Unions require unsafe access, layout calculation, and safety documentation.

**ATOM-LANG-0228-001: Union Type Definition**
- **Parent:** SPEC-LANG-0228
- **Source:** REQ-107, SSOT Section 4.13
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Define union syntax and semantics.
  - Calculate union size (max of field sizes).
  - Support field type diversity.
- **Semantics:** Defines untagged union type.
- **Edge Cases:** Large unions, alignment issues.
- **Failure Modes:** None (type definition).
- **Dependencies:** Type system.
- **Tests Required:** Test union definition, test size.

**ATOM-LANG-0228-002: Unsafe Union Field Access**
- **Parent:** SPEC-LANG-0228
- **Source:** REQ-107, SSOT Section 4.13
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Require unsafe blocks for union field access.
  - No automatic tracking of active field.
  - Allow reading any field (undefined if wrong).
- **Semantics:** Implements unsafe union access.
- **Edge Cases:** Wrong field access, uninitialized unions.
- **Failure Modes:** Undefined behavior if accessed incorrectly.
- **Dependencies:** ATOM-LANG-0228-001, SPEC-LANG-0316.
- **Tests Required:** Test unsafe access, test undefined behavior warnings.

**ATOM-LANG-0228-003: Union Layout Calculation**
- **Parent:** SPEC-LANG-0228
- **Source:** REQ-107, SSOT Section 4.13
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Calculate union layout (overlapping fields).
  - All fields start at offset 0.
  - Union size = max field size, alignment = max field alignment.
- **Semantics:** Implements union memory layout.
- **Edge Cases:** Nested unions, padding.
- **Failure Modes:** None (layout is deterministic).
- **Dependencies:** ATOM-LANG-0228-001, SPEC-LANG-0225.
- **Tests Required:** Test layout, test alignment.

================================================================================
ATOM Decomposition: SPEC-LANG-0236 (Associated Functions)
================================================================================

**Parent LEAF:** SPEC-LANG-0236: Associated Functions
**Source:** REQ-112, SSOT Section 4.17
**Decomposition Rationale:** Associated functions require parsing, resolution, and namespace handling.

**ATOM-LANG-0236-001: Associated Function Definition Parsing**
- **Parent:** SPEC-LANG-0236
- **Source:** REQ-112, SSOT Section 4.17
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Parse functions without self parameter in impl blocks.
  - Create associated function nodes in AST.
- **Semantics:** Parses type-associated functions.
- **Edge Cases:** Generic associated functions.
- **Failure Modes:** ERR-ASSOC-001 (invalid associated function).
- **Dependencies:** SPEC-LANG-0234 (Impl blocks).
- **Tests Required:** Test parsing, test no-self validation.

**ATOM-LANG-0236-002: Associated Function Resolution**
- **Parent:** SPEC-LANG-0236
- **Source:** REQ-112, SSOT Section 4.17
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Resolve `Type::function()` calls.
  - Look up function in type's associated functions.
  - Support trait associated functions.
- **Semantics:** Resolves qualified function calls.
- **Edge Cases:** Trait method vs associated function ambiguity.
- **Failure Modes:** ERR-ASSOC-002 (function not found).
- **Dependencies:** ATOM-LANG-0236-001.
- **Tests Required:** Test resolution, test qualified calls.

**ATOM-LANG-0236-003: Constructor Pattern (new, default)**
- **Parent:** SPEC-LANG-0236
- **Source:** REQ-112, SSOT Section 4.17
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Support common associated function patterns.
  - `Type::new()` and `Type::default()` conventions.
  - No special syntax, just conventions.
- **Semantics:** Establishes constructor conventions.
- **Edge Cases:** Missing constructors, custom names.
- **Failure Modes:** None (conventions, not requirements).
- **Dependencies:** ATOM-LANG-0236-001.
- **Tests Required:** Test constructor patterns.

================================================================================
ATOM Decomposition: SPEC-LANG-0237 (Module-level Privacy and Visibility)
================================================================================

**Parent LEAF:** SPEC-LANG-0237: Module-level Privacy and Visibility
**Source:** REQ-113, SSOT Section 4.18
**Decomposition Rationale:** Privacy system requires visibility rules, access checking, and re-export handling.

**ATOM-LANG-0237-001: Visibility Rule Engine**
- **Parent:** SPEC-LANG-0237
- **Source:** REQ-113, SSOT Section 4.18
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Implement visibility rules (pub vs private).
  - Support pub(crate), pub(super) if needed.
  - Calculate visibility scope for each item.
- **Semantics:** Defines visibility rules.
- **Edge Cases:** Nested modules, pub in private modules.
- **Failure Modes:** None (rules are declarative).
- **Dependencies:** SPEC-LANG-0012.
- **Tests Required:** Test visibility rules.

**ATOM-LANG-0237-002: Cross-Module Access Checking**
- **Parent:** SPEC-LANG-0237
- **Source:** REQ-113, SSOT Section 4.18
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Check access rights at use sites.
  - Validate item is visible from current module.
  - Report ERR-VIS-003 for violations.
- **Semantics:** Enforces encapsulation.
- **Edge Cases:** Re-exports, child module access, sibling access.
- **Failure Modes:** ERR-VIS-003 (private item accessed).
- **Dependencies:** ATOM-LANG-0237-001.
- **Tests Required:** Test cross-module access, test errors.

**ATOM-LANG-0237-003: Re-export Visibility**
- **Parent:** SPEC-LANG-0237
- **Source:** REQ-113, SSOT Section 4.18
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Support `pub use` re-exports.
  - Make private items public via re-export.
  - Validate re-exported items are visible.
- **Semantics:** Enables API surface control.
- **Edge Cases:** Re-exporting private items, transitive visibility.
- **Failure Modes:** ERR-VIS-004 (cannot re-export private item).
- **Dependencies:** ATOM-LANG-0237-002.
- **Tests Required:** Test re-exports, test visibility.

================================================================================
ATOM Decomposition: SPEC-LANG-0238 (Composition-based Type Architecture)
================================================================================

**Parent LEAF:** SPEC-LANG-0238: Composition-based Type Architecture (No Inheritance)
**Source:** REQ-114, SSOT Section 4.19
**Decomposition Rationale:** Composition enforcement requires inheritance prevention and trait composition support.

**ATOM-LANG-0238-001: Inheritance Syntax Prevention**
- **Parent:** SPEC-LANG-0238
- **Source:** REQ-114, SSOT Section 4.19
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Reject any inheritance-like syntax (extends, inherits).
  - Report error if inheritance attempted.
- **Semantics:** Prevents inheritance.
- **Edge Cases:** Trait inheritance (allowed), struct inheritance (forbidden).
- **Failure Modes:** ERR-LANG-002 (inheritance not supported).
- **Dependencies:** Parser.
- **Tests Required:** Test rejection of inheritance syntax.

**ATOM-LANG-0238-002: Trait Composition Support**
- **Parent:** SPEC-LANG-0238
- **Source:** REQ-114, SSOT Section 4.19
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Support implementing multiple traits on single type.
  - Allow trait bounds combining multiple traits.
  - Compose behavior through traits.
- **Semantics:** Enables composition pattern.
- **Edge Cases:** Conflicting trait methods, diamond problem.
- **Failure Modes:** ERR-TRAIT-002 (conflicting trait methods).
- **Dependencies:** ATOM-LANG-0238-001, trait system.
- **Tests Required:** Test multi-trait impls, test composition.

================================================================================
ATOM Decomposition: SPEC-LANG-0240 (Compile-time Function Evaluation)
================================================================================

**Parent LEAF:** SPEC-LANG-0240: Compile-time Function Evaluation (const fn)
**Source:** REQ-116, SSOT Section 4.20
**Decomposition Rationale:** Const functions require const validation, compile-time execution, and integration with const contexts.

**ATOM-LANG-0240-001: Const Function Declaration**
- **Parent:** SPEC-LANG-0240
- **Source:** REQ-116, SSOT Section 4.20
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Parse `const fn` syntax.
  - Mark function as const-evaluable.
  - Validate function body uses only const operations.
- **Semantics:** Declares compile-time evaluable functions.
- **Edge Cases:** Generic const fn, recursive const fn.
- **Failure Modes:** ERR-CONST-003 (non-const operation in const fn).
- **Dependencies:** Parser, SPEC-LANG-0216.
- **Tests Required:** Test const fn declaration, test validation.

**ATOM-LANG-0240-002: Const Function Interpretation**
- **Parent:** SPEC-LANG-0240
- **Source:** REQ-116, SSOT Section 4.20
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Interpret const function at compile time.
  - Support all const operations in function body.
  - Cache const function results.
- **Semantics:** Executes functions at compile time.
- **Edge Cases:** Recursive calls, complex control flow.
- **Failure Modes:** ERR-CONST-004 (const evaluation failed).
- **Dependencies:** ATOM-LANG-0240-001, SPEC-LANG-0216.
- **Tests Required:** Test interpretation, test recursion.

**ATOM-LANG-0240-003: Const Context Integration**
- **Parent:** SPEC-LANG-0240
- **Source:** REQ-116, SSOT Section 4.20
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Allow const fn calls in const contexts (array sizes, const declarations).
  - Evaluate const fn automatically when needed.
- **Semantics:** Integrates const fn with const system.
- **Edge Cases:** Nested const fn calls, const fn in generic contexts.
- **Failure Modes:** None (integration is transparent).
- **Dependencies:** ATOM-LANG-0240-002.
- **Tests Required:** Test integration, test const contexts.

================================================================================
ATOM Decomposition: SPEC-LANG-0241 (Compile-time Parameterization)
================================================================================

**Parent LEAF:** SPEC-LANG-0241: Compile-time Parameterization ([Size: int])
**Source:** REQ-117, SSOT Section 4.21
**Decomposition Rationale:** Compile-time parameters require parsing, const evaluation, and type system integration.

**ATOM-LANG-0241-001: Const Parameter Syntax Parsing**
- **Parent:** SPEC-LANG-0241
- **Source:** REQ-117, SSOT Section 4.21
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Parse `[Param: Type]` const parameter syntax in generics.
  - Support in type definitions and functions.
  - Create const parameter AST nodes.
- **Semantics:** Parses compile-time parameters.
- **Edge Cases:** Multiple const params, mixed with type params.
- **Failure Modes:** ERR-PARSE-036 (invalid const parameter).
- **Dependencies:** Parser, generics.
- **Tests Required:** Test parsing, test syntax.

**ATOM-LANG-0241-002: Const Parameter Evaluation**
- **Parent:** SPEC-LANG-0241
- **Source:** REQ-117, SSOT Section 4.21
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Evaluate const parameter values at compile time.
  - Substitute const parameters in type/function body.
  - Support const parameter expressions.
- **Semantics:** Resolves compile-time parameter values.
- **Edge Cases:** Dependent parameters, complex expressions.
- **Failure Modes:** ERR-CONST-005 (non-const parameter).
- **Dependencies:** ATOM-LANG-0241-001, SPEC-LANG-0216.
- **Tests Required:** Test evaluation, test substitution.

**ATOM-LANG-0241-003: Const Generic Instantiation**
- **Parent:** SPEC-LANG-0241
- **Source:** REQ-117, SSOT Section 4.21
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Instantiate generics with const parameter values.
  - Generate distinct types for different const values.
  - Integrate with monomorphization.
- **Semantics:** Creates specialized types with const params.
- **Edge Cases:** Many instantiations, const param inference.
- **Failure Modes:** None (instantiation follows normal rules).
- **Dependencies:** ATOM-LANG-0241-002, SPEC-LANG-0203.
- **Tests Required:** Test instantiation, test distinct types.

================================================================================
ATOM Decomposition: SPEC-LANG-0242 (Compile-time Assertions)
================================================================================

**Parent LEAF:** SPEC-LANG-0242: Compile-time Assertions (compile.assert)
**Source:** REQ-118, SSOT Section 4.22
**Decomposition Rationale:** Compile-time assertions require assertion parsing, condition evaluation, and error reporting.

**ATOM-LANG-0242-001: Assert Syntax Parsing**
- **Parent:** SPEC-LANG-0242
- **Source:** REQ-118, SSOT Section 4.22
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Parse `compile.assert(condition, "message")` syntax.
  - Support compile-time boolean conditions.
  - Store assertion nodes in AST.
- **Semantics:** Parses compile-time assertions.
- **Edge Cases:** Complex conditions, missing messages.
- **Failure Modes:** ERR-PARSE-037 (invalid assert syntax).
- **Dependencies:** Parser.
- **Tests Required:** Test parsing.

**ATOM-LANG-0242-002: Assert Condition Evaluation**
- **Parent:** SPEC-LANG-0242
- **Source:** REQ-118, SSOT Section 4.22
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Evaluate assertion condition at compile time.
  - Must be const boolean expression.
  - Report ERR-ASSERT-001 if false.
- **Semantics:** Validates compile-time conditions.
- **Edge Cases:** Non-const conditions, type errors.
- **Failure Modes:** ERR-ASSERT-001 (assertion failed).
- **Dependencies:** ATOM-LANG-0242-001, SPEC-LANG-0216.
- **Tests Required:** Test evaluation, test failures.

**ATOM-LANG-0242-003: Assert Error Reporting**
- **Parent:** SPEC-LANG-0242
- **Source:** REQ-118, SSOT Section 4.22
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Generate compile error with custom message.
  - Show assertion location and condition.
  - Include user-provided message.
- **Semantics:** Reports assertion failures clearly.
- **Edge Cases:** Long messages, formatting.
- **Failure Modes:** ERR-ASSERT-001 (compile-time assertion failed).
- **Dependencies:** ATOM-LANG-0242-002, diagnostics.
- **Tests Required:** Test error messages.

================================================================================
ATOM Decomposition: SPEC-LANG-0304 (Copy vs Move Type Classification)
================================================================================

**Parent LEAF:** SPEC-LANG-0304: Copy vs Move Type Classification
**Source:** REQ-114, SSOT Section 5.1
**Decomposition Rationale:** Type classification requires Copy trait checking, automatic Copy derivation, and move semantic application.

**ATOM-LANG-0304-001: Copy Trait Definition**
- **Parent:** SPEC-LANG-0304
- **Source:** REQ-114, SSOT Section 5.1
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Define Copy marker trait.
  - Mark primitive types as Copy.
  - Establish Copy semantics (bitwise copy).
- **Semantics:** Defines copyable types.
- **Edge Cases:** None.
- **Failure Modes:** None (trait definition).
- **Dependencies:** Trait system.
- **Tests Required:** Test Copy trait definition.

**ATOM-LANG-0304-002: Automatic Copy Derivation**
- **Parent:** SPEC-LANG-0304
- **Source:** REQ-114, SSOT Section 5.1
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Auto-derive Copy for types where all fields are Copy.
  - Support @derive(Copy) annotation.
  - Check derivability conditions.
- **Semantics:** Automatically classifies types as Copy.
- **Edge Cases:** Generic types with Copy bounds, nested types.
- **Failure Modes:** ERR-DERIVE-004 (cannot derive Copy).
- **Dependencies:** ATOM-LANG-0304-001.
- **Tests Required:** Test auto-derivation, test conditions.

**ATOM-LANG-0304-003: Copy vs Move Dispatch**
- **Parent:** SPEC-LANG-0304
- **Source:** REQ-114, SSOT Section 5.1
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Check if type is Copy at move sites.
  - Use copy semantics if Copy, move semantics otherwise.
  - Generate appropriate code.
- **Semantics:** Applies correct semantics based on type.
- **Edge Cases:** Generic types with Copy bounds.
- **Failure Modes:** None (dispatch is automatic).
- **Dependencies:** ATOM-LANG-0304-002.
- **Tests Required:** Test dispatch, test semantics.

================================================================================
ATOM Decomposition: SPEC-LANG-0305 (Ownership Error Diagnostics)
================================================================================

**Parent LEAF:** SPEC-LANG-0305: Ownership Error Diagnostics
**Source:** REQ-115, SSOT Section 5.1
**Decomposition Rationale:** Ownership diagnostics require error detection, message generation, and suggestions.

**ATOM-LANG-0305-001: Ownership Error Detection**
- **Parent:** SPEC-LANG-0305
- **Source:** REQ-115, SSOT Section 5.1
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Detect use-after-move, double move, and related errors.
  - Classify error types.
- **Semantics:** Identifies ownership violations.
- **Edge Cases:** Complex ownership patterns.
- **Failure Modes:** Various ERR-MOVE-* codes.
- **Dependencies:** SPEC-LANG-0301.
- **Tests Required:** Test error detection.

**ATOM-LANG-0305-002: Ownership Error Message Generation**
- **Parent:** SPEC-LANG-0305
- **Source:** REQ-115, SSOT Section 5.1
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Generate clear error messages for ownership errors.
  - Show where value was moved and where it's used.
  - Explain ownership rules.
- **Semantics:** Reports ownership errors clearly.
- **Edge Cases:** Complex move chains, partial moves.
- **Failure Modes:** None (diagnostic quality).
- **Dependencies:** ATOM-LANG-0305-001.
- **Tests Required:** Test message quality.

**ATOM-LANG-0305-003: Ownership Fix Suggestions**
- **Parent:** SPEC-LANG-0305
- **Source:** REQ-115, SSOT Section 5.1
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Suggest cloning, borrowing, or restructuring.
  - Provide code examples for fixes.
  - Rank suggestions by likelihood.
- **Semantics:** Helps users fix ownership errors.
- **Edge Cases:** Multiple possible fixes, context-dependent solutions.
- **Failure Modes:** None (suggestions are optional).
- **Dependencies:** ATOM-LANG-0305-002.
- **Tests Required:** Test suggestion quality.

================================================================================
ATOM Decomposition: SPEC-LANG-0311 (Non-null Reference Guarantees)
================================================================================

**Parent LEAF:** SPEC-LANG-0311: Non-null Reference Guarantees
**Source:** REQ-119, SSOT Section 5.3
**Decomposition Rationale:** Null safety requires null prevention, reference validation, and Option integration.

**ATOM-LANG-0311-001: Null Pointer Prevention**
- **Parent:** SPEC-LANG-0311
- **Source:** REQ-119, SSOT Section 5.3
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Prevent null pointer representation in references.
  - No null literal allowed for references.
  - Reject null assignments.
- **Semantics:** Ensures references are always valid.
- **Edge Cases:** Uninitialized references, FFI boundaries.
- **Failure Modes:** ERR-NULL-002 (null reference not allowed).
- **Dependencies:** Type system.
- **Tests Required:** Test null prevention.

**ATOM-LANG-0311-002: Reference Initialization Validation**
- **Parent:** SPEC-LANG-0311
- **Source:** REQ-119, SSOT Section 5.3
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Ensure all references initialized before use.
  - Track initialization state.
  - Report uninitialized reference errors.
- **Semantics:** Guarantees valid reference values.
- **Edge Cases:** Conditional initialization, complex flows.
- **Failure Modes:** ERR-INIT-002 (uninitialized reference).
- **Dependencies:** ATOM-LANG-0311-001.
- **Tests Required:** Test initialization checking.

**ATOM-LANG-0311-003: Nullable Option Integration**
- **Parent:** SPEC-LANG-0311
- **Source:** REQ-119, SSOT Section 5.3
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Use Option[&T] for potentially null references.
  - Force explicit handling via pattern matching.
  - Document null safety guarantees.
- **Semantics:** Provides safe nullable references.
- **Edge Cases:** Nested Options, Option of reference.
- **Failure Modes:** None (Option handles nullability safely).
- **Dependencies:** ATOM-LANG-0311-001, SPEC-LANG-0227.
- **Tests Required:** Test Option integration.

================================================================================
ATOM Decomposition: SPEC-LANG-0312 (Borrowing Semantics)
================================================================================

**Parent LEAF:** SPEC-LANG-0312: Borrowing Semantics
**Source:** REQ-120, SSOT Section 5.3
**Decomposition Rationale:** Borrowing semantics require borrow creation, lifetime binding, and validity guarantees.

**ATOM-LANG-0312-001: Borrow Creation Syntax**
- **Parent:** SPEC-LANG-0312
- **Source:** REQ-120, SSOT Section 5.3
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Parse `&expr` for immutable borrow.
  - Parse `&mut expr` for mutable borrow.
  - Create borrow expression nodes.
- **Semantics:** Parses borrow operations.
- **Edge Cases:** Temporary borrows, nested borrows.
- **Failure Modes:** ERR-PARSE-038 (invalid borrow syntax).
- **Dependencies:** Parser.
- **Tests Required:** Test borrow syntax.

**ATOM-LANG-0312-002: Borrow Lifetime Binding**
- **Parent:** SPEC-LANG-0312
- **Source:** REQ-120, SSOT Section 5.3
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Bind borrow lifetime to borrowed value lifetime.
  - Ensure borrow doesn't outlive value.
  - Apply lifetime constraints.
- **Semantics:** Connects borrows to values.
- **Edge Cases:** Multiple borrows, complex lifetimes.
- **Failure Modes:** ERR-LIFETIME-006 (borrow outlives value).
- **Dependencies:** ATOM-LANG-0312-001, SPEC-LANG-0303.
- **Tests Required:** Test lifetime binding.

**ATOM-LANG-0312-003: Borrow Validity Guarantees**
- **Parent:** SPEC-LANG-0312
- **Source:** REQ-120, SSOT Section 5.3
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Guarantee borrowed reference is always valid.
  - Prevent mutations through immutable borrows.
  - Enforce exclusivity for mutable borrows.
- **Semantics:** Ensures safe borrowing.
- **Edge Cases:** Interior mutability, cell types.
- **Failure Modes:** ERR-BORROW-004 (borrow safety violation).
- **Dependencies:** ATOM-LANG-0312-002, borrow checker.
- **Tests Required:** Test validity guarantees.

================================================================================
ATOM Decomposition: SPEC-LANG-0313 (Raw Pointer Semantics)
================================================================================

**Parent LEAF:** SPEC-LANG-0313: Raw Pointer Semantics
**Source:** REQ-121, SSOT Section 5.3
**Decomposition Rationale:** Raw pointers require unsafe context enforcement, pointer arithmetic, and dereferencing.

**ATOM-LANG-0313-001: Raw Pointer Type Definition**
- **Parent:** SPEC-LANG-0313
- **Source:** REQ-121, SSOT Section 5.3
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Define *const T and *mut T raw pointer types.
  - Support pointer creation from references.
  - Allow null pointers.
- **Semantics:** Defines unsafe pointer types.
- **Edge Cases:** Null pointers, dangling pointers.
- **Failure Modes:** None (raw pointers are inherently unsafe).
- **Dependencies:** Type system.
- **Tests Required:** Test pointer types.

**ATOM-LANG-0313-002: Unsafe Pointer Dereferencing**
- **Parent:** SPEC-LANG-0313
- **Source:** REQ-121, SSOT Section 5.3
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Require unsafe blocks for dereferencing.
  - Generate deref code.
  - No safety checks at runtime.
- **Semantics:** Allows unsafe pointer access.
- **Edge Cases:** Null deref (UB), invalid pointers (UB).
- **Failure Modes:** Undefined behavior if misused.
- **Dependencies:** ATOM-LANG-0313-001, SPEC-LANG-0316.
- **Tests Required:** Test dereferencing, test unsafe requirement.

**ATOM-LANG-0313-003: Pointer Arithmetic**
- **Parent:** SPEC-LANG-0313
- **Source:** REQ-121, SSOT Section 5.3
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Support pointer offset operations (ptr.offset(n)).
  - Calculate byte offsets based on pointed type.
  - Require unsafe context.
- **Semantics:** Enables manual memory addressing.
- **Edge Cases:** Out of bounds offsets (UB), overflow.
- **Failure Modes:** Undefined behavior if out of bounds.
- **Dependencies:** ATOM-LANG-0313-001.
- **Tests Required:** Test arithmetic, test unsafe requirement.

================================================================================
ATOM Decomposition: SPEC-LANG-0314 (Variable Immutability by Default)
================================================================================

**Parent LEAF:** SPEC-LANG-0314: Variable Immutability by Default
**Source:** REQ-122, SSOT Section 5.4
**Decomposition Rationale:** Immutability enforcement requires mutability tracking and mutation checking.

**ATOM-LANG-0314-001: Variable Mutability Tracking**
- **Parent:** SPEC-LANG-0314
- **Source:** REQ-122, SSOT Section 5.4
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Track mutability per variable (let vs let mut).
  - Store mutability in AST and symbol tables.
  - Default to immutable.
- **Semantics:** Records variable mutability.
- **Edge Cases:** Captured variables, parameters.
- **Failure Modes:** None (tracking is internal).
- **Dependencies:** Parser, type system.
- **Tests Required:** Test mutability tracking.

**ATOM-LANG-0314-002: Mutation Checking**
- **Parent:** SPEC-LANG-0314
- **Source:** REQ-122, SSOT Section 5.4
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Check mutations only occur on mutable variables.
  - Detect assignments, mutable borrows.
  - Report ERR-MUT-001 for immutable mutations.
- **Semantics:** Enforces immutability.
- **Edge Cases:** Field mutations, indirect mutations.
- **Failure Modes:** ERR-MUT-001 (cannot mutate immutable).
- **Dependencies:** ATOM-LANG-0314-001.
- **Tests Required:** Test mutation checking, test errors.

**ATOM-LANG-0314-003: Mutable Reference Propagation**
- **Parent:** SPEC-LANG-0314
- **Source:** REQ-122, SSOT Section 5.4
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Track that &mut borrows require mut variables.
  - Propagate mutability requirements.
  - Check at borrow sites.
- **Semantics:** Ensures consistent mutability.
- **Edge Cases:** Reborrowing, mut through immut paths.
- **Failure Modes:** ERR-MUT-002 (cannot borrow as mutable).
- **Dependencies:** ATOM-LANG-0314-002.
- **Tests Required:** Test propagation.

================================================================================
ATOM Decomposition: SPEC-LANG-0316 (Explicit Unsafe Contexts)
================================================================================

**Parent LEAF:** SPEC-LANG-0316: Explicit Unsafe Contexts
**Source:** REQ-123, SSOT Section 5.5
**Decomposition Rationale:** Unsafe blocks require syntax parsing, context tracking, and operation validation.

**ATOM-LANG-0316-001: Unsafe Block Syntax Parsing**
- **Parent:** SPEC-LANG-0316
- **Source:** REQ-123, SSOT Section 5.5
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Parse `unsafe { ... }` block syntax.
  - Mark block scope as unsafe.
  - Create unsafe block AST nodes.
- **Semantics:** Parses unsafe regions.
- **Edge Cases:** Nested unsafe blocks, unsafe functions.
- **Failure Modes:** ERR-PARSE-039 (invalid unsafe syntax).
- **Dependencies:** Parser.
- **Tests Required:** Test unsafe block parsing.

**ATOM-LANG-0316-002: Unsafe Context Tracking**
- **Parent:** SPEC-LANG-0316
- **Source:** REQ-123, SSOT Section 5.5
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Track current context (safe vs unsafe).
  - Push unsafe context on block entry.
  - Pop on block exit.
- **Semantics:** Maintains safety context.
- **Edge Cases:** Nested contexts, unsafe functions.
- **Failure Modes:** None (tracking is internal).
- **Dependencies:** ATOM-LANG-0316-001.
- **Tests Required:** Test context tracking.

**ATOM-LANG-0316-003: Unsafe Operation Validation**
- **Parent:** SPEC-LANG-0316
- **Source:** REQ-123, SSOT Section 5.5
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Validate unsafe operations (raw pointer deref, union access) are in unsafe context.
  - Report ERR-UNSAFE-001 if unsafe operation in safe context.
- **Semantics:** Enforces unsafe boundaries.
- **Edge Cases:** Unsafe trait methods, FFI.
- **Failure Modes:** ERR-UNSAFE-001 (unsafe operation requires unsafe block).
- **Dependencies:** ATOM-LANG-0316-002.
- **Tests Required:** Test validation, test errors.

================================================================================
ATOM Decomposition: SPEC-LANG-0401 (Precondition Attribute)
================================================================================

**Parent LEAF:** SPEC-LANG-0401: Precondition Attribute (@requires)
**Source:** REQ-151, SSOT Section 6.2
**Decomposition Rationale:** Preconditions require attribute parsing, condition checking, and contract instrumentation.

**ATOM-LANG-0401-001: @requires Attribute Parsing**
- **Parent:** SPEC-LANG-0401
- **Source:** REQ-151, SSOT Section 6.2
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Parse @requires(condition, "message") syntax.
  - Parse boolean precondition expressions.
  - Store in function metadata.
- **Semantics:** Parses precondition declarations.
- **Edge Cases:** Multiple requires, complex conditions.
- **Failure Modes:** ERR-ATTR-001 (invalid @requires).
- **Dependencies:** Attribute system.
- **Tests Required:** Test parsing.

**ATOM-LANG-0401-002: Precondition Check Instrumentation**
- **Parent:** SPEC-LANG-0401
- **Source:** REQ-151, SSOT Section 6.2
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Insert runtime checks at function entry.
  - Evaluate precondition with actual arguments.
  - Panic if precondition fails.
- **Semantics:** Enforces preconditions at runtime.
- **Edge Cases:** Expensive checks, side effects in conditions.
- **Failure Modes:** Panic if precondition violated.
- **Dependencies:** ATOM-LANG-0401-001, codegen.
- **Tests Required:** Test instrumentation, test panics.

**ATOM-LANG-0401-003: Conditional Contract Checking**
- **Parent:** SPEC-LANG-0401
- **Source:** REQ-151, SSOT Section 6.2
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Support --contracts flag for enabling/disabling checks.
  - Remove checks at "none" level.
  - Include checks at "dev" and "full" levels.
- **Semantics:** Allows configurable checking.
- **Edge Cases:** Release builds, performance-critical code.
- **Failure Modes:** None (configuration is build-time).
- **Dependencies:** ATOM-LANG-0401-002, SPEC-QUARRY-0021.
- **Tests Required:** Test conditional checking.

================================================================================
ATOM Decomposition: SPEC-LANG-0402 (Postcondition Attribute)
================================================================================

**Parent LEAF:** SPEC-LANG-0402: Postcondition Attribute (@ensures)
**Source:** REQ-152, SSOT Section 6.2
**Decomposition Rationale:** Postconditions require attribute parsing, result capture, and verification.

**ATOM-LANG-0402-001: @ensures Attribute Parsing**
- **Parent:** SPEC-LANG-0402
- **Source:** REQ-152, SSOT Section 6.2
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Parse @ensures(condition, "message") syntax.
  - Parse postcondition with result reference.
  - Store in function metadata.
- **Semantics:** Parses postcondition declarations.
- **Edge Cases:** Multiple ensures, accessing result value.
- **Failure Modes:** ERR-ATTR-002 (invalid @ensures).
- **Dependencies:** Attribute system.
- **Tests Required:** Test parsing.

**ATOM-LANG-0402-002: Result Value Capture**
- **Parent:** SPEC-LANG-0402
- **Source:** REQ-152, SSOT Section 6.2
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Capture function return value for checking.
  - Make result available in postcondition.
  - Support `result` variable in condition.
- **Semantics:** Captures return value for validation.
- **Edge Cases:** Early returns, multiple return points.
- **Failure Modes:** None (capture is automatic).
- **Dependencies:** ATOM-LANG-0402-001.
- **Tests Required:** Test result capture.

**ATOM-LANG-0402-003: Postcondition Verification Instrumentation**
- **Parent:** SPEC-LANG-0402
- **Source:** REQ-152, SSOT Section 6.2
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Insert checks before all return statements.
  - Evaluate postcondition with result value.
  - Panic if postcondition fails.
- **Semantics:** Enforces postconditions.
- **Edge Cases:** Multiple returns, panics before return.
- **Failure Modes:** Panic if postcondition violated.
- **Dependencies:** ATOM-LANG-0402-002, codegen.
- **Tests Required:** Test instrumentation, test verification.

================================================================================
ATOM Decomposition: SPEC-LANG-0243 (Compile-time String Processing)
================================================================================

**Parent LEAF:** SPEC-LANG-0243: Compile-time String Processing and Hashing
**Source:** REQ-119, SSOT Section 4.22
**Decomposition Rationale:** Compile-time string operations require concat, hash calculation, and compile-time evaluation.

**ATOM-LANG-0243-001: Compile-time String Concatenation**
- **Parent:** SPEC-LANG-0243
- **Source:** REQ-119, SSOT Section 4.22
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Support compile-time string concat operations.
  - Evaluate at compile time for const contexts.
- **Semantics:** Combines strings at compile time.
- **Edge Cases:** Very long strings, many concatenations.
- **Failure Modes:** ERR-CONST-006 (string too long).
- **Dependencies:** SPEC-LANG-0216.
- **Tests Required:** Test concat, test limits.

**ATOM-LANG-0243-002: Compile-time String Hashing**
- **Parent:** SPEC-LANG-0243
- **Source:** REQ-119, SSOT Section 4.22
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Compute string hashes at compile time.
  - Support common hash algorithms.
  - Use for const string interning.
- **Semantics:** Hashes strings at compile time.
- **Edge Cases:** Hash collisions, large strings.
- **Failure Modes:** None (hashing always succeeds).
- **Dependencies:** ATOM-LANG-0243-001.
- **Tests Required:** Test hashing, test determinism.

**ATOM-LANG-0243-003: String Manipulation Primitives**
- **Parent:** SPEC-LANG-0243
- **Source:** REQ-119, SSOT Section 4.22
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Support const string length, substring, etc.
  - Evaluate at compile time.
- **Semantics:** Provides string utilities.
- **Edge Cases:** Out of bounds, empty strings.
- **Failure Modes:** ERR-CONST-007 (invalid string operation).
- **Dependencies:** ATOM-LANG-0243-001.
- **Tests Required:** Test operations.

================================================================================
ATOM Decomposition: SPEC-LANG-0244 (Comptime Target Inspection)
================================================================================

**Parent LEAF:** SPEC-LANG-0244: Comptime Target Inspection
**Source:** REQ-120, SSOT Section 4.23
**Decomposition Rationale:** Target inspection requires platform detection, feature queries, and conditional compilation.

**ATOM-LANG-0244-001: Target Platform Detection**
- **Parent:** SPEC-LANG-0244
- **Source:** REQ-120, SSOT Section 4.23
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Provide compile-time access to target triple.
  - Support target_os, target_arch, target_env queries.
- **Semantics:** Detects compilation target.
- **Edge Cases:** Cross-compilation, multiple targets.
- **Failure Modes:** None (detection is compile-time).
- **Dependencies:** Build configuration.
- **Tests Required:** Test platform detection.

**ATOM-LANG-0244-002: Feature Query Functions**
- **Parent:** SPEC-LANG-0244
- **Source:** REQ-120, SSOT Section 4.23
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Provide has_feature("sse2"), has_feature("avx") queries.
  - Return boolean at compile time.
- **Semantics:** Queries CPU features.
- **Edge Cases:** Unknown features, target-specific features.
- **Failure Modes:** None (returns false for unknown).
- **Dependencies:** ATOM-LANG-0244-001.
- **Tests Required:** Test feature queries.

**ATOM-LANG-0244-003: Conditional Compilation Integration**
- **Parent:** SPEC-LANG-0244
- **Source:** REQ-120, SSOT Section 4.23
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Integrate with @cfg system.
  - Support comptime.target_os() in conditions.
- **Semantics:** Enables platform-specific code.
- **Edge Cases:** Complex conditions, nested cfg.
- **Failure Modes:** None (integration is transparent).
- **Dependencies:** ATOM-LANG-0244-002, SPEC-LANG-0120.
- **Tests Required:** Test integration.

================================================================================
ATOM Decomposition: SPEC-LANG-0836 (Integrated CLI Argument Parsing)
================================================================================

**Parent LEAF:** SPEC-LANG-0836: Integrated CLI Argument Parsing
**Source:** REQ-297, SSOT Section 9.5
**Decomposition Rationale:** CLI parsing requires argument definition, parsing logic, and validation.

**ATOM-LANG-0836-001: CLI Argument Definition**
- **Parent:** SPEC-LANG-0836
- **Source:** REQ-297, SSOT Section 9.5
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Define argument structure (flags, options, positional).
  - Support types (string, int, bool, etc.).
  - Define help text and defaults.
- **Semantics:** Defines CLI interface.
- **Edge Cases:** Conflicting names, complex types.
- **Failure Modes:** None (definition is declarative).
- **Dependencies:** None.
- **Tests Required:** Test definition.

**ATOM-LANG-0836-002: Argument Parsing Logic**
- **Parent:** SPEC-LANG-0836
- **Source:** REQ-297, SSOT Section 9.5
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Parse command-line arguments.
  - Match against defined arguments.
  - Extract values and validate types.
- **Semantics:** Parses CLI input.
- **Edge Cases:** Unknown arguments, wrong types, missing required.
- **Failure Modes:** ERR-CLI-001 (invalid argument).
- **Dependencies:** ATOM-LANG-0836-001.
- **Tests Required:** Test parsing, test validation.

**ATOM-LANG-0836-003: Help Generation**
- **Parent:** SPEC-LANG-0836
- **Source:** REQ-297, SSOT Section 9.5
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Generate help text from definitions.
  - Support --help flag automatically.
  - Format usage examples.
- **Semantics:** Provides user guidance.
- **Edge Cases:** Long help text, formatting.
- **Failure Modes:** None (help is informational).
- **Dependencies:** ATOM-LANG-0836-001.
- **Tests Required:** Test help generation.

================================================================================
ATOM Decomposition: SPEC-LANG-0837 (Native Regular Expressions)
================================================================================

**Parent LEAF:** SPEC-LANG-0837: Native Regular Expressions
**Source:** REQ-298, SSOT Section 9.5
**Decomposition Rationale:** Regex requires pattern compilation, matching engine, and capture group extraction.

**ATOM-LANG-0837-001: Regex Pattern Compilation**
- **Parent:** SPEC-LANG-0837
- **Source:** REQ-298, SSOT Section 9.5
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Parse regex pattern syntax.
  - Compile to NFA or DFA.
  - Validate pattern correctness.
- **Semantics:** Compiles regex patterns.
- **Edge Cases:** Invalid patterns, complex patterns.
- **Failure Modes:** ERR-REGEX-001 (invalid pattern).
- **Dependencies:** None.
- **Tests Required:** Test compilation, test validation.

**ATOM-LANG-0837-002: Pattern Matching Engine**
- **Parent:** SPEC-LANG-0837
- **Source:** REQ-298, SSOT Section 9.5
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Implement pattern matching algorithm.
  - Support full regex features (quantifiers, groups, etc.).
  - Optimize common patterns.
- **Semantics:** Executes regex matching.
- **Edge Cases:** Backtracking, catastrophic backtracking.
- **Failure Modes:** None (matching returns boolean/matches).
- **Dependencies:** ATOM-LANG-0837-001.
- **Tests Required:** Test matching, test features, test performance.

**ATOM-LANG-0837-003: Capture Group Extraction**
- **Parent:** SPEC-LANG-0837
- **Source:** REQ-298, SSOT Section 9.5
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Extract captured groups from matches.
  - Support named and numbered groups.
  - Return capture data structure.
- **Semantics:** Extracts matched substrings.
- **Edge Cases:** Nested groups, optional groups.
- **Failure Modes:** None (returns Option for groups).
- **Dependencies:** ATOM-LANG-0837-002.
- **Tests Required:** Test capture extraction.

================================================================================
ATOM Decomposition: SPEC-LANG-0870 (High-performance Tensor Abstraction)
================================================================================

**Parent LEAF:** SPEC-LANG-0870: High-performance Tensor Abstraction
**Source:** REQ-301, SSOT Section 9.7
**Decomposition Rationale:** Tensors require type definition, indexing, and operations.

**ATOM-LANG-0870-001: Tensor Type Definition**
- **Parent:** SPEC-LANG-0870
- **Source:** REQ-301, SSOT Section 9.7
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Define Tensor[T, Shape] generic type.
  - Support multi-dimensional arrays.
  - Track shape at compile time.
- **Semantics:** Defines tensor type.
- **Edge Cases:** Dynamic dimensions, large tensors.
- **Failure Modes:** None (type definition).
- **Dependencies:** Type system, const generics.
- **Tests Required:** Test tensor definition.

**ATOM-LANG-0870-002: Tensor Indexing**
- **Parent:** SPEC-LANG-0870
- **Source:** REQ-301, SSOT Section 9.7
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Support multi-dimensional indexing tensor[i, j, k].
  - Bounds checking at runtime or compile time.
  - Calculate linear offset from indices.
- **Semantics:** Enables tensor element access.
- **Edge Cases:** Out of bounds, negative indices.
- **Failure Modes:** Panic on out of bounds.
- **Dependencies:** ATOM-LANG-0870-001.
- **Tests Required:** Test indexing, test bounds.

**ATOM-LANG-0870-003: Tensor Operations**
- **Parent:** SPEC-LANG-0870
- **Source:** REQ-301, SSOT Section 9.7
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Support element-wise operations (+, -, *, /).
  - Support matrix multiplication.
  - Support broadcasting.
- **Semantics:** Provides tensor arithmetic.
- **Edge Cases:** Shape mismatches, broadcasting rules.
- **Failure Modes:** ERR-TENSOR-001 (shape mismatch).
- **Dependencies:** ATOM-LANG-0870-002.
- **Tests Required:** Test operations, test broadcasting.

================================================================================
ATOM Decomposition: SPEC-LANG-0808 (Automated Vectorization)
================================================================================

**Parent LEAF:** SPEC-LANG-0808: Automated Vectorization (vectorize)
**Source:** REQ-321, SSOT Section 9.7
**Decomposition Rationale:** Vectorization requires loop analysis, SIMD code generation, and hint attributes.

**ATOM-LANG-0808-001: Vectorization Opportunity Analysis**
- **Parent:** SPEC-LANG-0808
- **Source:** REQ-321, SSOT Section 9.7
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Analyze loops for vectorization potential.
  - Check for data dependencies.
  - Identify vector-friendly patterns.
- **Semantics:** Finds vectorizable code.
- **Edge Cases:** Complex loops, dependencies.
- **Failure Modes:** None (analysis is best-effort).
- **Dependencies:** Loop analysis.
- **Tests Required:** Test analysis.

**ATOM-LANG-0808-002: SIMD Code Generation**
- **Parent:** SPEC-LANG-0808
- **Source:** REQ-321, SSOT Section 9.7
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Generate SIMD instructions for vectorizable loops.
  - Use platform SIMD (SSE, AVX, NEON).
  - Fall back to scalar if unsupported.
- **Semantics:** Implements vectorization.
- **Edge Cases:** Partial vectorization, mixed operations.
- **Failure Modes:** None (falls back gracefully).
- **Dependencies:** ATOM-LANG-0808-001, codegen.
- **Tests Required:** Test SIMD generation, test fallback.

**ATOM-LANG-0808-003: Vectorization Hint Attributes**
- **Parent:** SPEC-LANG-0808
- **Source:** REQ-321, SSOT Section 9.7
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Support @vectorize attribute on loops.
  - Force vectorization or error if impossible.
  - Report why vectorization failed.
- **Semantics:** Allows explicit vectorization control.
- **Edge Cases:** Non-vectorizable patterns.
- **Failure Modes:** ERR-VEC-001 (cannot vectorize).
- **Dependencies:** ATOM-LANG-0808-001.
- **Tests Required:** Test hints, test errors.

================================================================================
ATOM Decomposition: SPEC-LANG-0809 (Structured Parallelism)
================================================================================

**Parent LEAF:** SPEC-LANG-0809: Structured Parallelism (parallelize)
**Source:** REQ-322, SSOT Section 9.7
**Decomposition Rationale:** Parallelism requires parallel loop transformation, work distribution, and synchronization.

**ATOM-LANG-0809-001: Parallel Loop Analysis**
- **Parent:** SPEC-LANG-0809
- **Source:** REQ-322, SSOT Section 9.7
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Analyze loops for parallelization safety.
  - Check for data races, dependencies.
  - Verify iterations are independent.
- **Semantics:** Finds parallelizable loops.
- **Edge Cases:** Loop-carried dependencies, reductions.
- **Failure Modes:** None (analysis is best-effort).
- **Dependencies:** Loop analysis, Send/Sync checking.
- **Tests Required:** Test analysis.

**ATOM-LANG-0809-002: Work Distribution Strategy**
- **Parent:** SPEC-LANG-0809
- **Source:** REQ-322, SSOT Section 9.7
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Divide loop iterations among threads.
  - Support static and dynamic scheduling.
  - Handle uneven work distribution.
- **Semantics:** Partitions work across threads.
- **Edge Cases:** Small iteration counts, load imbalance.
- **Failure Modes:** None (strategy is adaptive).
- **Dependencies:** ATOM-LANG-0809-001.
- **Tests Required:** Test distribution, test strategies.

**ATOM-LANG-0809-003: Parallel Execution and Join**
- **Parent:** SPEC-LANG-0809
- **Source:** REQ-322, SSOT Section 9.7
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Spawn worker threads.
  - Execute loop iterations in parallel.
  - Join threads and aggregate results.
- **Semantics:** Implements parallel execution.
- **Edge Cases:** Thread creation failures, early termination.
- **Failure Modes:** ERR-PARALLEL-001 (parallelization failed).
- **Dependencies:** ATOM-LANG-0809-002, SPEC-LANG-1001.
- **Tests Required:** Test execution, test correctness.

================================================================================
ATOM Decomposition: SPEC-LANG-0810 (Cache-aware Tiling)
================================================================================

**Parent LEAF:** SPEC-LANG-0810: Cache-aware Tiling (tile)
**Source:** REQ-323, SSOT Section 9.7
**Decomposition Rationale:** Tiling requires tile size calculation, loop transformation, and cache optimization.

**ATOM-LANG-0810-001: Cache Hierarchy Analysis**
- **Parent:** SPEC-LANG-0810
- **Source:** REQ-323, SSOT Section 9.7
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Detect CPU cache sizes (L1, L2, L3).
  - Analyze data access patterns.
  - Determine cache line size.
- **Semantics:** Understands cache characteristics.
- **Edge Cases:** Unknown cache sizes, heterogeneous processors.
- **Failure Modes:** None (uses conservative defaults).
- **Dependencies:** Platform detection.
- **Tests Required:** Test cache detection.

**ATOM-LANG-0810-002: Tile Size Calculation**
- **Parent:** SPEC-LANG-0810
- **Source:** REQ-323, SSOT Section 9.7
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Calculate optimal tile sizes for cache.
  - Consider working set size.
  - Balance between cache utilization and overhead.
- **Semantics:** Determines tiling parameters.
- **Edge Cases:** Very small/large arrays, multi-level tiling.
- **Failure Modes:** None (uses heuristics).
- **Dependencies:** ATOM-LANG-0810-001.
- **Tests Required:** Test size calculation.

**ATOM-LANG-0810-003: Loop Tiling Transformation**
- **Parent:** SPEC-LANG-0810
- **Source:** REQ-323, SSOT Section 9.7
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Transform loops into tiled versions.
  - Generate nested loops for tiles.
  - Preserve loop semantics.
- **Semantics:** Implements cache optimization.
- **Edge Cases:** Non-rectangular tiles, remainder handling.
- **Failure Modes:** None (transformation is semantic-preserving).
- **Dependencies:** ATOM-LANG-0810-002.
- **Tests Required:** Test transformation, test correctness.

================================================================================
ATOM Decomposition: SPEC-LANG-0871 (Flexible Tensor Layouts)
================================================================================

**Parent LEAF:** SPEC-LANG-0871: Flexible Tensor Layouts
**Source:** REQ-302, SSOT Section 9.7
**Decomposition Rationale:** Tensor layouts require layout specification, stride calculation, and memory ordering.

**ATOM-LANG-0871-001: Layout Type Definition**
- **Parent:** SPEC-LANG-0871
- **Source:** REQ-302, SSOT Section 9.7
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Define RowMajor, ColMajor layout types.
  - Support custom stride specifications.
- **Semantics:** Defines tensor memory organization.
- **Edge Cases:** Non-contiguous layouts, alignment.
- **Failure Modes:** None (type definition).
- **Dependencies:** SPEC-LANG-0870.
- **Tests Required:** Test layout types.

**ATOM-LANG-0871-002: Stride Calculation**
- **Parent:** SPEC-LANG-0871
- **Source:** REQ-302, SSOT Section 9.7
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Calculate strides for each dimension.
  - Support row-major and column-major ordering.
- **Semantics:** Computes memory access patterns.
- **Edge Cases:** Irregular strides, broadcasting.
- **Failure Modes:** None (calculation is deterministic).
- **Dependencies:** ATOM-LANG-0871-001.
- **Tests Required:** Test stride calculation.

**ATOM-LANG-0871-003: Layout Conversion**
- **Parent:** SPEC-LANG-0871
- **Source:** REQ-302, SSOT Section 9.7
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Convert between layouts (transpose).
  - Copy data with layout transformation.
- **Semantics:** Enables layout changes.
- **Edge Cases:** Large tensors, in-place conversion.
- **Failure Modes:** ERR-TENSOR-002 (conversion failed).
- **Dependencies:** ATOM-LANG-0871-002.
- **Tests Required:** Test conversion.

================================================================================
ATOM Decomposition: SPEC-LANG-0872 (Zero-cost Tensor Views)
================================================================================

**Parent LEAF:** SPEC-LANG-0872: Zero-cost Tensor Views
**Source:** REQ-303, SSOT Section 9.7
**Decomposition Rationale:** Tensor views require view creation, slicing, and zero-copy guarantees.

**ATOM-LANG-0872-001: Tensor View Type**
- **Parent:** SPEC-LANG-0872
- **Source:** REQ-303, SSOT Section 9.7
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Define TensorView[T] type (non-owning).
  - Store pointer, shape, strides.
- **Semantics:** Defines non-owning tensor reference.
- **Edge Cases:** Lifetime management, alignment.
- **Failure Modes:** None (type definition).
- **Dependencies:** SPEC-LANG-0870.
- **Tests Required:** Test view type.

**ATOM-LANG-0872-002: Tensor Slicing**
- **Parent:** SPEC-LANG-0872
- **Source:** REQ-303, SSOT Section 9.7
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Support slicing syntax tensor[i..j, k..l].
  - Create view without copying data.
  - Update strides for sliced dimensions.
- **Semantics:** Enables zero-copy slicing.
- **Edge Cases:** Multi-dimensional slices, negative indices.
- **Failure Modes:** Panic on invalid slice bounds.
- **Dependencies:** ATOM-LANG-0872-001.
- **Tests Required:** Test slicing, test zero-copy.

**ATOM-LANG-0872-003: View Lifetime Management**
- **Parent:** SPEC-LANG-0872
- **Source:** REQ-303, SSOT Section 9.7
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Tie view lifetime to source tensor lifetime.
  - Prevent view from outliving tensor.
- **Semantics:** Ensures view safety.
- **Edge Cases:** View escaping, complex lifetimes.
- **Failure Modes:** ERR-LIFETIME-007 (view outlives tensor).
- **Dependencies:** ATOM-LANG-0872-002, lifetime system.
- **Tests Required:** Test lifetime checking.

================================================================================
ATOM Decomposition: SPEC-LANG-0873 (Specialized Numerical Algorithms)
================================================================================

**Parent LEAF:** SPEC-LANG-0873: Specialized Numerical Algorithms
**Source:** REQ-304, SSOT Section 9.7
**Decomposition Rationale:** Numerical algorithms require algorithm selection, optimized implementations, and numerical stability.

**ATOM-LANG-0873-001: BLAS/LAPACK Integration**
- **Parent:** SPEC-LANG-0873
- **Source:** REQ-304, SSOT Section 9.7
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Integrate with optimized BLAS/LAPACK libraries.
  - Provide Pyrite wrappers for common operations.
  - Support vendor libraries (MKL, OpenBLAS).
- **Semantics:** Leverages optimized numerics.
- **Edge Cases:** Missing libraries, version compatibility.
- **Failure Modes:** ERR-NUM-001 (library not found).
- **Dependencies:** FFI system.
- **Tests Required:** Test integration, test operations.

**ATOM-LANG-0873-002: Matrix Decomposition Algorithms**
- **Parent:** SPEC-LANG-0873
- **Source:** REQ-304, SSOT Section 9.7
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Implement LU, QR, SVD, eigenvalue decompositions.
  - Use numerically stable algorithms.
  - Provide error bounds when possible.
- **Semantics:** Provides matrix algorithms.
- **Edge Cases:** Singular matrices, ill-conditioned matrices.
- **Failure Modes:** ERR-NUM-002 (numerical error).
- **Dependencies:** ATOM-LANG-0873-001.
- **Tests Required:** Test algorithms, test stability.

**ATOM-LANG-0873-003: Optimized Linear Algebra Operations**
- **Parent:** SPEC-LANG-0873
- **Source:** REQ-304, SSOT Section 9.7
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Optimize matrix multiplication, vector operations.
  - Use cache-aware algorithms.
  - Leverage SIMD when available.
- **Semantics:** Provides fast linear algebra.
- **Edge Cases:** Large matrices, sparse matrices.
- **Failure Modes:** None (operations always complete).
- **Dependencies:** ATOM-LANG-0873-001, SPEC-LANG-0808.
- **Tests Required:** Test operations, test performance.

================================================================================
ATOM Decomposition: SPEC-LANG-0815 (Stdlib Design Conventions)
================================================================================

**Parent LEAF:** SPEC-LANG-0815: Stdlib Design Conventions
**Source:** REQ-280, SSOT Section 9.1
**Decomposition Rationale:** Design conventions require documentation, API patterns, and consistency validation.

**ATOM-LANG-0815-001: Borrowing Convention Documentation**
- **Parent:** SPEC-LANG-0815
- **Source:** REQ-280, SSOT Section 9.1
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Document when to use borrow vs take.
  - Establish parameter conventions.
- **Semantics:** Standardizes API patterns.
- **Edge Cases:** None (conventions are documentation).
- **Failure Modes:** None (documentation).
- **Dependencies:** None.
- **Tests Required:** Documentation review.

**ATOM-LANG-0815-002: Cost Documentation Requirements**
- **Parent:** SPEC-LANG-0815
- **Source:** REQ-280, SSOT Section 9.1
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Require performance docs on all stdlib functions.
  - Document O(n) complexity, allocation behavior.
- **Semantics:** Ensures performance transparency.
- **Edge Cases:** Variable complexity, platform-dependent costs.
- **Failure Modes:** None (documentation requirement).
- **Dependencies:** ATOM-LANG-0815-001.
- **Tests Required:** Documentation audits.

**ATOM-LANG-0815-003: Builder Pattern Standards**
- **Parent:** SPEC-LANG-0815
- **Source:** REQ-280, SSOT Section 9.1
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Define builder pattern conventions.
  - Use for complex object construction.
  - Standardize builder method names.
- **Semantics:** Establishes builder conventions.
- **Edge Cases:** Optional fields, validation.
- **Failure Modes:** None (pattern is convention).
- **Dependencies:** ATOM-LANG-0815-001.
- **Tests Required:** Pattern usage audits.

================================================================================
ATOM Decomposition: SPEC-LANG-0903 (Freestanding/Bare-metal Core Library)
================================================================================

**Parent LEAF:** SPEC-LANG-0903: Freestanding/Bare-metal Core Library
**Source:** REQ-333, SSOT Section 9.8
**Decomposition Rationale:** Bare-metal support requires no-std mode, minimal runtime, and platform abstraction.

**ATOM-LANG-0903-001: No-Std Mode**
- **Parent:** SPEC-LANG-0903
- **Source:** REQ-333, SSOT Section 9.8
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Support #[no_std] attribute.
  - Disable standard library.
  - Use core library only.
- **Semantics:** Enables freestanding compilation.
- **Edge Cases:** Partial std usage, incompatible features.
- **Failure Modes:** ERR-CONFIG-005 (std not available).
- **Dependencies:** Module system.
- **Tests Required:** Test no_std compilation.

**ATOM-LANG-0903-002: Minimal Runtime for Bare-metal**
- **Parent:** SPEC-LANG-0903
- **Source:** REQ-333, SSOT Section 9.8
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Provide panic handler stub.
  - Provide minimal allocator interface.
  - No OS dependencies.
- **Semantics:** Provides bare minimum runtime.
- **Edge Cases:** Custom allocators, no allocator.
- **Failure Modes:** Link errors if handlers missing.
- **Dependencies:** ATOM-LANG-0903-001.
- **Tests Required:** Test bare-metal compilation.

**ATOM-LANG-0903-003: Platform Abstraction Layer**
- **Parent:** SPEC-LANG-0903
- **Source:** REQ-333, SSOT Section 9.8
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Define platform trait for bare-metal targets.
  - Abstract I/O, interrupts, memory operations.
- **Semantics:** Enables platform portability.
- **Edge Cases:** Platform-specific features.
- **Failure Modes:** None (abstraction is trait-based).
- **Dependencies:** ATOM-LANG-0903-002, trait system.
- **Tests Required:** Test abstraction.

================================================================================
ATOM Decomposition: SPEC-LANG-1004 (Structured Concurrency)
================================================================================

**Parent LEAF:** SPEC-LANG-1004: Structured Concurrency (async with)
**Source:** REQ-342, SSOT Section 9.9
**Decomposition Rationale:** Async requires async fn parsing, await points, and task scheduling.

**ATOM-LANG-1004-001: Async Function Declaration**
- **Parent:** SPEC-LANG-1004
- **Source:** REQ-342, SSOT Section 9.9
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Parse `async fn` syntax.
  - Mark function as asynchronous.
  - Return Future type.
- **Semantics:** Declares async functions.
- **Edge Cases:** Async traits, async closures.
- **Failure Modes:** ERR-ASYNC-001 (invalid async fn).
- **Dependencies:** Parser.
- **Tests Required:** Test async parsing.

**ATOM-LANG-1004-002: Await Expression Parsing**
- **Parent:** SPEC-LANG-1004
- **Source:** REQ-342, SSOT Section 9.9
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Parse `await expr` or `expr.await` syntax.
  - Validate in async context only.
- **Semantics:** Parses suspension points.
- **Edge Cases:** Await outside async, nested awaits.
- **Failure Modes:** ERR-ASYNC-002 (await outside async).
- **Dependencies:** ATOM-LANG-1004-001.
- **Tests Required:** Test await parsing.

**ATOM-LANG-1004-003: Async State Machine Generation**
- **Parent:** SPEC-LANG-1004
- **Source:** REQ-342, SSOT Section 9.9
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Transform async fn to state machine.
  - Generate states for each await point.
  - Implement Future trait.
- **Semantics:** Implements async execution.
- **Edge Cases:** Complex control flow, loops with await.
- **Failure Modes:** None (transformation is automatic).
- **Dependencies:** ATOM-LANG-1004-002, codegen.
- **Tests Required:** Test state machine generation.

================================================================================
ATOM Decomposition: SPEC-LANG-1005 (Task Cancellation)
================================================================================

**Parent LEAF:** SPEC-LANG-1005: Task Cancellation and Detached Tasks
**Source:** REQ-343, SSOT Section 9.9
**Decomposition Rationale:** Cancellation requires cancellation tokens, cooperative cancellation, and cleanup.

**ATOM-LANG-1005-001: Cancellation Token**
- **Parent:** SPEC-LANG-1005
- **Source:** REQ-343, SSOT Section 9.9
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Define CancellationToken type.
  - Support cancellation signal propagation.
- **Semantics:** Provides cancellation mechanism.
- **Edge Cases:** Token cloning, nested cancellation.
- **Failure Modes:** None (token is data structure).
- **Dependencies:** None.
- **Tests Required:** Test token.

**ATOM-LANG-1005-002: Cooperative Cancellation Checking**
- **Parent:** SPEC-LANG-1005
- **Source:** REQ-343, SSOT Section 9.9
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Check cancellation token at await points.
  - Return cancelled error if token is set.
- **Semantics:** Implements cooperative cancellation.
- **Edge Cases:** Cancellation during critical section.
- **Failure Modes:** Returns cancellation error.
- **Dependencies:** ATOM-LANG-1005-001.
- **Tests Required:** Test cancellation.

**ATOM-LANG-1005-003: Detached Task Spawning**
- **Parent:** SPEC-LANG-1005
- **Source:** REQ-343, SSOT Section 9.9
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Support task detachment (fire and forget).
  - No join required for detached tasks.
- **Semantics:** Enables background tasks.
- **Edge Cases:** Task leaks, orphaned tasks.
- **Failure Modes:** None (detach is explicit).
- **Dependencies:** ATOM-LANG-1005-001, task system.
- **Tests Required:** Test detached tasks.

================================================================================
ATOM Decomposition: SPEC-LANG-1201 (Native C FFI)
================================================================================

**Parent LEAF:** SPEC-LANG-1201: Native C FFI (extern)
**Source:** REQ-361, SSOT Section 9.11
**Decomposition Rationale:** FFI requires extern declarations, ABI handling, and type marshalling.

**ATOM-LANG-1201-001: Extern Function Declaration**
- **Parent:** SPEC-LANG-1201
- **Source:** REQ-361, SSOT Section 9.11
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Parse `extern "C" fn` declarations.
  - Support various ABIs (C, cdecl, stdcall).
- **Semantics:** Declares foreign functions.
- **Edge Cases:** Different ABIs, platform-specific.
- **Failure Modes:** ERR-FFI-001 (invalid extern).
- **Dependencies:** Parser.
- **Tests Required:** Test extern parsing.

**ATOM-LANG-1201-002: C ABI Type Marshalling**
- **Parent:** SPEC-LANG-1201
- **Source:** REQ-361, SSOT Section 9.11
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Map Pyrite types to C types.
  - Handle struct layout compatibility.
  - Apply C calling conventions.
- **Semantics:** Enables C interop.
- **Edge Cases:** Complex types, padding differences.
- **Failure Modes:** ERR-FFI-002 (incompatible type).
- **Dependencies:** ATOM-LANG-1201-001.
- **Tests Required:** Test marshalling, test compatibility.

**ATOM-LANG-1201-003: FFI Call Code Generation**
- **Parent:** SPEC-LANG-1201
- **Source:** REQ-361, SSOT Section 9.11
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Generate extern function calls.
  - Apply correct calling convention.
  - Handle return values.
- **Semantics:** Implements FFI calls.
- **Edge Cases:** Variadic functions, large return values.
- **Failure Modes:** None (runtime behavior).
- **Dependencies:** ATOM-LANG-1201-002, codegen.
- **Tests Required:** Test FFI calls.

================================================================================
ATOM Decomposition: SPEC-LANG-1202 (Python Interoperability)
================================================================================

**Parent LEAF:** SPEC-LANG-1202: Python Interoperability Strategy
**Source:** REQ-362, SSOT Section 9.11
**Decomposition Rationale:** Python interop requires C API integration, type conversion, and GIL handling.

**ATOM-LANG-1202-001: Python C API Integration**
- **Parent:** SPEC-LANG-1202
- **Source:** REQ-362, SSOT Section 9.11
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Integrate with Python C API.
  - Call Python functions from Pyrite.
  - Export Pyrite functions to Python.
- **Semantics:** Enables Python interop.
- **Edge Cases:** Python version differences, missing Python.
- **Failure Modes:** ERR-PY-001 (Python interop failed).
- **Dependencies:** SPEC-LANG-1201 (FFI).
- **Tests Required:** Test Python calls.

**ATOM-LANG-1202-002: Python-Pyrite Type Conversion**
- **Parent:** SPEC-LANG-1202
- **Source:** REQ-362, SSOT Section 9.11
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Convert between Python objects and Pyrite types.
  - Support common types (int, str, list, dict).
- **Semantics:** Bridges type systems.
- **Edge Cases:** Type conversion failures, complex types.
- **Failure Modes:** ERR-PY-002 (conversion failed).
- **Dependencies:** ATOM-LANG-1202-001.
- **Tests Required:** Test conversions.

**ATOM-LANG-1202-003: GIL Management**
- **Parent:** SPEC-LANG-1202
- **Source:** REQ-362, SSOT Section 9.11
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Acquire GIL when calling Python.
  - Release GIL for Pyrite-only code.
  - Handle GIL properly in multi-threaded contexts.
- **Semantics:** Manages Python threading.
- **Edge Cases:** Deadlocks, nested GIL acquisition.
- **Failure Modes:** Deadlock if mismanaged.
- **Dependencies:** ATOM-LANG-1202-001.
- **Tests Required:** Test GIL handling.

================================================================================
ATOM Decomposition: SPEC-LANG-1203 (FFI Function Pointers and Callbacks)
================================================================================

**Parent LEAF:** SPEC-LANG-1203: FFI Function Pointers and Callbacks
**Source:** REQ-363, SSOT Section 9.11
**Decomposition Rationale:** Callbacks require function pointer types, closure conversion, and lifetime management.

**ATOM-LANG-1203-001: FFI Function Pointer Types**
- **Parent:** SPEC-LANG-1203
- **Source:** REQ-363, SSOT Section 9.11
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Define extern function pointer types.
  - Support `extern "C" fn(...) -> T` type syntax.
- **Semantics:** Defines C-compatible function pointers.
- **Edge Cases:** Variadic callbacks, complex signatures.
- **Failure Modes:** None (type definition).
- **Dependencies:** SPEC-LANG-1201.
- **Tests Required:** Test function pointer types.

**ATOM-LANG-1203-002: Closure to Function Pointer Conversion**
- **Parent:** SPEC-LANG-1203
- **Source:** REQ-363, SSOT Section 9.11
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Convert zero-capture closures to function pointers.
  - Reject closures with captures for FFI.
- **Semantics:** Enables closure callbacks.
- **Edge Cases:** Closures with captures, lifetime issues.
- **Failure Modes:** ERR-FFI-003 (closure has captures).
- **Dependencies:** ATOM-LANG-1203-001, closure system.
- **Tests Required:** Test conversion, test errors.

**ATOM-LANG-1203-003: Callback Lifetime Management**
- **Parent:** SPEC-LANG-1203
- **Source:** REQ-363, SSOT Section 9.11
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Ensure callbacks don't outlive referenced data.
  - Track callback lifetimes.
- **Semantics:** Prevents dangling callbacks.
- **Edge Cases:** Long-lived callbacks, closure escaping.
- **Failure Modes:** ERR-LIFETIME-008 (callback outlives data).
- **Dependencies:** ATOM-LANG-1203-002, lifetime system.
- **Tests Required:** Test lifetime checking.

================================================================================
ATOM Decomposition: SPEC-LANG-1301 (Performance-documented Standard Library)
================================================================================

**Parent LEAF:** SPEC-LANG-1301: Performance-documented Standard Library
**Source:** REQ-371, SSOT Section 9.12
**Decomposition Rationale:** Performance docs require annotation system, benchmarking, and documentation generation.

**ATOM-LANG-1301-001: Performance Annotation System**
- **Parent:** SPEC-LANG-1301
- **Source:** REQ-371, SSOT Section 9.12
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Define @complexity, @allocates annotations.
  - Attach to function documentation.
- **Semantics:** Documents performance characteristics.
- **Edge Cases:** Variable complexity, conditional allocation.
- **Failure Modes:** None (annotations are documentation).
- **Dependencies:** Doc comment system.
- **Tests Required:** Test annotation parsing.

**ATOM-LANG-1301-002: Performance Contract Verification**
- **Parent:** SPEC-LANG-1301
- **Source:** REQ-371, SSOT Section 9.12
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Verify documented performance claims.
  - Run benchmarks to validate.
  - Warn on documentation drift.
- **Semantics:** Ensures accuracy.
- **Edge Cases:** Platform variance, workload sensitivity.
- **Failure Modes:** WARN (documentation mismatch).
- **Dependencies:** ATOM-LANG-1301-001, benchmarking.
- **Tests Required:** Test verification.

**ATOM-LANG-1301-003: Performance Doc Generation**
- **Parent:** SPEC-LANG-1301
- **Source:** REQ-371, SSOT Section 9.12
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Include performance annotations in generated docs.
  - Format clearly for users.
- **Semantics:** Publishes performance info.
- **Edge Cases:** Complex annotations, formatting.
- **Failure Modes:** None (doc generation).
- **Dependencies:** ATOM-LANG-1301-001, SPEC-QUARRY-0035.
- **Tests Required:** Test doc output.

================================================================================
ATOM Decomposition: SPEC-LANG-1302 (Educational Performance Cookbook)
================================================================================

**Parent LEAF:** SPEC-LANG-1302: Educational Performance Cookbook
**Source:** REQ-372, SSOT Section 9.12
**Decomposition Rationale:** Performance cookbook requires pattern documentation, example collection, and anti-pattern identification.

**ATOM-LANG-1302-001: Performance Pattern Documentation**
- **Parent:** SPEC-LANG-1302
- **Source:** REQ-372, SSOT Section 9.12
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Document common performance patterns.
  - Provide benchmarked examples.
- **Semantics:** Teaches optimization.
- **Edge Cases:** Platform-specific patterns.
- **Failure Modes:** None (documentation).
- **Dependencies:** None.
- **Tests Required:** Documentation review.

**ATOM-LANG-1302-002: Anti-pattern Collection**
- **Parent:** SPEC-LANG-1302
- **Source:** REQ-372, SSOT Section 9.12
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Document common performance anti-patterns.
  - Explain why they're slow.
  - Provide better alternatives.
- **Semantics:** Warns against bad patterns.
- **Edge Cases:** Context-dependent anti-patterns.
- **Failure Modes:** None (documentation).
- **Dependencies:** ATOM-LANG-1302-001.
- **Tests Required:** Documentation review.

**ATOM-LANG-1302-003: Interactive Examples**
- **Parent:** SPEC-LANG-1302
- **Source:** REQ-372, SSOT Section 9.12
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Provide runnable performance examples.
  - Include benchmarks.
- **Semantics:** Enables hands-on learning.
- **Edge Cases:** Platform variations.
- **Failure Modes:** None (examples).
- **Dependencies:** ATOM-LANG-1302-001.
- **Tests Required:** Example testing.

================================================================================
ATOM Decomposition: SPEC-LANG-0021 (Language Edition System)
================================================================================

**Parent LEAF:** SPEC-LANG-0021: Language Edition System
**Source:** REQ-011, SSOT Section 1.6
**Decomposition Rationale:** Edition system requires edition definition, feature gating, and migration support.

**ATOM-LANG-0021-001: Edition Version Definition**
- **Parent:** SPEC-LANG-0021
- **Source:** REQ-011, SSOT Section 1.6
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Define edition versions (2025, 2027, etc.).
  - Specify feature differences per edition.
- **Semantics:** Defines language versions.
- **Edge Cases:** Edition compatibility.
- **Failure Modes:** None (definition).
- **Dependencies:** None.
- **Tests Required:** Test edition definition.

**ATOM-LANG-0021-002: Edition Selection**
- **Parent:** SPEC-LANG-0021
- **Source:** REQ-011, SSOT Section 1.6
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Parse edition = "2025" in Quarry.toml.
  - Apply edition-specific behavior.
- **Semantics:** Selects active edition.
- **Edge Cases:** Missing edition, invalid edition.
- **Failure Modes:** ERR-EDITION-001 (invalid edition).
- **Dependencies:** ATOM-LANG-0021-001, config.
- **Tests Required:** Test selection.

**ATOM-LANG-0021-003: Edition Feature Gating**
- **Parent:** SPEC-LANG-0021
- **Source:** REQ-011, SSOT Section 1.6
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Enable/disable features based on edition.
  - Gate new syntax behind editions.
- **Semantics:** Implements edition differences.
- **Edge Cases:** Deprecated features, preview features.
- **Failure Modes:** None (gating is transparent).
- **Dependencies:** ATOM-LANG-0021-002.
- **Tests Required:** Test feature gating.

================================================================================
ATOM Decomposition: SPEC-LANG-0022 (Edition Binary Compatibility)
================================================================================

**Parent LEAF:** SPEC-LANG-0022: Edition Binary Compatibility
**Source:** REQ-012, SSOT Section 1.6
**Decomposition Rationale:** Binary compatibility requires ABI stability, version checking, and linking validation.

**ATOM-LANG-0022-001: Stable ABI Definition**
- **Parent:** SPEC-LANG-0022
- **Source:** REQ-012, SSOT Section 1.6
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Define stable ABI across editions.
  - Ensure type layout compatibility.
- **Semantics:** Guarantees interoperability.
- **Edge Cases:** Breaking changes, ABI versioning.
- **Failure Modes:** None (ABI is stable by design).
- **Dependencies:** SPEC-LANG-0021.
- **Tests Required:** Test ABI stability.

**ATOM-LANG-0022-002: Edition Metadata in Binaries**
- **Parent:** SPEC-LANG-0022
- **Source:** REQ-012, SSOT Section 1.6
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Embed edition version in compiled artifacts.
  - Store in metadata section.
- **Semantics:** Tracks compilation edition.
- **Edge Cases:** Metadata size, format.
- **Failure Modes:** None (metadata is informational).
- **Dependencies:** ATOM-LANG-0022-001, linker.
- **Tests Required:** Test metadata embedding.

**ATOM-LANG-0022-003: Cross-Edition Linking Validation**
- **Parent:** SPEC-LANG-0022
- **Source:** REQ-012, SSOT Section 1.6
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Validate edition compatibility at link time.
  - Allow linking different editions.
  - Warn on potential issues.
- **Semantics:** Ensures safe linking.
- **Edge Cases:** Many editions, transitive deps.
- **Failure Modes:** WARN (edition mismatch).
- **Dependencies:** ATOM-LANG-0022-002.
- **Tests Required:** Test cross-edition linking.

================================================================================
ATOM Decomposition: SPEC-LANG-0023 (Edition Security Support Window)
================================================================================

**Parent LEAF:** SPEC-LANG-0023: Edition Security Support Window
**Source:** REQ-013, SSOT Section 1.6
**Decomposition Rationale:** Security support requires version tracking, security patch management, and deprecation warnings.

**ATOM-LANG-0023-001: Edition Support Status Tracking**
- **Parent:** SPEC-LANG-0023
- **Source:** REQ-013, SSOT Section 1.6
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Track support status per edition (active, security-only, unsupported).
  - Define support timelines.
- **Semantics:** Documents edition lifecycle.
- **Edge Cases:** Extended support, emergency patches.
- **Failure Modes:** None (tracking is informational).
- **Dependencies:** SPEC-LANG-0021.
- **Tests Required:** Documentation validation.

**ATOM-LANG-0023-002: Deprecation Warnings**
- **Parent:** SPEC-LANG-0023
- **Source:** REQ-013, SSOT Section 1.6
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Warn when using unsupported editions.
  - Suggest migration to newer edition.
- **Semantics:** Alerts users to deprecated editions.
- **Edge Cases:** Grace periods, critical systems.
- **Failure Modes:** WARN (edition unsupported).
- **Dependencies:** ATOM-LANG-0023-001, compiler.
- **Tests Required:** Test warnings.

**ATOM-LANG-0023-003: Security Patch Backporting**
- **Parent:** SPEC-LANG-0023
- **Source:** REQ-013, SSOT Section 1.6
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Backport security fixes to supported editions.
  - Maintain security patch branches.
- **Semantics:** Provides security updates.
- **Edge Cases:** Incompatible fixes, breaking patches.
- **Failure Modes:** None (backport process).
- **Dependencies:** ATOM-LANG-0023-001.
- **Tests Required:** Patch validation.

================================================================================
ATOM Decomposition: SPEC-LANG-1501 (Certification Standards Compliance)
================================================================================

**Parent LEAF:** SPEC-LANG-1501: Certification Standards Compliance
**Source:** REQ-401, SSOT Section 9.13
**Decomposition Rationale:** Certification requires documentation generation, compliance validation, and audit support.

**ATOM-LANG-1501-001: DO-178C Documentation**
- **Parent:** SPEC-LANG-1501
- **Source:** REQ-401, SSOT Section 9.13
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Generate DO-178C required documents.
  - Include requirements traceability.
- **Semantics:** Supports aviation certification.
- **Edge Cases:** Complex systems, multiple DALs.
- **Failure Modes:** None (documentation).
- **Dependencies:** Traceability system.
- **Tests Required:** Documentation completeness.

**ATOM-LANG-1501-002: CC EAL 7 Evidence Generation**
- **Parent:** SPEC-LANG-1501
- **Source:** REQ-401, SSOT Section 9.13
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Generate Common Criteria evidence.
  - Document security properties.
- **Semantics:** Supports security certification.
- **Edge Cases:** Formal proofs, assurance requirements.
- **Failure Modes:** None (documentation).
- **Dependencies:** ATOM-LANG-1501-001.
- **Tests Required:** Evidence validation.

**ATOM-LANG-1501-003: Compliance Audit Trail**
- **Parent:** SPEC-LANG-1501
- **Source:** REQ-401, SSOT Section 9.13
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Maintain audit trail of all changes.
  - Link changes to requirements.
- **Semantics:** Supports certification audits.
- **Edge Cases:** Large codebases, complex traces.
- **Failure Modes:** None (audit is process).
- **Dependencies:** ATOM-LANG-1501-001.
- **Tests Required:** Audit trail validation.

================================================================================
ATOM Decomposition: SPEC-LANG-1502 (Undefined Behavior Catalog)
================================================================================

**Parent LEAF:** SPEC-LANG-1502: Undefined Behavior Catalog
**Source:** REQ-402, SSOT Section 9.13
**Decomposition Rationale:** UB catalog requires UB documentation, detection, and prevention mechanisms.

**ATOM-LANG-1502-001: UB Category Documentation**
- **Parent:** SPEC-LANG-1502
- **Source:** REQ-402, SSOT Section 9.13
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Document all sources of undefined behavior.
  - Categorize by severity and likelihood.
- **Semantics:** Documents UB risks.
- **Edge Cases:** Platform-specific UB.
- **Failure Modes:** None (documentation).
- **Dependencies:** None.
- **Tests Required:** Documentation completeness.

**ATOM-LANG-1502-002: UB Detection in Unsafe Code**
- **Parent:** SPEC-LANG-1502
- **Source:** REQ-402, SSOT Section 9.13
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Use sanitizers to detect UB at runtime.
  - Integrate with UBSan, ASan, MSan.
- **Semantics:** Detects UB occurrences.
- **Edge Cases:** Subtle UB, intermittent UB.
- **Failure Modes:** Runtime errors on UB detection.
- **Dependencies:** ATOM-LANG-1502-001, SPEC-QUARRY-0032.
- **Tests Required:** Test UB detection.

**ATOM-LANG-1502-003: UB Prevention Guidelines**
- **Parent:** SPEC-LANG-1502
- **Source:** REQ-402, SSOT Section 9.13
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Provide guidelines for avoiding UB.
  - Document safe patterns for unsafe code.
- **Semantics:** Guides safe unsafe code.
- **Edge Cases:** Complex unsafe scenarios.
- **Failure Modes:** None (guidelines).
- **Dependencies:** ATOM-LANG-1502-001.
- **Tests Required:** Guideline validation.

================================================================================
ATOM Decomposition: SPEC-LANG-1503 (Data-Race-Free Theorem)
================================================================================

**Parent LEAF:** SPEC-LANG-1503: Data-Race-Free Theorem
**Source:** REQ-403, SSOT Section 9.13
**Decomposition Rationale:** DRF theorem requires proof strategy, Send/Sync enforcement, and validation.

**ATOM-LANG-1503-001: Data Race Definition**
- **Parent:** SPEC-LANG-1503
- **Source:** REQ-403, SSOT Section 9.13
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Define data race formally.
  - Document race conditions.
- **Semantics:** Defines what constitutes a race.
- **Edge Cases:** Benign races, intentional sharing.
- **Failure Modes:** None (definition).
- **Dependencies:** None.
- **Tests Required:** Definition validation.

**ATOM-LANG-1503-002: Send/Sync Theorem Proof**
- **Parent:** SPEC-LANG-1503
- **Source:** REQ-403, SSOT Section 9.13
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Prove that Send/Sync enforcement prevents data races.
  - Document proof strategy.
- **Semantics:** Establishes theoretical foundation.
- **Edge Cases:** Unsafe code escapes.
- **Failure Modes:** None (proof is formal).
- **Dependencies:** ATOM-LANG-1503-001, SPEC-LANG-1002.
- **Tests Required:** Proof review.

**ATOM-LANG-1503-003: Race Detection Testing**
- **Parent:** SPEC-LANG-1503
- **Source:** REQ-403, SSOT Section 9.13
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Use ThreadSanitizer to validate DRF.
  - Test concurrent code for races.
- **Semantics:** Validates theorem empirically.
- **Edge Cases:** False positives, complex scenarios.
- **Failure Modes:** Races detected in unsafe code.
- **Dependencies:** ATOM-LANG-1503-002, SPEC-QUARRY-0032.
- **Tests Required:** Race detection tests.

================================================================================
ATOM Decomposition: SPEC-LANG-1504 (Memory-Safety Theorem)
================================================================================

**Parent LEAF:** SPEC-LANG-1504: Memory-Safety Theorem
**Source:** REQ-404, SSOT Section 9.13
**Decomposition Rationale:** Memory safety theorem requires formal proof, invariant documentation, and validation.

**ATOM-LANG-1504-001: Memory Safety Definition**
- **Parent:** SPEC-LANG-1504
- **Source:** REQ-404, SSOT Section 9.13
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Define memory safety formally.
  - Document safety properties.
- **Semantics:** Defines safety guarantees.
- **Edge Cases:** Unsafe code boundaries.
- **Failure Modes:** None (definition).
- **Dependencies:** None.
- **Tests Required:** Definition validation.

**ATOM-LANG-1504-002: Ownership/Borrowing Soundness Proof**
- **Parent:** SPEC-LANG-1504
- **Source:** REQ-404, SSOT Section 9.13
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Prove ownership system prevents memory errors.
  - Document proof of soundness.
- **Semantics:** Establishes formal safety.
- **Edge Cases:** Unsafe escapes, raw pointers.
- **Failure Modes:** None (proof is formal).
- **Dependencies:** ATOM-LANG-1504-001, ownership system.
- **Tests Required:** Proof review.

**ATOM-LANG-1504-003: Empirical Safety Validation**
- **Parent:** SPEC-LANG-1504
- **Source:** REQ-404, SSOT Section 9.13
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Use sanitizers to detect memory errors.
  - Fuzz test to find violations.
- **Semantics:** Validates safety empirically.
- **Edge Cases:** Rare bugs, platform-specific issues.
- **Failure Modes:** Memory errors detected in unsafe code.
- **Dependencies:** ATOM-LANG-1504-002, sanitizers.
- **Tests Required:** Safety testing.

================================================================================
ATOM Decomposition: SPEC-QUARRY-0012 (Configuration File Loading)
================================================================================

**Parent LEAF:** SPEC-QUARRY-0012: Configuration File Loading
**Source:** REQ-170, SSOT Section 8.5
**Decomposition Rationale:** Config loading requires file discovery, TOML parsing, and validation.

**ATOM-QUARRY-0012-001: Quarry.toml Discovery**
- **Parent:** SPEC-QUARRY-0012
- **Source:** REQ-170, SSOT Section 8.5
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Search for Quarry.toml in current and parent directories.
  - Determine project root.
- **Semantics:** Locates project configuration.
- **Edge Cases:** Missing file, nested projects.
- **Failure Modes:** ERR-CONFIG-006 (Quarry.toml not found).
- **Dependencies:** File system.
- **Tests Required:** Test discovery.

**ATOM-QUARRY-0012-002: TOML Parsing**
- **Parent:** SPEC-QUARRY-0012
- **Source:** REQ-170, SSOT Section 8.5
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Parse Quarry.toml file.
  - Extract [package], [dependencies], [features] sections.
- **Semantics:** Parses configuration.
- **Edge Cases:** Malformed TOML, missing sections.
- **Failure Modes:** ERR-CONFIG-007 (invalid TOML).
- **Dependencies:** ATOM-QUARRY-0012-001, TOML parser.
- **Tests Required:** Test parsing.

**ATOM-QUARRY-0012-003: Configuration Validation**
- **Parent:** SPEC-QUARRY-0012
- **Source:** REQ-170, SSOT Section 8.5
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Validate required fields present.
  - Check value types and formats.
  - Validate dependencies versions.
- **Semantics:** Ensures valid configuration.
- **Edge Cases:** Optional fields, defaults.
- **Failure Modes:** ERR-CONFIG-008 (invalid configuration).
- **Dependencies:** ATOM-QUARRY-0012-002.
- **Tests Required:** Test validation.

================================================================================
ATOM Decomposition: SPEC-QUARRY-0015 (Workspace Management)
================================================================================

**Parent LEAF:** SPEC-QUARRY-0015: Workspace Management (Multi-package)
**Source:** REQ-172, SSOT Section 8.6
**Decomposition Rationale:** Workspace requires workspace discovery, member management, and shared configuration.

**ATOM-QUARRY-0015-001: Workspace Discovery**
- **Parent:** SPEC-QUARRY-0015
- **Source:** REQ-172, SSOT Section 8.6
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Detect workspace root (Quarry.toml with [workspace]).
  - Parse workspace members.
- **Semantics:** Identifies multi-package projects.
- **Edge Cases:** Nested workspaces, missing members.
- **Failure Modes:** ERR-WORKSPACE-001 (invalid workspace).
- **Dependencies:** SPEC-QUARRY-0012.
- **Tests Required:** Test workspace discovery.

**ATOM-QUARRY-0015-002: Member Package Resolution**
- **Parent:** SPEC-QUARRY-0015
- **Source:** REQ-172, SSOT Section 8.6
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Resolve workspace member paths.
  - Load each member's Quarry.toml.
  - Build workspace graph.
- **Semantics:** Discovers workspace packages.
- **Edge Cases:** Glob patterns, symbolic links.
- **Failure Modes:** ERR-WORKSPACE-002 (member not found).
- **Dependencies:** ATOM-QUARRY-0015-001.
- **Tests Required:** Test member resolution.

**ATOM-QUARRY-0015-003: Shared Configuration Propagation**
- **Parent:** SPEC-QUARRY-0015
- **Source:** REQ-172, SSOT Section 8.6
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Propagate workspace settings to members.
  - Override member settings with workspace settings.
- **Semantics:** Applies workspace config.
- **Edge Cases:** Conflicting settings, member overrides.
- **Failure Modes:** None (precedence is clear).
- **Dependencies:** ATOM-QUARRY-0015-002.
- **Tests Required:** Test config propagation.

================================================================================
ATOM Decomposition: SPEC-QUARRY-0016 (Build Profile Management)
================================================================================

**Parent LEAF:** SPEC-QUARRY-0016: Build Profile Management (dev, release, custom)
**Source:** REQ-173, SSOT Section 8.7
**Decomposition Rationale:** Build profiles require profile definition, flag configuration, and optimization control.

**ATOM-QUARRY-0016-001: Profile Definition**
- **Parent:** SPEC-QUARRY-0016
- **Source:** REQ-173, SSOT Section 8.7
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Define built-in profiles (dev, release).
  - Support custom profiles in Quarry.toml.
- **Semantics:** Defines build configurations.
- **Edge Cases:** Profile inheritance, conflicts.
- **Failure Modes:** ERR-PROFILE-001 (invalid profile).
- **Dependencies:** Config system.
- **Tests Required:** Test profile definition.

**ATOM-QUARRY-0016-002: Compiler Flag Configuration**
- **Parent:** SPEC-QUARRY-0016
- **Source:** REQ-173, SSOT Section 8.7
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Set optimization level per profile (O0, O2, O3).
  - Configure debug symbols, assertions.
  - Apply profile-specific flags.
- **Semantics:** Configures compilation.
- **Edge Cases:** Flag conflicts, platform-specific flags.
- **Failure Modes:** None (flags are profile-specific).
- **Dependencies:** ATOM-QUARRY-0016-001.
- **Tests Required:** Test flag application.

**ATOM-QUARRY-0016-003: Profile Selection**
- **Parent:** SPEC-QUARRY-0016
- **Source:** REQ-173, SSOT Section 8.7
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Support --release, --profile flags.
  - Default to dev profile.
  - Apply selected profile settings.
- **Semantics:** Activates build profile.
- **Edge Cases:** Multiple profiles, profile chaining.
- **Failure Modes:** ERR-PROFILE-002 (profile not found).
- **Dependencies:** ATOM-QUARRY-0016-002.
- **Tests Required:** Test selection.

================================================================================
ATOM Decomposition: SPEC-QUARRY-0018 (Lockfile Generation and Verification)
================================================================================

**Parent LEAF:** SPEC-QUARRY-0018: Lockfile Generation and Verification (Quarry.lock)
**Source:** REQ-175, SSOT Section 8.8
**Decomposition Rationale:** Lockfile requires generation, format serialization, and verification.

**ATOM-QUARRY-0018-001: Lockfile Generation**
- **Parent:** SPEC-QUARRY-0018
- **Source:** REQ-175, SSOT Section 8.8
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Generate Quarry.lock from resolved dependencies.
  - Include exact versions and checksums.
  - Store dependency tree.
- **Semantics:** Creates reproducible builds.
- **Edge Cases:** Large dependency trees, conflicts.
- **Failure Modes:** None (generation always succeeds).
- **Dependencies:** SPEC-QUARRY-0017.
- **Tests Required:** Test generation.

**ATOM-QUARRY-0018-002: Lockfile Format Serialization**
- **Parent:** SPEC-QUARRY-0018
- **Source:** REQ-175, SSOT Section 8.8
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Serialize to TOML format.
  - Include all dependency metadata.
  - Use deterministic ordering.
- **Semantics:** Formats lockfile.
- **Edge Cases:** Large files, special characters.
- **Failure Modes:** ERR-LOCK-001 (serialization failed).
- **Dependencies:** ATOM-QUARRY-0018-001.
- **Tests Required:** Test serialization.

**ATOM-QUARRY-0018-003: Lockfile Verification**
- **Parent:** SPEC-QUARRY-0018
- **Source:** REQ-175, SSOT Section 8.8
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Verify lockfile matches current dependencies.
  - Check checksums and versions.
  - Warn if lockfile out of date.
- **Semantics:** Validates reproducibility.
- **Edge Cases:** Lockfile drift, manual edits.
- **Failure Modes:** WARN (lockfile mismatch).
- **Dependencies:** ATOM-QUARRY-0018-002.
- **Tests Required:** Test verification.

================================================================================
ATOM Decomposition: SPEC-FORGE-0001 (Lexer Driver)
================================================================================

**Parent LEAF:** SPEC-FORGE-0001: Lexer Driver
**Source:** REQ-004, SSOT Section 2.1
**Decomposition Rationale:** Lexer driver requires input handling, token generation loop, and error recovery.

**ATOM-FORGE-0001-001: Source Input Management**
- **Parent:** SPEC-FORGE-0001
- **Source:** REQ-004, SSOT Section 2.1
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Read source file into buffer.
  - Track current position and line/column.
  - Handle UTF-8 decoding.
- **Semantics:** Manages input source.
- **Edge Cases:** Large files, invalid UTF-8.
- **Failure Modes:** ERR-LEX-007 (invalid UTF-8).
- **Dependencies:** File I/O.
- **Tests Required:** Test input handling.

**ATOM-FORGE-0001-002: Token Generation Loop**
- **Parent:** SPEC-FORGE-0001
- **Source:** REQ-004, SSOT Section 2.1
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Loop through source, generating tokens.
  - Dispatch to appropriate token recognizers.
  - Build token stream.
- **Semantics:** Produces tokens.
- **Edge Cases:** EOF handling, whitespace.
- **Failure Modes:** Various lexer errors.
- **Dependencies:** ATOM-FORGE-0001-001, token LEAFs.
- **Tests Required:** Test token generation.

**ATOM-FORGE-0001-003: Lexer Error Recovery**
- **Parent:** SPEC-FORGE-0001
- **Source:** REQ-004, SSOT Section 2.1
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Continue lexing after errors.
  - Skip invalid characters.
  - Report all lexer errors.
- **Semantics:** Enables multi-error reporting.
- **Edge Cases:** Many errors, cascading errors.
- **Failure Modes:** None (recovery is best-effort).
- **Dependencies:** ATOM-FORGE-0001-002.
- **Tests Required:** Test error recovery.

================================================================================
ATOM Decomposition: SPEC-FORGE-0010 (AST Construction and Validation)
================================================================================

**Parent LEAF:** SPEC-FORGE-0010: AST Construction and Validation
**Source:** REQ-065, SSOT Section 2.2
**Decomposition Rationale:** AST construction requires node creation, tree building, and validation.

**ATOM-FORGE-0010-001: AST Node Creation**
- **Parent:** SPEC-FORGE-0010
- **Source:** REQ-065, SSOT Section 2.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Create AST node types for all language constructs.
  - Store source locations.
  - Support generic node operations.
- **Semantics:** Defines AST representation.
- **Edge Cases:** Large ASTs, deeply nested nodes.
- **Failure Modes:** OOM on huge files.
- **Dependencies:** None.
- **Tests Required:** Test node creation.

**ATOM-FORGE-0010-002: AST Tree Building**
- **Parent:** SPEC-FORGE-0010
- **Source:** REQ-065, SSOT Section 2.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Build tree structure from tokens.
  - Link parent-child relationships.
  - Maintain tree invariants.
- **Semantics:** Constructs syntax tree.
- **Edge Cases:** Unbalanced trees, circular refs.
- **Failure Modes:** ERR-AST-001 (malformed AST).
- **Dependencies:** ATOM-FORGE-0010-001, parser.
- **Tests Required:** Test tree building.

**ATOM-FORGE-0010-003: AST Structural Validation**
- **Parent:** SPEC-FORGE-0010
- **Source:** REQ-065, SSOT Section 2.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Validate AST structural invariants.
  - Check node types are valid.
  - Verify tree consistency.
- **Semantics:** Ensures AST correctness.
- **Edge Cases:** Complex invariants, generated code.
- **Failure Modes:** ERR-AST-002 (AST validation failed).
- **Dependencies:** ATOM-FORGE-0010-002.
- **Tests Required:** Test validation.

================================================================================
ATOM Decomposition: SPEC-FORGE-0303 (Code Generation)
================================================================================

**Parent LEAF:** SPEC-FORGE-0303: Code Generation (LLVM IR Generation)
**Source:** REQ-002, SSOT Section 2.3
**Decomposition Rationale:** Code generation requires IR generation per construct, function generation, and module generation.

**ATOM-FORGE-0303-001: Expression Code Generation**
- **Parent:** SPEC-FORGE-0303
- **Source:** REQ-002, SSOT Section 2.3
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Generate LLVM IR for all expression types.
  - Handle literals, operations, calls, etc.
- **Semantics:** Compiles expressions.
- **Edge Cases:** Complex expressions, nested calls.
- **Failure Modes:** ERR-CODEGEN-002 (codegen failed).
- **Dependencies:** SPEC-FORGE-0024, AST.
- **Tests Required:** Test expression codegen.

**ATOM-FORGE-0303-002: Statement Code Generation**
- **Parent:** SPEC-FORGE-0303
- **Source:** REQ-002, SSOT Section 2.3
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Generate IR for all statement types.
  - Handle control flow, declarations, etc.
- **Semantics:** Compiles statements.
- **Edge Cases:** Complex control flow, nested scopes.
- **Failure Modes:** ERR-CODEGEN-003 (statement codegen failed).
- **Dependencies:** ATOM-FORGE-0303-001.
- **Tests Required:** Test statement codegen.

**ATOM-FORGE-0303-003: Function Code Generation**
- **Parent:** SPEC-FORGE-0303
- **Source:** REQ-002, SSOT Section 2.3
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Generate complete LLVM functions.
  - Handle parameters, body, returns.
  - Generate function prologue/epilogue.
- **Semantics:** Compiles functions.
- **Edge Cases:** Generic functions, recursive functions.
- **Failure Modes:** ERR-CODEGEN-004 (function codegen failed).
- **Dependencies:** ATOM-FORGE-0303-002.
- **Tests Required:** Test function codegen.

================================================================================
ATOM Decomposition: SPEC-FORGE-0304 (Optimization Passes)
================================================================================

**Parent LEAF:** SPEC-FORGE-0304: Optimization Passes
**Source:** REQ-002, SSOT Section 2.4
**Decomposition Rationale:** Optimization requires pass management, optimization execution, and performance validation.

**ATOM-FORGE-0304-001: Optimization Pass Manager**
- **Parent:** SPEC-FORGE-0304
- **Source:** REQ-002, SSOT Section 2.4
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Initialize LLVM pass manager.
  - Configure pass pipeline.
  - Set optimization level (O0, O1, O2, O3).
- **Semantics:** Manages optimization pipeline.
- **Edge Cases:** Custom pass orders, LTO.
- **Failure Modes:** None (pass manager configuration).
- **Dependencies:** SPEC-FORGE-0024, codegen.
- **Tests Required:** Test pass manager setup.

**ATOM-FORGE-0304-002: Standard Optimization Passes**
- **Parent:** SPEC-FORGE-0304
- **Source:** REQ-002, SSOT Section 2.4
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Enable standard LLVM passes (inlining, DCE, CSE, etc.).
  - Configure based on optimization level.
- **Semantics:** Applies optimizations.
- **Edge Cases:** Aggressive optimizations, debug builds.
- **Failure Modes:** None (passes are safe).
- **Dependencies:** ATOM-FORGE-0304-001.
- **Tests Required:** Test optimization effects.

**ATOM-FORGE-0304-003: Link-Time Optimization**
- **Parent:** SPEC-FORGE-0304
- **Source:** REQ-002, SSOT Section 2.4
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Enable LTO for release builds.
  - Generate bitcode for LTO.
  - Apply whole-program optimization.
- **Semantics:** Implements cross-module optimization.
- **Edge Cases:** Large programs, LTO time overhead.
- **Failure Modes:** None (LTO is optional).
- **Dependencies:** ATOM-FORGE-0304-002, linker.
- **Tests Required:** Test LTO, test performance gains.

================================================================================
ATOM Decomposition: SPEC-QUARRY-0027 (Test Framework Integration)
================================================================================

**Parent LEAF:** SPEC-QUARRY-0027: Test Framework Integration (quarry test)
**Source:** REQ-207, SSOT Section 8.9
**Decomposition Rationale:** Test framework requires test discovery, execution, and reporting.

**ATOM-QUARRY-0027-001: Test Discovery**
- **Parent:** SPEC-QUARRY-0027
- **Source:** REQ-207, SSOT Section 8.9
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Discover test functions (#[test] annotation).
  - Collect from tests/ directory and #[cfg(test)] modules.
  - Build test list.
- **Semantics:** Finds tests.
- **Edge Cases:** Nested modules, ignored tests.
- **Failure Modes:** None (discovery is best-effort).
- **Dependencies:** Attribute system.
- **Tests Required:** Test discovery.

**ATOM-QUARRY-0027-002: Test Execution**
- **Parent:** SPEC-QUARRY-0027
- **Source:** REQ-207, SSOT Section 8.9
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Execute each test function.
  - Capture panics as failures.
  - Support parallel test execution.
- **Semantics:** Runs tests.
- **Edge Cases:** Test isolation, resource conflicts.
- **Failure Modes:** Test failures, panics.
- **Dependencies:** ATOM-QUARRY-0027-001.
- **Tests Required:** Test execution.

**ATOM-QUARRY-0027-003: Test Result Reporting**
- **Parent:** SPEC-QUARRY-0027
- **Source:** REQ-207, SSOT Section 8.9
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Report test results (pass/fail/ignored).
  - Show failure details and locations.
  - Generate summary statistics.
- **Semantics:** Reports test outcomes.
- **Edge Cases:** Many tests, complex failures.
- **Failure Modes:** None (reporting always succeeds).
- **Dependencies:** ATOM-QUARRY-0027-002.
- **Tests Required:** Test reporting.

================================================================================
ATOM Decomposition: SPEC-QUARRY-0028 (Benchmark Framework)
================================================================================

**Parent LEAF:** SPEC-QUARRY-0028: Benchmark Framework (quarry bench)
**Source:** REQ-208, SSOT Section 8.10
**Decomposition Rationale:** Benchmarking requires benchmark discovery, timing, and statistical analysis.

**ATOM-QUARRY-0028-001: Benchmark Discovery**
- **Parent:** SPEC-QUARRY-0028
- **Source:** REQ-208, SSOT Section 8.10
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Discover benchmark functions (#[bench] annotation).
  - Collect from benches/ directory.
- **Semantics:** Finds benchmarks.
- **Edge Cases:** Conditional benchmarks.
- **Failure Modes:** None (discovery is best-effort).
- **Dependencies:** Attribute system.
- **Tests Required:** Test discovery.

**ATOM-QUARRY-0028-002: Benchmark Execution and Timing**
- **Parent:** SPEC-QUARRY-0028
- **Source:** REQ-208, SSOT Section 8.10
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Execute benchmarks multiple iterations.
  - Measure execution time with high precision.
  - Warm up CPU caches before timing.
- **Semantics:** Measures performance.
- **Edge Cases:** Short benchmarks, noisy measurements.
- **Failure Modes:** None (benchmarks don't fail, they measure).
- **Dependencies:** ATOM-QUARRY-0028-001, timing utilities.
- **Tests Required:** Test timing accuracy.

**ATOM-QUARRY-0028-003: Statistical Analysis**
- **Parent:** SPEC-QUARRY-0028
- **Source:** REQ-208, SSOT Section 8.10
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Calculate mean, median, std dev, percentiles.
  - Detect outliers.
  - Report statistical summary.
- **Semantics:** Analyzes benchmark results.
- **Edge Cases:** High variance, bimodal distributions.
- **Failure Modes:** None (analysis is informational).
- **Dependencies:** ATOM-QUARRY-0028-002.
- **Tests Required:** Test statistical calculations.

================================================================================
ATOM Decomposition: SPEC-QUARRY-0029 (Example Testing and Documentation)
================================================================================

**Parent LEAF:** SPEC-QUARRY-0029: Example Testing and Documentation
**Source:** REQ-209, SSOT Section 8.11
**Decomposition Rationale:** Doc testing requires example extraction, compilation, and execution.

**ATOM-QUARRY-0029-001: Example Code Extraction**
- **Parent:** SPEC-QUARRY-0029
- **Source:** REQ-209, SSOT Section 8.11
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Extract code examples from doc comments.
  - Parse /// comment blocks for code fences.
- **Semantics:** Finds testable examples.
- **Edge Cases:** Multi-file examples, setup code.
- **Failure Modes:** None (extraction is parsing).
- **Dependencies:** Doc comment parsing.
- **Tests Required:** Test extraction.

**ATOM-QUARRY-0029-002: Example Compilation**
- **Parent:** SPEC-QUARRY-0029
- **Source:** REQ-209, SSOT Section 8.11
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Compile extracted examples as separate programs.
  - Add necessary imports and boilerplate.
- **Semantics:** Validates example correctness.
- **Edge Cases:** Compilation errors, missing dependencies.
- **Failure Modes:** ERR-DOCTEST-001 (example doesn't compile).
- **Dependencies:** ATOM-QUARRY-0029-001, compiler.
- **Tests Required:** Test example compilation.

**ATOM-QUARRY-0029-003: Example Execution Validation**
- **Parent:** SPEC-QUARRY-0029
- **Source:** REQ-209, SSOT Section 8.11
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Execute compiled examples.
  - Validate output matches expectations.
  - Report execution failures.
- **Semantics:** Tests example behavior.
- **Edge Cases:** Expected panics, output variations.
- **Failure Modes:** ERR-DOCTEST-002 (example execution failed).
- **Dependencies:** ATOM-QUARRY-0029-002.
- **Tests Required:** Test execution.

================================================================================
ATOM Decomposition: SPEC-QUARRY-0038 (Reproducible Builds)
================================================================================

**Parent LEAF:** SPEC-QUARRY-0038: Reproducible Builds
**Source:** REQ-222, SSOT Section 8.16
**Decomposition Rationale:** Reproducible builds require determinism enforcement, timestamp normalization, and verification.

**ATOM-QUARRY-0038-001: Build Determinism Enforcement**
- **Parent:** SPEC-QUARRY-0038
- **Source:** REQ-222, SSOT Section 8.16
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Remove non-deterministic inputs (timestamps, random, env vars).
  - Sort inputs consistently.
  - Use deterministic algorithms.
- **Semantics:** Ensures consistent builds.
- **Edge Cases:** Platform differences, tool versions.
- **Failure Modes:** None (enforcement is build-time).
- **Dependencies:** Build system.
- **Tests Required:** Test reproducibility.

**ATOM-QUARRY-0038-002: Timestamp Normalization**
- **Parent:** SPEC-QUARRY-0038
- **Source:** REQ-222, SSOT Section 8.16
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Use SOURCE_DATE_EPOCH for all timestamps.
  - Normalize file modification times.
- **Semantics:** Removes timestamp variance.
- **Edge Cases:** Missing env var, timezone issues.
- **Failure Modes:** None (uses defaults).
- **Dependencies:** ATOM-QUARRY-0038-001.
- **Tests Required:** Test timestamp normalization.

**ATOM-QUARRY-0038-003: Build Verification**
- **Parent:** SPEC-QUARRY-0038
- **Source:** REQ-222, SSOT Section 8.16
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Compare binary checksums across builds.
  - Verify bit-for-bit reproducibility.
- **Semantics:** Validates reproducibility.
- **Edge Cases:** Metadata differences, debug info.
- **Failure Modes:** WARN (build not reproducible).
- **Dependencies:** ATOM-QUARRY-0038-002.
- **Tests Required:** Test verification.

================================================================================
ATOM Decomposition: SPEC-LANG-0218 (Primitive Integer Types)
================================================================================

**Parent LEAF:** SPEC-LANG-0218: Primitive Integer Types
**Source:** REQ-101, SSOT Section 4.10
**Decomposition Rationale:** Integer types require type definitions, operation support, and overflow behavior.

**ATOM-LANG-0218-001: Integer Type Definitions**
- **Parent:** SPEC-LANG-0218
- **Source:** REQ-101, SSOT Section 4.10
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Define i8, i16, i32, i64, u8, u16, u32, u64.
  - Specify bit widths and signedness.
- **Semantics:** Defines integer types.
- **Edge Cases:** None.
- **Failure Modes:** None (type definitions).
- **Dependencies:** None.
- **Tests Required:** Test type availability.

**ATOM-LANG-0218-002: Integer Arithmetic Operations**
- **Parent:** SPEC-LANG-0218
- **Source:** REQ-101, SSOT Section 4.10
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Support +, -, *, /, % operations.
  - Generate appropriate LLVM instructions.
- **Semantics:** Implements integer arithmetic.
- **Edge Cases:** Division by zero, modulo by zero.
- **Failure Modes:** Panic on divide by zero.
- **Dependencies:** ATOM-LANG-0218-001.
- **Tests Required:** Test operations.

**ATOM-LANG-0218-003: Overflow Behavior**
- **Parent:** SPEC-LANG-0218
- **Source:** REQ-101, SSOT Section 4.10
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Define overflow behavior (wrapping by default).
  - Support checked operations (check_add, etc.).
  - Support saturating operations.
- **Semantics:** Specifies overflow handling.
- **Edge Cases:** Debug vs release overflow, saturating edge cases.
- **Failure Modes:** Panic on overflow in checked operations.
- **Dependencies:** ATOM-LANG-0218-002.
- **Tests Required:** Test overflow behavior.

================================================================================
ATOM Decomposition: SPEC-LANG-0219 (Primitive Floating-point Types)
================================================================================

**Parent LEAF:** SPEC-LANG-0219: Primitive Floating-point Types
**Source:** REQ-102, SSOT Section 4.10
**Decomposition Rationale:** Float types require type definitions, IEEE 754 compliance, and special value handling.

**ATOM-LANG-0219-001: Float Type Definitions**
- **Parent:** SPEC-LANG-0219
- **Source:** REQ-102, SSOT Section 4.10
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Define f32 (IEEE 754 binary32) and f64 (IEEE 754 binary64).
  - Specify precision and range.
- **Semantics:** Defines float types.
- **Edge Cases:** None.
- **Failure Modes:** None (type definitions).
- **Dependencies:** None.
- **Tests Required:** Test type availability.

**ATOM-LANG-0219-002: IEEE 754 Compliance**
- **Parent:** SPEC-LANG-0219
- **Source:** REQ-102, SSOT Section 4.10
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Implement IEEE 754 semantics for operations.
  - Handle rounding modes.
  - Support denormalized numbers.
- **Semantics:** Ensures standards compliance.
- **Edge Cases:** Subnormals, rounding edge cases.
- **Failure Modes:** None (behavior is defined by IEEE 754).
- **Dependencies:** ATOM-LANG-0219-001.
- **Tests Required:** Test IEEE 754 compliance.

**ATOM-LANG-0219-003: Special Value Handling**
- **Parent:** SPEC-LANG-0219
- **Source:** REQ-102, SSOT Section 4.10
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Support inf, -inf, NaN values.
  - Implement special value arithmetic.
  - Provide is_nan(), is_infinite() methods.
- **Semantics:** Handles special floats.
- **Edge Cases:** NaN comparisons, inf arithmetic.
- **Failure Modes:** None (special values are defined).
- **Dependencies:** ATOM-LANG-0219-002.
- **Tests Required:** Test special values.

================================================================================
ATOM Decomposition: SPEC-LANG-0220 (Primitive Character Type)
================================================================================

**Parent LEAF:** SPEC-LANG-0220: Primitive Character Type
**Source:** REQ-103, SSOT Section 4.10
**Decomposition Rationale:** Character type requires Unicode code point representation and validation.

**ATOM-LANG-0220-001: Character Type Definition**
- **Parent:** SPEC-LANG-0220
- **Source:** REQ-103, SSOT Section 4.10
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Define char as Unicode code point (32-bit).
  - Support range 0x0 to 0x10FFFF.
- **Semantics:** Defines character type.
- **Edge Cases:** None.
- **Failure Modes:** None (type definition).
- **Dependencies:** None.
- **Tests Required:** Test char type.

**ATOM-LANG-0220-002: Code Point Validation**
- **Parent:** SPEC-LANG-0220
- **Source:** REQ-103, SSOT Section 4.10
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Validate code point is in valid Unicode range.
  - Reject surrogate pairs (0xD800-0xDFFF).
  - Reject values > 0x10FFFF.
- **Semantics:** Ensures valid characters.
- **Edge Cases:** Invalid code points, edge of range.
- **Failure Modes:** ERR-CHAR-001 (invalid code point).
- **Dependencies:** ATOM-LANG-0220-001.
- **Tests Required:** Test validation.

**ATOM-LANG-0220-003: Character Operations**
- **Parent:** SPEC-LANG-0220
- **Source:** REQ-103, SSOT Section 4.10
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Support char comparison, ordering.
  - Provide is_alphabetic(), is_numeric(), etc. methods.
  - Support case conversion.
- **Semantics:** Provides character utilities.
- **Edge Cases:** Unicode categories, locale-specific behavior.
- **Failure Modes:** None (operations are defined).
- **Dependencies:** ATOM-LANG-0220-002.
- **Tests Required:** Test operations.

================================================================================
ATOM Decomposition: SPEC-LANG-0221 (String Type Semantics)
================================================================================

**Parent LEAF:** SPEC-LANG-0221: String Type Semantics
**Source:** REQ-104, SSOT Section 4.10
**Decomposition Rationale:** String type requires UTF-8 representation, string operations, and memory management.

**ATOM-LANG-0221-001: String Type Definition**
- **Parent:** SPEC-LANG-0221
- **Source:** REQ-104, SSOT Section 4.10
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Define String as owned, growable UTF-8 byte buffer.
  - Store length and capacity.
- **Semantics:** Defines string type.
- **Edge Cases:** Empty strings, large strings.
- **Failure Modes:** None (type definition).
- **Dependencies:** Memory allocator.
- **Tests Required:** Test string type.

**ATOM-LANG-0221-002: UTF-8 Validation**
- **Parent:** SPEC-LANG-0221
- **Source:** REQ-104, SSOT Section 4.10
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Validate all string data is valid UTF-8.
  - Reject invalid byte sequences.
  - Maintain UTF-8 invariant.
- **Semantics:** Ensures string validity.
- **Edge Cases:** Invalid UTF-8, conversion from bytes.
- **Failure Modes:** ERR-STRING-001 (invalid UTF-8).
- **Dependencies:** ATOM-LANG-0221-001.
- **Tests Required:** Test UTF-8 validation.

**ATOM-LANG-0221-003: String Operations**
- **Parent:** SPEC-LANG-0221
- **Source:** REQ-104, SSOT Section 4.10
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Support concatenation, slicing, searching.
  - Provide len(), is_empty(), contains() methods.
  - Implement string iteration (chars, bytes).
- **Semantics:** Provides string operations.
- **Edge Cases:** Grapheme clusters, combining marks.
- **Failure Modes:** None (operations are safe).
- **Dependencies:** ATOM-LANG-0221-002.
- **Tests Required:** Test all operations.

================================================================================
ATOM Decomposition: SPEC-LANG-0222 (Unit Type)
================================================================================

**Parent LEAF:** SPEC-LANG-0222: Unit Type
**Source:** REQ-105, SSOT Section 4.10
**Decomposition Rationale:** Unit type requires type definition and void function handling.

**ATOM-LANG-0222-001: Unit Type Definition**
- **Parent:** SPEC-LANG-0222
- **Source:** REQ-105, SSOT Section 4.10
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Define () unit type.
  - Zero-sized type.
- **Semantics:** Defines empty type.
- **Edge Cases:** None.
- **Failure Modes:** None (type definition).
- **Dependencies:** None.
- **Tests Required:** Test unit type.

**ATOM-LANG-0222-002: Void Function Return**
- **Parent:** SPEC-LANG-0222
- **Source:** REQ-105, SSOT Section 4.10
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Use unit type for functions with no return value.
  - Generate void returns in LLVM IR.
- **Semantics:** Represents no return value.
- **Edge Cases:** Explicit unit returns.
- **Failure Modes:** None (unit is always available).
- **Dependencies:** ATOM-LANG-0222-001.
- **Tests Required:** Test void functions.

================================================================================
ATOM Decomposition: SPEC-LANG-0223 (Slice Types)
================================================================================

**Parent LEAF:** SPEC-LANG-0223: Slice Types
**Source:** REQ-106, SSOT Section 4.10
**Decomposition Rationale:** Slice types require unsized type handling, fat pointer representation, and slice operations.

**ATOM-LANG-0223-001: Slice Type Definition**
- **Parent:** SPEC-LANG-0223
- **Source:** REQ-106, SSOT Section 4.10
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Define [T] unsized slice type.
  - Always behind pointer (&[T], &mut [T]).
- **Semantics:** Defines slice type.
- **Edge Cases:** Empty slices, large slices.
- **Failure Modes:** None (type definition).
- **Dependencies:** Type system.
- **Tests Required:** Test slice type.

**ATOM-LANG-0223-002: Fat Pointer Representation**
- **Parent:** SPEC-LANG-0223
- **Source:** REQ-106, SSOT Section 4.10
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Represent slice references as (pointer, length) pair.
  - Store both data pointer and element count.
- **Semantics:** Implements slice pointers.
- **Edge Cases:** Alignment, size calculation.
- **Failure Modes:** None (representation is internal).
- **Dependencies:** ATOM-LANG-0223-001.
- **Tests Required:** Test fat pointer layout.

**ATOM-LANG-0223-003: Slice Operations**
- **Parent:** SPEC-LANG-0223
- **Source:** REQ-106, SSOT Section 4.10
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Support indexing, slicing, iteration.
  - Provide len(), is_empty() methods.
  - Support slice patterns in match.
- **Semantics:** Provides slice operations.
- **Edge Cases:** Out of bounds, empty slices.
- **Failure Modes:** Panic on out of bounds access.
- **Dependencies:** ATOM-LANG-0223-002.
- **Tests Required:** Test operations.

================================================================================
ATOM Decomposition: SPEC-LANG-0221 (String Type Semantics) - CONTINUED
================================================================================

**ATOM-LANG-0221-004: String Growth and Capacity**
- **Parent:** SPEC-LANG-0221
- **Source:** REQ-104, SSOT Section 4.10
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Implement capacity management like List.
  - Grow string buffer geometrically.
- **Semantics:** Manages string memory.
- **Edge Cases:** Large strings, many concatenations.
- **Failure Modes:** OOM on growth.
- **Dependencies:** ATOM-LANG-0221-001, allocator.
- **Tests Required:** Test growth, test capacity.

**ATOM-LANG-0221-005: String Mutation Operations**
- **Parent:** SPEC-LANG-0221
- **Source:** REQ-104, SSOT Section 4.10
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Support push_str, truncate, clear operations.
  - Maintain UTF-8 validity during mutations.
- **Semantics:** Modifies strings in-place.
- **Edge Cases:** Invalid UTF-8 after mutation.
- **Failure Modes:** ERR-STRING-002 (mutation breaks UTF-8).
- **Dependencies:** ATOM-LANG-0221-002.
- **Tests Required:** Test mutations, test UTF-8 preservation.

================================================================================
ATOM Decomposition: SPEC-FORGE-0002 (Type Checking Driver)
================================================================================

**Parent LEAF:** SPEC-FORGE-0002: Type Checking Driver
**Source:** REQ-086, SSOT Section 2.2
**Decomposition Rationale:** Type checking driver requires traversal, checking dispatch, and error collection.

**ATOM-FORGE-0002-001: AST Traversal for Type Checking**
- **Parent:** SPEC-FORGE-0002
- **Source:** REQ-086, SSOT Section 2.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Traverse AST in dependency order.
  - Visit all nodes requiring type checking.
- **Semantics:** Orchestrates type checking.
- **Edge Cases:** Circular type dependencies.
- **Failure Modes:** None (traversal is systematic).
- **Dependencies:** AST.
- **Tests Required:** Test traversal.

**ATOM-FORGE-0002-002: Type Checking Dispatch**
- **Parent:** SPEC-FORGE-0002
- **Source:** REQ-086, SSOT Section 2.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Dispatch to appropriate type checker per node type.
  - Handle expressions, statements, declarations.
- **Semantics:** Routes to type checkers.
- **Edge Cases:** Unknown node types.
- **Failure Modes:** ERR-INTERNAL-001 (unknown node).
- **Dependencies:** ATOM-FORGE-0002-001, type system LEAFs.
- **Tests Required:** Test dispatch.

**ATOM-FORGE-0002-003: Type Error Collection**
- **Parent:** SPEC-FORGE-0002
- **Source:** REQ-086, SSOT Section 2.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Collect all type errors during traversal.
  - Continue after errors for multi-error reporting.
- **Semantics:** Gathers all type errors.
- **Edge Cases:** Many errors, cascading errors.
- **Failure Modes:** None (collection continues).
- **Dependencies:** ATOM-FORGE-0002-002.
- **Tests Required:** Test error collection.

================================================================================
ATOM Decomposition: SPEC-FORGE-0003 (Borrow Checking Driver)
================================================================================

**Parent LEAF:** SPEC-FORGE-0003: Borrow Checking Driver
**Source:** REQ-106, SSOT Section 2.2
**Decomposition Rationale:** Borrow checking driver requires CFG construction, analysis execution, and error reporting.

**ATOM-FORGE-0003-001: Per-Function CFG Construction**
- **Parent:** SPEC-FORGE-0003
- **Source:** REQ-106, SSOT Section 2.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Build CFG for each function.
  - Prepare for dataflow analysis.
- **Semantics:** Prepares for borrow checking.
- **Edge Cases:** Complex functions, nested closures.
- **Failure Modes:** None (CFG construction).
- **Dependencies:** AST, SPEC-LANG-0306.
- **Tests Required:** Test CFG building.

**ATOM-FORGE-0003-002: Borrow Analysis Execution**
- **Parent:** SPEC-FORGE-0003
- **Source:** REQ-106, SSOT Section 2.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Run borrow checker on each function CFG.
  - Detect all borrow violations.
- **Semantics:** Performs borrow checking.
- **Edge Cases:** Complex borrowing patterns.
- **Failure Modes:** Borrow errors detected.
- **Dependencies:** ATOM-FORGE-0003-001, borrow checker LEAFs.
- **Tests Required:** Test borrow checking.

**ATOM-FORGE-0003-003: Borrow Error Aggregation**
- **Parent:** SPEC-FORGE-0003
- **Source:** REQ-106, SSOT Section 2.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Collect all borrow errors.
  - Organize by severity and location.
- **Semantics:** Gathers borrow violations.
- **Edge Cases:** Many errors, related errors.
- **Failure Modes:** None (aggregation continues).
- **Dependencies:** ATOM-FORGE-0003-002.
- **Tests Required:** Test aggregation.

================================================================================
ATOM Decomposition: SPEC-FORGE-0005 (Linker Integration)
================================================================================

**Parent LEAF:** SPEC-FORGE-0005: Linker Integration
**Source:** REQ-002, SSOT Section 2.5
**Decomposition Rationale:** Linker integration requires linker invocation, symbol resolution, and binary generation.

**ATOM-FORGE-0005-001: Linker Command Generation**
- **Parent:** SPEC-FORGE-0005
- **Source:** REQ-002, SSOT Section 2.5
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Generate linker command with all object files.
  - Include library paths and link libraries.
  - Set output binary path.
- **Semantics:** Prepares linker invocation.
- **Edge Cases:** Many objects, complex link dependencies.
- **Failure Modes:** None (command generation).
- **Dependencies:** Build system.
- **Tests Required:** Test command generation.

**ATOM-FORGE-0005-002: Symbol Resolution**
- **Parent:** SPEC-FORGE-0005
- **Source:** REQ-002, SSOT Section 2.5
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Resolve symbols across object files.
  - Handle undefined symbols.
  - Report linker errors.
- **Semantics:** Links program components.
- **Edge Cases:** Symbol collisions, weak symbols.
- **Failure Modes:** ERR-LINK-001 (undefined symbol).
- **Dependencies:** ATOM-FORGE-0005-001, codegen.
- **Tests Required:** Test symbol resolution.

**ATOM-FORGE-0005-003: Binary Output Generation**
- **Parent:** SPEC-FORGE-0005
- **Source:** REQ-002, SSOT Section 2.5
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Generate final executable or library.
  - Set executable permissions.
  - Apply strip if requested.
- **Semantics:** Produces final binary.
- **Edge Cases:** Static vs dynamic linking, cross-compilation.
- **Failure Modes:** ERR-LINK-002 (link failed).
- **Dependencies:** ATOM-FORGE-0005-002, linker.
- **Tests Required:** Test binary generation.

================================================================================
ATOM Decomposition: SPEC-FORGE-0006 (Semantic Analysis Driver)
================================================================================

**Parent LEAF:** SPEC-FORGE-0006: Semantic Analysis Driver
**Source:** REQ-085+, SSOT Section 2.2
**Decomposition Rationale:** Semantic analysis driver orchestrates multiple analysis passes.

**ATOM-FORGE-0006-001: Name Resolution Pass**
- **Parent:** SPEC-FORGE-0006
- **Source:** REQ-085+, SSOT Section 2.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Resolve all identifiers to definitions.
  - Build symbol tables.
- **Semantics:** Links names to declarations.
- **Edge Cases:** Name shadowing, forward references.
- **Failure Modes:** ERR-NAME-001 (name not found).
- **Dependencies:** AST, module system.
- **Tests Required:** Test name resolution.

**ATOM-FORGE-0006-002: Type Checking Pass**
- **Parent:** SPEC-FORGE-0006
- **Source:** REQ-085+, SSOT Section 2.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Run type inference and checking.
  - Verify all types are valid.
- **Semantics:** Ensures type safety.
- **Edge Cases:** Generic instantiation, trait resolution.
- **Failure Modes:** Various type errors.
- **Dependencies:** ATOM-FORGE-0006-001, type system.
- **Tests Required:** Test type checking.

**ATOM-FORGE-0006-003: Ownership and Borrow Checking Pass**
- **Parent:** SPEC-FORGE-0006
- **Source:** REQ-104+, SSOT Section 2.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Run ownership and borrow checkers.
  - Verify memory safety.
- **Semantics:** Ensures memory safety.
- **Edge Cases:** Complex ownership patterns.
- **Failure Modes:** Ownership/borrow errors.
- **Dependencies:** ATOM-FORGE-0006-002, ownership system.
- **Tests Required:** Test ownership checking.

================================================================================
ATOM Decomposition: SPEC-FORGE-0007 (IR Generation Pipeline)
================================================================================

**Parent LEAF:** SPEC-FORGE-0007: IR Generation Pipeline
**Source:** REQ-002, SSOT Section 2.3
**Decomposition Rationale:** IR generation pipeline requires lowering, IR building, and module finalization.

**ATOM-FORGE-0007-001: AST to IR Lowering**
- **Parent:** SPEC-FORGE-0007
- **Source:** REQ-002, SSOT Section 2.3
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Lower high-level AST constructs to LLVM IR.
  - Handle all language constructs.
- **Semantics:** Transforms AST to IR.
- **Edge Cases:** Complex constructs, nested structures.
- **Failure Modes:** ERR-LOWER-001 (lowering failed).
- **Dependencies:** AST, type information.
- **Tests Required:** Test lowering.

**ATOM-FORGE-0007-002: IR Builder Orchestration**
- **Parent:** SPEC-FORGE-0007
- **Source:** REQ-002, SSOT Section 2.3
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Use LLVM Builder to construct IR.
  - Manage basic blocks and insertion points.
- **Semantics:** Builds IR incrementally.
- **Edge Cases:** Control flow, phi nodes.
- **Failure Modes:** None (builder manages correctness).
- **Dependencies:** ATOM-FORGE-0007-001, SPEC-FORGE-0024.
- **Tests Required:** Test IR building.

**ATOM-FORGE-0007-003: Module Finalization**
- **Parent:** SPEC-FORGE-0007
- **Source:** REQ-002, SSOT Section 2.3
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Finalize LLVM module.
  - Verify module integrity.
  - Write bitcode or object file.
- **Semantics:** Completes IR generation.
- **Edge Cases:** Incomplete functions, invalid IR.
- **Failure Modes:** ERR-IR-001 (invalid module).
- **Dependencies:** ATOM-FORGE-0007-002.
- **Tests Required:** Test finalization.

================================================================================
ATOM Decomposition: SPEC-FORGE-0008 (Debug Information Generation)
================================================================================

**Parent LEAF:** SPEC-FORGE-0008: Debug Information Generation
**Source:** REQ-026, SSOT Section 2.6
**Decomposition Rationale:** Debug info requires metadata generation, line mapping, and variable tracking.

**ATOM-FORGE-0008-001: Debug Metadata Generation**
- **Parent:** SPEC-FORGE-0008
- **Source:** REQ-026, SSOT Section 2.6
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Generate DWARF debug info.
  - Include compilation unit, file info.
- **Semantics:** Produces debug metadata.
- **Edge Cases:** Large programs, optimized code.
- **Failure Modes:** None (debug info is optional).
- **Dependencies:** Codegen.
- **Tests Required:** Test debug info generation.

**ATOM-FORGE-0008-002: Source Line Mapping**
- **Parent:** SPEC-FORGE-0008
- **Source:** REQ-026, SSOT Section 2.6
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Map IR instructions to source locations.
  - Include file, line, column info.
- **Semantics:** Enables source-level debugging.
- **Edge Cases:** Generated code, macro expansions.
- **Failure Modes:** None (mapping is best-effort).
- **Dependencies:** ATOM-FORGE-0008-001.
- **Tests Required:** Test line mapping.

**ATOM-FORGE-0008-003: Variable Debug Info**
- **Parent:** SPEC-FORGE-0008
- **Source:** REQ-026, SSOT Section 2.6
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Emit debug info for local variables.
  - Include variable names, types, locations.
- **Semantics:** Enables variable inspection.
- **Edge Cases:** Optimized away variables, registers.
- **Failure Modes:** None (variables may be unavailable).
- **Dependencies:** ATOM-FORGE-0008-002.
- **Tests Required:** Test variable debug info.

================================================================================
ATOM Decomposition: SPEC-LANG-0107 (Field Access Parsing) - EXPANDED
================================================================================

**ATOM-LANG-0107-004: Method vs Field Disambiguation**
- **Parent:** SPEC-LANG-0107
- **Source:** REQ-068, SSOT Section 3.3
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Distinguish field access from method call (no parens).
  - Check if identifier is field or method.
- **Semantics:** Resolves ambiguous dot notation.
- **Edge Cases:** Field and method with same name.
- **Failure Modes:** ERR-AMBIGUOUS-001 (ambiguous access).
- **Dependencies:** ATOM-LANG-0107-001, type info.
- **Tests Required:** Test disambiguation.

================================================================================
ATOM Decomposition: SPEC-QUARRY-0011 (Package Manifest Parsing)
================================================================================

**Parent LEAF:** SPEC-QUARRY-0011: Package Manifest Parsing
**Source:** REQ-169, SSOT Section 8.5
**Decomposition Rationale:** Manifest parsing requires TOML parsing, section extraction, and schema validation.

**ATOM-QUARRY-0011-001: TOML Document Parsing**
- **Parent:** SPEC-QUARRY-0011
- **Source:** REQ-169, SSOT Section 8.5
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Parse Quarry.toml as TOML document.
  - Handle syntax errors gracefully.
- **Semantics:** Reads manifest file.
- **Edge Cases:** Malformed TOML, encoding issues.
- **Failure Modes:** ERR-MANIFEST-001 (parse error).
- **Dependencies:** TOML library.
- **Tests Required:** Test TOML parsing.

**ATOM-QUARRY-0011-002: Manifest Section Extraction**
- **Parent:** SPEC-QUARRY-0011
- **Source:** REQ-169, SSOT Section 8.5
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Extract [package], [dependencies], [dev-dependencies] sections.
  - Parse each section's structure.
- **Semantics:** Organizes manifest data.
- **Edge Cases:** Missing sections, unknown sections.
- **Failure Modes:** ERR-MANIFEST-002 (missing required section).
- **Dependencies:** ATOM-QUARRY-0011-001.
- **Tests Required:** Test section extraction.

**ATOM-QUARRY-0011-003: Manifest Schema Validation**
- **Parent:** SPEC-QUARRY-0011
- **Source:** REQ-169, SSOT Section 8.5
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Validate manifest against schema.
  - Check required fields, types, formats.
- **Semantics:** Ensures valid manifest.
- **Edge Cases:** Schema evolution, forward compatibility.
- **Failure Modes:** ERR-MANIFEST-003 (invalid manifest).
- **Dependencies:** ATOM-QUARRY-0011-002.
- **Tests Required:** Test schema validation.

================================================================================
ATOM Decomposition: SPEC-QUARRY-0013 (Dependency Graph Construction)
================================================================================

**Parent LEAF:** SPEC-QUARRY-0013: Dependency Graph Construction
**Source:** REQ-171, SSOT Section 8.4
**Decomposition Rationale:** Graph construction requires node creation, edge creation, and cycle detection.

**ATOM-QUARRY-0013-001: Dependency Node Creation**
- **Parent:** SPEC-QUARRY-0013
- **Source:** REQ-171, SSOT Section 8.4
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Create graph nodes for each package.
  - Store package metadata in nodes.
- **Semantics:** Represents packages as nodes.
- **Edge Cases:** Virtual packages, platform-specific.
- **Failure Modes:** None (node creation).
- **Dependencies:** None.
- **Tests Required:** Test node creation.

**ATOM-QUARRY-0013-002: Dependency Edge Creation**
- **Parent:** SPEC-QUARRY-0013
- **Source:** REQ-171, SSOT Section 8.4
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Create edges for each dependency relationship.
  - Include version constraints on edges.
- **Semantics:** Represents dependencies.
- **Edge Cases:** Cyclic dependencies, dev dependencies.
- **Failure Modes:** None (edge creation).
- **Dependencies:** ATOM-QUARRY-0013-001.
- **Tests Required:** Test edge creation.

**ATOM-QUARRY-0013-003: Graph Cycle Detection**
- **Parent:** SPEC-QUARRY-0013
- **Source:** REQ-171, SSOT Section 8.4
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Detect cycles in dependency graph.
  - Report cyclic dependencies.
- **Semantics:** Validates acyclic property.
- **Edge Cases:** Self-loops, complex cycles.
- **Failure Modes:** ERR-DEP-001 (cyclic dependency).
- **Dependencies:** ATOM-QUARRY-0013-002.
- **Tests Required:** Test cycle detection.

================================================================================
ATOM Decomposition: SPEC-LANG-0215 (Function Signature Compatibility)
================================================================================

**Parent LEAF:** SPEC-LANG-0215: Function Signature Compatibility
**Source:** REQ-098, SSOT Section 4.8
**Decomposition Rationale:** Signature compatibility requires variance checking, parameter comparison, and return type checking.

**ATOM-LANG-0215-001: Parameter Contravariance**
- **Parent:** SPEC-LANG-0215
- **Source:** REQ-098, SSOT Section 4.8
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Check parameter types contravariantly.
  - Allow more general parameters in subtype.
- **Semantics:** Implements parameter variance.
- **Edge Cases:** Generic parameters, lifetime variance.
- **Failure Modes:** ERR-TYPE-025 (signature incompatible).
- **Dependencies:** Type system.
- **Tests Required:** Test contravariance.

**ATOM-LANG-0215-002: Return Type Covariance**
- **Parent:** SPEC-LANG-0215
- **Source:** REQ-098, SSOT Section 4.8
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Check return types covariantly.
  - Allow more specific returns in subtype.
- **Semantics:** Implements return variance.
- **Edge Cases:** Generic returns, Result types.
- **Failure Modes:** ERR-TYPE-026 (return type incompatible).
- **Dependencies:** ATOM-LANG-0215-001.
- **Tests Required:** Test covariance.

**ATOM-LANG-0215-003: Signature Compatibility Judgment**
- **Parent:** SPEC-LANG-0215
- **Source:** REQ-098, SSOT Section 4.8
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Combine parameter and return checking.
  - Determine if signatures are compatible.
- **Semantics:** Judges compatibility.
- **Edge Cases:** Complex signatures, lifetimes.
- **Failure Modes:** None (returns boolean).
- **Dependencies:** ATOM-LANG-0215-002.
- **Tests Required:** Test judgment logic.

================================================================================
ATOM Decomposition: SPEC-QUARRY-0101 (Performance Profiling)
================================================================================

**Parent LEAF:** SPEC-QUARRY-0101: Performance Profiling (quarry profile)
**Source:** REQ-231, SSOT Section 8.11
**Decomposition Rationale:** Profiling requires instrumentation, data collection, and analysis.

**ATOM-QUARRY-0101-001: Profiling Instrumentation**
- **Parent:** SPEC-QUARRY-0101
- **Source:** REQ-231, SSOT Section 8.11
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Insert timing instrumentation at function boundaries.
  - Track call counts and execution time.
- **Semantics:** Instruments code for profiling.
- **Edge Cases:** Inline functions, recursive calls.
- **Failure Modes:** None (instrumentation is compile-time).
- **Dependencies:** Codegen.
- **Tests Required:** Test instrumentation.

**ATOM-QUARRY-0101-002: Profile Data Collection**
- **Parent:** SPEC-QUARRY-0101
- **Source:** REQ-231, SSOT Section 8.11
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Collect timing data at runtime.
  - Store in profiling data structure.
  - Write profile data to file.
- **Semantics:** Captures performance data.
- **Edge Cases:** High overhead, large data.
- **Failure Modes:** ERR-PROFILE-003 (data collection failed).
- **Dependencies:** ATOM-QUARRY-0101-001, runtime.
- **Tests Required:** Test data collection.

**ATOM-QUARRY-0101-003: Profile Analysis and Reporting**
- **Parent:** SPEC-QUARRY-0101
- **Source:** REQ-231, SSOT Section 8.11
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Analyze profile data.
  - Identify hot functions and bottlenecks.
  - Generate flame graphs and reports.
- **Semantics:** Analyzes performance.
- **Edge Cases:** Complex call graphs, sampling errors.
- **Failure Modes:** None (analysis is post-processing).
- **Dependencies:** ATOM-QUARRY-0101-002.
- **Tests Required:** Test analysis.

================================================================================
ATOM Decomposition: SPEC-QUARRY-0102 (Binary Size Analysis)
================================================================================

**Parent LEAF:** SPEC-QUARRY-0102: Binary Size Analysis (quarry bloat)
**Source:** REQ-232, SSOT Section 8.11
**Decomposition Rationale:** Size analysis requires section analysis, symbol attribution, and reporting.

**ATOM-QUARRY-0102-001: Binary Section Analysis**
- **Parent:** SPEC-QUARRY-0102
- **Source:** REQ-232, SSOT Section 8.11
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Parse binary sections (.text, .data, .rodata, etc.).
  - Calculate size of each section.
- **Semantics:** Analyzes binary structure.
- **Edge Cases:** Stripped binaries, debug info.
- **Failure Modes:** ERR-BLOAT-001 (cannot analyze binary).
- **Dependencies:** Binary parser.
- **Tests Required:** Test section analysis.

**ATOM-QUARRY-0102-002: Symbol Size Attribution**
- **Parent:** SPEC-QUARRY-0102
- **Source:** REQ-232, SSOT Section 8.11
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Attribute binary size to functions/types.
  - Build size map.
- **Semantics:** Identifies size contributors.
- **Edge Cases:** Inlined code, generic instantiations.
- **Failure Modes:** None (attribution is best-effort).
- **Dependencies:** ATOM-QUARRY-0102-001, symbol table.
- **Tests Required:** Test attribution.

**ATOM-QUARRY-0102-003: Size Report Generation**
- **Parent:** SPEC-QUARRY-0102
- **Source:** REQ-232, SSOT Section 8.11
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Generate size report showing largest contributors.
  - Support various output formats.
  - Visualize size distribution.
- **Semantics:** Reports size analysis.
- **Edge Cases:** Very large binaries, many symbols.
- **Failure Modes:** None (reporting always succeeds).
- **Dependencies:** ATOM-QUARRY-0102-002.
- **Tests Required:** Test report generation.

================================================================================
ATOM Decomposition: SPEC-QUARRY-0104 (Code Coverage Analysis)
================================================================================

**Parent LEAF:** SPEC-QUARRY-0104: Code Coverage Analysis (quarry coverage)
**Source:** REQ-234, SSOT Section 8.11
**Decomposition Rationale:** Coverage analysis requires instrumentation, data collection, and report generation.

**ATOM-QUARRY-0104-001: Coverage Instrumentation**
- **Parent:** SPEC-QUARRY-0104
- **Source:** REQ-234, SSOT Section 8.11
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Insert coverage counters at basic blocks.
  - Use LLVM coverage instrumentation.
- **Semantics:** Instruments for coverage tracking.
- **Edge Cases:** Optimized code, inline functions.
- **Failure Modes:** None (instrumentation is compile-time).
- **Dependencies:** Codegen.
- **Tests Required:** Test instrumentation.

**ATOM-QUARRY-0104-002: Coverage Data Collection**
- **Parent:** SPEC-QUARRY-0104
- **Source:** REQ-234, SSOT Section 8.11
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Collect coverage counters at runtime.
  - Write to .profraw or similar format.
- **Semantics:** Records execution coverage.
- **Edge Cases:** Crashes before data write.
- **Failure Modes:** Incomplete data on early exit.
- **Dependencies:** ATOM-QUARRY-0104-001, runtime.
- **Tests Required:** Test data collection.

**ATOM-QUARRY-0104-003: Coverage Report Generation**
- **Parent:** SPEC-QUARRY-0104
- **Source:** REQ-234, SSOT Section 8.11
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Process coverage data.
  - Generate line/branch coverage reports.
  - Support HTML and text formats.
- **Semantics:** Visualizes coverage.
- **Edge Cases:** Large codebases, many branches.
- **Failure Modes:** None (report generation).
- **Dependencies:** ATOM-QUARRY-0104-002.
- **Tests Required:** Test report generation.

================================================================================
ATOM Decomposition: SPEC-QUARRY-0105 (Dependency Audit Tool)
================================================================================

**Parent LEAF:** SPEC-QUARRY-0105: Dependency Audit Tool (quarry audit)
**Source:** REQ-235, SSOT Section 8.14
**Decomposition Rationale:** Security auditing requires vulnerability scanning, license checking, and compliance reporting.

**ATOM-QUARRY-0105-001: Vulnerability Database Integration**
- **Parent:** SPEC-QUARRY-0105
- **Source:** REQ-235, SSOT Section 8.14
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Integrate with security advisory databases.
  - Download vulnerability data.
- **Semantics:** Accesses vulnerability info.
- **Edge Cases:** Offline mode, database unavailable.
- **Failure Modes:** WARN (cannot check vulnerabilities).
- **Dependencies:** Network.
- **Tests Required:** Test integration.

**ATOM-QUARRY-0105-002: Vulnerability Scanning**
- **Parent:** SPEC-QUARRY-0105
- **Source:** REQ-235, SSOT Section 8.14
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Check each dependency against vulnerability database.
  - Report known vulnerabilities.
- **Semantics:** Detects security issues.
- **Edge Cases:** False positives, unpatched vulns.
- **Failure Modes:** None (scan reports findings).
- **Dependencies:** ATOM-QUARRY-0105-001.
- **Tests Required:** Test scanning.

**ATOM-QUARRY-0105-003: License Compliance Checking**
- **Parent:** SPEC-QUARRY-0105
- **Source:** REQ-235, SSOT Section 8.14
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Check dependency licenses.
  - Detect incompatible licenses.
  - Report license conflicts.
- **Semantics:** Ensures license compliance.
- **Edge Cases:** Complex license interactions, dual licensing.
- **Failure Modes:** WARN (license incompatibility).
- **Dependencies:** ATOM-QUARRY-0105-001.
- **Tests Required:** Test license checking.

================================================================================
ATOM Decomposition: SPEC-QUARRY-0106 (Publish to Registry)
================================================================================

**Parent LEAF:** SPEC-QUARRY-0106: Publish to Registry (quarry publish)
**Source:** REQ-215, SSOT Section 8.14
**Decomposition Rationale:** Publishing requires authentication, packaging, upload, and verification.

**ATOM-QUARRY-0106-001: Pre-publish Validation**
- **Parent:** SPEC-QUARRY-0106
- **Source:** REQ-215, SSOT Section 8.14
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Validate package builds successfully.
  - Run tests before publishing.
  - Check manifest completeness.
- **Semantics:** Ensures publishable quality.
- **Edge Cases:** Test failures, incomplete metadata.
- **Failure Modes:** ERR-PUBLISH-001 (validation failed).
- **Dependencies:** Build system, test system.
- **Tests Required:** Test validation.

**ATOM-QUARRY-0106-002: Package Archive Creation**
- **Parent:** SPEC-QUARRY-0106
- **Source:** REQ-215, SSOT Section 8.14
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Create .tar.gz archive of package sources.
  - Include only necessary files (exclude target/, .git/).
  - Calculate checksum.
- **Semantics:** Packages for upload.
- **Edge Cases:** Large packages, binary files.
- **Failure Modes:** ERR-PUBLISH-002 (packaging failed).
- **Dependencies:** ATOM-QUARRY-0106-001, file system.
- **Tests Required:** Test packaging.

**ATOM-QUARRY-0106-003: Registry Upload**
- **Parent:** SPEC-QUARRY-0106
- **Source:** REQ-215, SSOT Section 8.14
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Upload package archive to registry.
  - Submit package metadata.
  - Verify upload success.
- **Semantics:** Publishes package.
- **Edge Cases:** Network failures, quota limits.
- **Failure Modes:** ERR-PUBLISH-003 (upload failed).
- **Dependencies:** ATOM-QUARRY-0106-002, SPEC-QUARRY-0023.
- **Tests Required:** Test upload.

================================================================================
ATOM Decomposition: SPEC-FORGE-0011 (Monomorphization Engine)
================================================================================

**Parent LEAF:** SPEC-FORGE-0011: Monomorphization Engine
**Source:** REQ-087, SSOT Section 2.3
**Decomposition Rationale:** Monomorphization requires instantiation tracking, code generation, and deduplication.

**ATOM-FORGE-0011-001: Generic Instantiation Tracking**
- **Parent:** SPEC-FORGE-0011
- **Source:** REQ-087, SSOT Section 2.3
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Track generic instantiations (Type + concrete type args).
  - Build instantiation set.
- **Semantics:** Records needed instantiations.
- **Edge Cases:** Recursive generics, many instantiations.
- **Failure Modes:** None (tracking is internal).
- **Dependencies:** Type system.
- **Tests Required:** Test tracking.

**ATOM-FORGE-0011-002: Monomorphized Code Generation**
- **Parent:** SPEC-FORGE-0011
- **Source:** REQ-087, SSOT Section 2.3
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Generate specialized code for each instantiation.
  - Substitute type parameters with concrete types.
- **Semantics:** Creates specialized versions.
- **Edge Cases:** Code bloat, compilation time.
- **Failure Modes:** ERR-MONO-001 (monomorphization failed).
- **Dependencies:** ATOM-FORGE-0011-001, codegen.
- **Tests Required:** Test code generation.

**ATOM-FORGE-0011-003: Instantiation Deduplication**
- **Parent:** SPEC-FORGE-0011
- **Source:** REQ-087, SSOT Section 2.3
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Detect duplicate instantiations.
  - Reuse previously generated code.
  - Avoid redundant codegen.
- **Semantics:** Optimizes compilation.
- **Edge Cases:** Cross-crate generics, incremental compilation.
- **Failure Modes:** None (dedup is optimization).
- **Dependencies:** ATOM-FORGE-0011-002.
- **Tests Required:** Test deduplication.

================================================================================
ATOM Decomposition: SPEC-FORGE-0014 (Constant Folding)
================================================================================

**Parent LEAF:** SPEC-FORGE-0014: Constant Folding Optimization
**Source:** REQ-002, SSOT Section 2.4
**Decomposition Rationale:** Constant folding requires constant detection, evaluation, and replacement.

**ATOM-FORGE-0014-001: Constant Expression Detection**
- **Parent:** SPEC-FORGE-0014
- **Source:** REQ-002, SSOT Section 2.4
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Identify constant expressions in IR.
  - Check if all operands are constants.
- **Semantics:** Finds fold opportunities.
- **Edge Cases:** Partial constants, side effects.
- **Failure Modes:** None (detection is analysis).
- **Dependencies:** Optimizer.
- **Tests Required:** Test detection.

**ATOM-FORGE-0014-002: Compile-Time Expression Evaluation**
- **Parent:** SPEC-FORGE-0014
- **Source:** REQ-002, SSOT Section 2.4
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Evaluate constant expressions at compile time.
  - Compute result values.
- **Semantics:** Performs constant folding.
- **Edge Cases:** Overflow, undefined operations.
- **Failure Modes:** None (conservative folding).
- **Dependencies:** ATOM-FORGE-0014-001.
- **Tests Required:** Test evaluation.

**ATOM-FORGE-0014-003: Constant Replacement**
- **Parent:** SPEC-FORGE-0014
- **Source:** REQ-002, SSOT Section 2.4
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Replace expressions with computed constants.
  - Update IR with constant values.
- **Semantics:** Optimizes code.
- **Edge Cases:** Complex expressions, dependent calculations.
- **Failure Modes:** None (replacement is safe).
- **Dependencies:** ATOM-FORGE-0014-002.
- **Tests Required:** Test replacement.

================================================================================
ATOM Decomposition: SPEC-FORGE-0015 (Dead Code Elimination)
================================================================================

**Parent LEAF:** SPEC-FORGE-0015: Dead Code Elimination
**Source:** REQ-002, SSOT Section 2.4
**Decomposition Rationale:** DCE requires liveness analysis, dead code identification, and removal.

**ATOM-FORGE-0015-001: Liveness Analysis for DCE**
- **Parent:** SPEC-FORGE-0015
- **Source:** REQ-002, SSOT Section 2.4
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Perform liveness analysis on IR.
  - Identify live vs dead code.
- **Semantics:** Determines code reachability.
- **Edge Cases:** Complex control flow, exceptions.
- **Failure Modes:** None (analysis is conservative).
- **Dependencies:** IR, CFG.
- **Tests Required:** Test liveness analysis.

**ATOM-FORGE-0015-002: Dead Code Identification**
- **Parent:** SPEC-FORGE-0015
- **Source:** REQ-002, SSOT Section 2.4
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Mark instructions and blocks as dead.
  - Identify unreachable code paths.
- **Semantics:** Finds removable code.
- **Edge Cases:** Side effects, volatile operations.
- **Failure Modes:** None (identification is marking).
- **Dependencies:** ATOM-FORGE-0015-001.
- **Tests Required:** Test identification.

**ATOM-FORGE-0015-003: Dead Code Removal**
- **Parent:** SPEC-FORGE-0015
- **Source:** REQ-002, SSOT Section 2.4
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Remove dead instructions and blocks from IR.
  - Update CFG after removal.
- **Semantics:** Eliminates dead code.
- **Edge Cases:** Preserve side effects, debug assertions.
- **Failure Modes:** None (removal is safe).
- **Dependencies:** ATOM-FORGE-0015-002.
- **Tests Required:** Test removal.

================================================================================
ATOM Decomposition: SPEC-FORGE-0016 (Inlining Optimization)
================================================================================

**Parent LEAF:** SPEC-FORGE-0016: Function Inlining
**Source:** REQ-002, SSOT Section 2.4
**Decomposition Rationale:** Inlining requires heuristics, function copying, and call replacement.

**ATOM-FORGE-0016-001: Inline Heuristics**
- **Parent:** SPEC-FORGE-0016
- **Source:** REQ-002, SSOT Section 2.4
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Evaluate function size, call frequency.
  - Decide whether to inline.
- **Semantics:** Determines inline candidates.
- **Edge Cases:** Recursive functions, large functions.
- **Failure Modes:** None (heuristics are conservative).
- **Dependencies:** Profiling data (optional).
- **Tests Required:** Test heuristics.

**ATOM-FORGE-0016-002: Function Body Copying**
- **Parent:** SPEC-FORGE-0016
- **Source:** REQ-002, SSOT Section 2.4
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Copy function body to call site.
  - Remap variables and basic blocks.
- **Semantics:** Duplicates function code.
- **Edge Cases:** Multiple parameters, complex control flow.
- **Failure Modes:** None (copying is mechanical).
- **Dependencies:** ATOM-FORGE-0016-001.
- **Tests Required:** Test copying.

**ATOM-FORGE-0016-003: Call Site Replacement**
- **Parent:** SPEC-FORGE-0016
- **Source:** REQ-002, SSOT Section 2.4
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Replace call instruction with inlined body.
  - Bind parameters to arguments.
  - Handle return values.
- **Semantics:** Eliminates call overhead.
- **Edge Cases:** Multiple returns, exception handling.
- **Failure Modes:** None (replacement preserves semantics).
- **Dependencies:** ATOM-FORGE-0016-002.
- **Tests Required:** Test replacement.

================================================================================
ATOM Decomposition: SPEC-FORGE-0017 (Common Subexpression Elimination)
================================================================================

**Parent LEAF:** SPEC-FORGE-0017: Common Subexpression Elimination (CSE)
**Source:** REQ-002, SSOT Section 2.4
**Decomposition Rationale:** CSE requires expression hashing, equivalence detection, and elimination.

**ATOM-FORGE-0017-001: Expression Value Numbering**
- **Parent:** SPEC-FORGE-0017
- **Source:** REQ-002, SSOT Section 2.4
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Assign value numbers to expressions.
  - Use hash-based value numbering.
- **Semantics:** Identifies expressions.
- **Edge Cases:** Side effects, memory operations.
- **Failure Modes:** None (numbering is analysis).
- **Dependencies:** IR.
- **Tests Required:** Test value numbering.

**ATOM-FORGE-0017-002: Common Expression Detection**
- **Parent:** SPEC-FORGE-0017
- **Source:** REQ-002, SSOT Section 2.4
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Find expressions with same value number.
  - Check dominance relationships.
- **Semantics:** Finds redundant computations.
- **Edge Cases:** Non-dominating uses, control flow.
- **Failure Modes:** None (detection is conservative).
- **Dependencies:** ATOM-FORGE-0017-001.
- **Tests Required:** Test detection.

**ATOM-FORGE-0017-003: Redundant Expression Elimination**
- **Parent:** SPEC-FORGE-0017
- **Source:** REQ-002, SSOT Section 2.4
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Replace redundant computations with previous result.
  - Update use-def chains.
- **Semantics:** Eliminates redundancy.
- **Edge Cases:** Multiple uses, register pressure.
- **Failure Modes:** None (elimination is safe).
- **Dependencies:** ATOM-FORGE-0017-002.
- **Tests Required:** Test elimination.

================================================================================
ATOM Decomposition: SPEC-FORGE-0021 (Memory Optimization)
================================================================================

**Parent LEAF:** SPEC-FORGE-0021: Memory Optimization
**Source:** REQ-002, SSOT Section 2.4
**Decomposition Rationale:** Memory optimization requires alias analysis, memory coalescing, and stack optimization.

**ATOM-FORGE-0021-001: Alias Analysis**
- **Parent:** SPEC-FORGE-0021
- **Source:** REQ-002, SSOT Section 2.4
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Determine which pointers may alias.
  - Build alias information.
- **Semantics:** Analyzes pointer relationships.
- **Edge Cases:** Complex aliasing, type-based AA.
- **Failure Modes:** None (analysis is conservative).
- **Dependencies:** IR.
- **Tests Required:** Test alias analysis.

**ATOM-FORGE-0021-002: Memory Access Coalescing**
- **Parent:** SPEC-FORGE-0021
- **Source:** REQ-002, SSOT Section 2.4
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Combine adjacent memory accesses.
  - Use vector loads/stores when possible.
- **Semantics:** Optimizes memory operations.
- **Edge Cases:** Alignment, atomicity.
- **Failure Modes:** None (coalescing is safe).
- **Dependencies:** ATOM-FORGE-0021-001.
- **Tests Required:** Test coalescing.

**ATOM-FORGE-0021-003: Stack Slot Coalescing**
- **Parent:** SPEC-FORGE-0021
- **Source:** REQ-002, SSOT Section 2.4
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Reuse stack slots for non-overlapping lifetimes.
  - Reduce stack frame size.
- **Semantics:** Optimizes stack usage.
- **Edge Cases:** Many locals, long functions.
- **Failure Modes:** None (coalescing is safe).
- **Dependencies:** Liveness analysis.
- **Tests Required:** Test stack optimization.

================================================================================
ATOM Decomposition: SPEC-FORGE-0022 (Target Triple Selection)
================================================================================

**Parent LEAF:** SPEC-FORGE-0022: Target Triple Selection and Configuration
**Source:** REQ-002, SSOT Section 2.5
**Decomposition Rationale:** Target selection requires triple parsing, feature detection, and configuration.

**ATOM-FORGE-0022-001: Target Triple Parsing**
- **Parent:** SPEC-FORGE-0022
- **Source:** REQ-002, SSOT Section 2.5
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Parse target triple (arch-vendor-os-env).
  - Validate triple format.
- **Semantics:** Identifies compilation target.
- **Edge Cases:** Custom triples, unknown targets.
- **Failure Modes:** ERR-TARGET-001 (invalid triple).
- **Dependencies:** None.
- **Tests Required:** Test triple parsing.

**ATOM-FORGE-0022-002: Target Feature Detection**
- **Parent:** SPEC-FORGE-0022
- **Source:** REQ-002, SSOT Section 2.5
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Detect available CPU features for target.
  - Query LLVM target info.
- **Semantics:** Discovers target capabilities.
- **Edge Cases:** Unknown features, runtime detection.
- **Failure Modes:** None (uses defaults).
- **Dependencies:** ATOM-FORGE-0022-001, LLVM.
- **Tests Required:** Test feature detection.

**ATOM-FORGE-0022-003: Target Configuration**
- **Parent:** SPEC-FORGE-0022
- **Source:** REQ-002, SSOT Section 2.5
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Configure compiler for target.
  - Set data layout, pointer size, endianness.
- **Semantics:** Configures backend.
- **Edge Cases:** Cross-compilation, exotic targets.
- **Failure Modes:** ERR-TARGET-002 (unsupported target).
- **Dependencies:** ATOM-FORGE-0022-002, LLVM.
- **Tests Required:** Test configuration.

================================================================================
ATOM Decomposition: SPEC-FORGE-0023 (Error Recovery Mechanisms)
================================================================================

**Parent LEAF:** SPEC-FORGE-0023: Compiler Error Recovery Mechanisms
**Source:** REQ-025, SSOT Section 2.3
**Decomposition Rationale:** Error recovery requires error detection, recovery strategies, and state restoration.

**ATOM-FORGE-0023-001: Error Detection Points**
- **Parent:** SPEC-FORGE-0023
- **Source:** REQ-025, SSOT Section 2.3
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Identify error detection points across compiler phases.
  - Categorize error types.
- **Semantics:** Finds error boundaries.
- **Edge Cases:** Cascading errors, ambiguous errors.
- **Failure Modes:** None (detection is analysis).
- **Dependencies:** All compiler phases.
- **Tests Required:** Test error detection.

**ATOM-FORGE-0023-002: Recovery Strategy Selection**
- **Parent:** SPEC-FORGE-0023
- **Source:** REQ-025, SSOT Section 2.3
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Select appropriate recovery strategy per error type.
  - Use panic mode, phrase-level, or other strategies.
- **Semantics:** Chooses recovery approach.
- **Edge Cases:** Multiple error types, complex contexts.
- **Failure Modes:** None (recovery is best-effort).
- **Dependencies:** ATOM-FORGE-0023-001.
- **Tests Required:** Test strategy selection.

**ATOM-FORGE-0023-003: Compiler State Restoration**
- **Parent:** SPEC-FORGE-0023
- **Source:** REQ-025, SSOT Section 2.3
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Restore compiler to consistent state after error.
  - Resynchronize parsing/analysis.
- **Semantics:** Enables continued compilation.
- **Edge Cases:** Deeply nested errors, state corruption.
- **Failure Modes:** None (restoration is defensive).
- **Dependencies:** ATOM-FORGE-0023-002.
- **Tests Required:** Test state restoration.

================================================================================
ATOM Decomposition: SPEC-FORGE-0025 (Incremental Compilation Support)
================================================================================

**Parent LEAF:** SPEC-FORGE-0025: Incremental Compilation Support
**Source:** REQ-161, SSOT Section 2.7
**Decomposition Rationale:** Incremental compilation requires change detection, recompilation decision, and cache management.

**ATOM-FORGE-0025-001: Source Change Detection**
- **Parent:** SPEC-FORGE-0025
- **Source:** REQ-161, SSOT Section 2.7
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Track source file modifications.
  - Compute file fingerprints.
- **Semantics:** Detects changes.
- **Edge Cases:** Timestamp precision, content-based detection.
- **Failure Modes:** None (detection is comparison).
- **Dependencies:** File system.
- **Tests Required:** Test change detection.

**ATOM-FORGE-0025-002: Recompilation Decision Engine**
- **Parent:** SPEC-FORGE-0025
- **Source:** REQ-161, SSOT Section 2.7
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Determine which modules need recompilation.
  - Consider dependencies and change propagation.
- **Semantics:** Minimizes recompilation.
- **Edge Cases:** Transitive dependencies, macro changes.
- **Failure Modes:** None (conservative recompilation).
- **Dependencies:** ATOM-FORGE-0025-001, SPEC-QUARRY-0019.
- **Tests Required:** Test recompilation logic.

**ATOM-FORGE-0025-003: Compilation Artifact Reuse**
- **Parent:** SPEC-FORGE-0025
- **Source:** REQ-161, SSOT Section 2.7
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Reuse cached compilation artifacts.
  - Validate artifact freshness.
- **Semantics:** Speeds up builds.
- **Edge Cases:** Cache corruption, version mismatches.
- **Failure Modes:** Fallback to full recompilation.
- **Dependencies:** ATOM-FORGE-0025-002, cache system.
- **Tests Required:** Test artifact reuse.

================================================================================
ATOM Decomposition: SPEC-FORGE-0026 (Cross-Compilation Support)
================================================================================

**Parent LEAF:** SPEC-FORGE-0026: Cross-Compilation Support
**Source:** REQ-220, SSOT Section 2.8
**Decomposition Rationale:** Cross-compilation requires target validation, sysroot management, and linker configuration.

**ATOM-FORGE-0026-001: Target Compatibility Validation**
- **Parent:** SPEC-FORGE-0026
- **Source:** REQ-220, SSOT Section 2.8
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Validate target is supported.
  - Check toolchain availability.
- **Semantics:** Ensures cross-compilation feasibility.
- **Edge Cases:** Exotic targets, missing tools.
- **Failure Modes:** ERR-CROSS-001 (target not supported).
- **Dependencies:** SPEC-FORGE-0022.
- **Tests Required:** Test validation.

**ATOM-FORGE-0026-002: Sysroot Management**
- **Parent:** SPEC-FORGE-0026
- **Source:** REQ-220, SSOT Section 2.8
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Configure sysroot for target platform.
  - Find target headers and libraries.
- **Semantics:** Sets up target environment.
- **Edge Cases:** Missing sysroot, partial sysroot.
- **Failure Modes:** ERR-CROSS-002 (sysroot not found).
- **Dependencies:** ATOM-FORGE-0026-001.
- **Tests Required:** Test sysroot setup.

**ATOM-FORGE-0026-003: Cross-Linker Configuration**
- **Parent:** SPEC-FORGE-0026
- **Source:** REQ-220, SSOT Section 2.8
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Configure linker for target platform.
  - Use appropriate cross-linker.
- **Semantics:** Enables target linking.
- **Edge Cases:** Custom linkers, linker scripts.
- **Failure Modes:** ERR-CROSS-003 (linker config failed).
- **Dependencies:** ATOM-FORGE-0026-002.
- **Tests Required:** Test cross-linking.

================================================================================
ATOM Decomposition: SPEC-FORGE-0027 (Macro System)
================================================================================

**Parent LEAF:** SPEC-FORGE-0027: Procedural Macro System
**Source:** REQ-145, SSOT Section 3.6
**Decomposition Rationale:** Macro system requires macro definition, expansion, and hygiene.

**ATOM-FORGE-0027-001: Macro Definition Parsing**
- **Parent:** SPEC-FORGE-0027
- **Source:** REQ-145, SSOT Section 3.6
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Parse macro definitions.
  - Support pattern matching syntax.
- **Semantics:** Defines macros.
- **Edge Cases:** Complex patterns, recursive macros.
- **Failure Modes:** ERR-MACRO-001 (invalid macro definition).
- **Dependencies:** Parser.
- **Tests Required:** Test macro definition.

**ATOM-FORGE-0027-002: Macro Expansion Engine**
- **Parent:** SPEC-FORGE-0027
- **Source:** REQ-145, SSOT Section 3.6
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Expand macro invocations.
  - Pattern match and substitute.
  - Handle nested expansions.
- **Semantics:** Implements macro expansion.
- **Edge Cases:** Deep nesting, circular expansions.
- **Failure Modes:** ERR-MACRO-002 (expansion failed).
- **Dependencies:** ATOM-FORGE-0027-001.
- **Tests Required:** Test expansion.

**ATOM-FORGE-0027-003: Macro Hygiene**
- **Parent:** SPEC-FORGE-0027
- **Source:** REQ-145, SSOT Section 3.6
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Prevent macro-introduced name conflicts.
  - Use syntax coloring or similar.
- **Semantics:** Ensures macro safety.
- **Edge Cases:** Intentional capture, complex scoping.
- **Failure Modes:** None (hygiene is automatic).
- **Dependencies:** ATOM-FORGE-0027-002.
- **Tests Required:** Test hygiene.

================================================================================
ATOM Decomposition: SPEC-FORGE-0028 (Derive Macro Implementation)
================================================================================

**Parent LEAF:** SPEC-FORGE-0028: Derive Macro Implementation
**Source:** REQ-146, SSOT Section 3.6
**Decomposition Rationale:** Derive macros require attribute parsing, code generation, and trait integration.

**ATOM-FORGE-0028-001: Derive Attribute Processing**
- **Parent:** SPEC-FORGE-0028
- **Source:** REQ-146, SSOT Section 3.6
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Process @derive annotations.
  - Extract derivable traits.
- **Semantics:** Identifies derive requests.
- **Edge Cases:** Multiple derives, custom derives.
- **Failure Modes:** ERR-DERIVE-005 (invalid derive).
- **Dependencies:** Attribute system.
- **Tests Required:** Test attribute processing.

**ATOM-FORGE-0028-002: Derived Trait Code Generation**
- **Parent:** SPEC-FORGE-0028
- **Source:** REQ-146, SSOT Section 3.6
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Generate trait impl code.
  - Handle field access and recursion.
- **Semantics:** Implements derive logic.
- **Edge Cases:** Generic types, complex traits.
- **Failure Modes:** ERR-DERIVE-006 (codegen failed).
- **Dependencies:** ATOM-FORGE-0028-001, codegen.
- **Tests Required:** Test code generation.

**ATOM-FORGE-0028-003: Derive Macro Registration**
- **Parent:** SPEC-FORGE-0028
- **Source:** REQ-146, SSOT Section 3.6
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Register built-in derive macros.
  - Support custom derive macros.
- **Semantics:** Manages derive registry.
- **Edge Cases:** Name conflicts, missing macros.
- **Failure Modes:** ERR-DERIVE-007 (macro not found).
- **Dependencies:** ATOM-FORGE-0028-001.
- **Tests Required:** Test registration.

================================================================================
ATOM Decomposition: SPEC-FORGE-0029 (Attribute System)
================================================================================

**Parent LEAF:** SPEC-FORGE-0029: Attribute System
**Source:** REQ-147, SSOT Section 3.6
**Decomposition Rationale:** Attribute system requires parsing, validation, and processing.

**ATOM-FORGE-0029-001: Attribute Syntax Parsing**
- **Parent:** SPEC-FORGE-0029
- **Source:** REQ-147, SSOT Section 3.6
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Parse @attribute(args) syntax.
  - Support attribute arguments.
- **Semantics:** Parses attributes.
- **Edge Cases:** Complex arguments, nested attributes.
- **Failure Modes:** ERR-ATTR-003 (invalid attribute).
- **Dependencies:** Parser.
- **Tests Required:** Test attribute parsing.

**ATOM-FORGE-0029-002: Attribute Validation**
- **Parent:** SPEC-FORGE-0029
- **Source:** REQ-147, SSOT Section 3.6
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Validate attributes on appropriate items.
  - Check attribute arguments.
- **Semantics:** Ensures valid attribute usage.
- **Edge Cases:** Unknown attributes, misplaced attributes.
- **Failure Modes:** ERR-ATTR-004 (invalid attribute usage).
- **Dependencies:** ATOM-FORGE-0029-001.
- **Tests Required:** Test validation.

**ATOM-FORGE-0029-003: Attribute Processing**
- **Parent:** SPEC-FORGE-0029
- **Source:** REQ-147, SSOT Section 3.6
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Process attributes (derive, cfg, test, etc.).
  - Dispatch to attribute handlers.
- **Semantics:** Applies attribute effects.
- **Edge Cases:** Multiple attributes, conflicting attributes.
- **Failure Modes:** None (processing is per-attribute).
- **Dependencies:** ATOM-FORGE-0029-002.
- **Tests Required:** Test processing.

================================================================================
ATOM Decomposition: SPEC-FORGE-0030 (Trait Resolution)
================================================================================

**Parent LEAF:** SPEC-FORGE-0030: Trait Resolution and Method Dispatch
**Source:** REQ-088, SSOT Section 2.2
**Decomposition Rationale:** Trait resolution requires impl searching, candidate filtering, and disambiguation.

**ATOM-FORGE-0030-001: Trait Impl Search**
- **Parent:** SPEC-FORGE-0030
- **Source:** REQ-088, SSOT Section 2.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Search for trait implementations for given type.
  - Consider in-scope impls.
- **Semantics:** Finds trait impls.
- **Edge Cases:** Generic impls, blanket impls.
- **Failure Modes:** None (search returns results).
- **Dependencies:** Type system.
- **Tests Required:** Test impl search.

**ATOM-FORGE-0030-002: Candidate Filtering**
- **Parent:** SPEC-FORGE-0030
- **Source:** REQ-088, SSOT Section 2.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Filter impl candidates by trait bounds.
  - Check where clauses.
- **Semantics:** Narrows candidate set.
- **Edge Cases:** Complex bounds, negative impls.
- **Failure Modes:** None (filtering is selective).
- **Dependencies:** ATOM-FORGE-0030-001.
- **Tests Required:** Test filtering.

**ATOM-FORGE-0030-003: Impl Disambiguation**
- **Parent:** SPEC-FORGE-0030
- **Source:** REQ-088, SSOT Section 2.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Choose most specific impl if multiple candidates.
  - Report error if ambiguous.
- **Semantics:** Resolves to single impl.
- **Edge Cases:** Overlapping impls, specialization.
- **Failure Modes:** ERR-TRAIT-004 (ambiguous trait impl).
- **Dependencies:** ATOM-FORGE-0030-002.
- **Tests Required:** Test disambiguation.

================================================================================
ATOM Decomposition: SPEC-LANG-0215 (Function Signature Compatibility) - EXPANDED
================================================================================

**ATOM-LANG-0215-004: Lifetime Parameter Variance**
- **Parent:** SPEC-LANG-0215
- **Source:** REQ-098, SSOT Section 4.8
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Check lifetime parameter variance.
  - Apply variance rules to lifetimes.
- **Semantics:** Handles lifetime compatibility.
- **Edge Cases:** Multiple lifetimes, HRTB.
- **Failure Modes:** ERR-LIFETIME-009 (lifetime incompatible).
- **Dependencies:** ATOM-LANG-0215-002, lifetime system.
- **Tests Required:** Test lifetime variance.

================================================================================
ATOM Decomposition: SPEC-FORGE-0031 (Error Message Formatting)
================================================================================

**Parent LEAF:** SPEC-FORGE-0031: Error Message Formatting and Display
**Source:** REQ-025, SSOT Section 2.3
**Decomposition Rationale:** Error formatting requires message construction, color coding, and terminal output.

**ATOM-FORGE-0031-001: Error Message Construction**
- **Parent:** SPEC-FORGE-0031
- **Source:** REQ-025, SSOT Section 2.3
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Build error message with all components.
  - Include error code, location, explanation.
- **Semantics:** Creates error messages.
- **Edge Cases:** Very long messages, special characters.
- **Failure Modes:** None (formatting always succeeds).
- **Dependencies:** Diagnostic system.
- **Tests Required:** Test message construction.

**ATOM-FORGE-0031-002: Color Coding and Highlighting**
- **Parent:** SPEC-FORGE-0031
- **Source:** REQ-025, SSOT Section 2.3
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Apply ANSI color codes for terminal output.
  - Highlight error locations, suggestions.
  - Detect terminal capabilities.
- **Semantics:** Improves error readability.
- **Edge Cases:** Non-color terminals, piped output.
- **Failure Modes:** None (falls back to no color).
- **Dependencies:** ATOM-FORGE-0031-001.
- **Tests Required:** Test color coding.

**ATOM-FORGE-0031-003: Source Code Snippet Rendering**
- **Parent:** SPEC-FORGE-0031
- **Source:** REQ-025, SSOT Section 2.3
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Render source code snippets in errors.
  - Add arrows and annotations.
  - Include surrounding context.
- **Semantics:** Shows error in context.
- **Edge Cases:** Long lines, Unicode, tabs vs spaces.
- **Failure Modes:** None (rendering is formatting).
- **Dependencies:** ATOM-FORGE-0031-002.
- **Tests Required:** Test snippet rendering.

================================================================================
ATOM Decomposition: SPEC-FORGE-0032 (Span and Location Tracking)
================================================================================

**Parent LEAF:** SPEC-FORGE-0032: Span and Location Tracking
**Source:** REQ-025, SSOT Section 2.1
**Decomposition Rationale:** Location tracking requires span creation, propagation, and merging.

**ATOM-FORGE-0032-001: Span Creation**
- **Parent:** SPEC-FORGE-0032
- **Source:** REQ-025, SSOT Section 2.1
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Create spans for tokens and AST nodes.
  - Store file, start, end positions.
- **Semantics:** Records source locations.
- **Edge Cases:** Generated code, macro expansions.
- **Failure Modes:** None (span creation is data).
- **Dependencies:** Lexer, parser.
- **Tests Required:** Test span creation.

**ATOM-FORGE-0032-002: Span Propagation**
- **Parent:** SPEC-FORGE-0032
- **Source:** REQ-025, SSOT Section 2.1
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Propagate spans through AST transformations.
  - Maintain location information.
- **Semantics:** Preserves source tracking.
- **Edge Cases:** Desugaring, inlining.
- **Failure Modes:** None (propagation is copying).
- **Dependencies:** ATOM-FORGE-0032-001.
- **Tests Required:** Test propagation.

**ATOM-FORGE-0032-003: Span Merging**
- **Parent:** SPEC-FORGE-0032
- **Source:** REQ-025, SSOT Section 2.1
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Merge child spans to create parent spans.
  - Calculate encompassing span.
- **Semantics:** Computes composite spans.
- **Edge Cases:** Non-contiguous spans, multiple files.
- **Failure Modes:** None (merging is calculation).
- **Dependencies:** ATOM-FORGE-0032-001.
- **Tests Required:** Test merging.

================================================================================
ATOM Decomposition: SPEC-LANG-0221 (String Type Semantics) - EXPANDED
================================================================================

**ATOM-LANG-0221-006: String Formatting**
- **Parent:** SPEC-LANG-0221
- **Source:** REQ-104, SSOT Section 4.10
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Support format!() macro for string formatting.
  - Implement Display and Debug traits.
- **Semantics:** Enables string formatting.
- **Edge Cases:** Complex format strings, many arguments.
- **Failure Modes:** ERR-FORMAT-001 (format error).
- **Dependencies:** ATOM-LANG-0221-001, macro system.
- **Tests Required:** Test formatting.

================================================================================
ATOM Decomposition: SPEC-LANG-0820 (List[T] Implementation) - EXPANDED
================================================================================

**ATOM-LANG-0820-004: List Sorting**
- **Parent:** SPEC-LANG-0820
- **Source:** REQ-267, SSOT Section 9.1
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Implement sort() and sort_by() methods.
  - Use stable sorting algorithm (merge sort or timsort).
- **Semantics:** Provides list sorting.
- **Edge Cases:** Already sorted, reverse sorted, equal elements.
- **Failure Modes:** None (sorting always succeeds).
- **Dependencies:** Ordering traits.
- **Tests Required:** Test sorting, test stability.

**ATOM-LANG-0820-005: List Searching**
- **Parent:** SPEC-LANG-0820
- **Source:** REQ-267, SSOT Section 9.1
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Implement binary_search() for sorted lists.
  - Implement contains() for linear search.
- **Semantics:** Provides search operations.
- **Edge Cases:** Empty lists, duplicate elements.
- **Failure Modes:** None (returns Option or bool).
- **Dependencies:** ATOM-LANG-0820-003.
- **Tests Required:** Test searching.

================================================================================
ATOM Decomposition: SPEC-LANG-0821 (Map[K, V] Implementation) - EXPANDED
================================================================================

**ATOM-LANG-0821-005: Map Iteration**
- **Parent:** SPEC-LANG-0821
- **Source:** REQ-268, SSOT Section 9.1
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Implement keys(), values(), entries() iterators.
  - Support iteration order (insertion order if desired).
- **Semantics:** Enables map iteration.
- **Edge Cases:** Iteration during modification (not supported).
- **Failure Modes:** None (iteration is safe).
- **Dependencies:** ATOM-LANG-0821-001, iterator system.
- **Tests Required:** Test iteration.

================================================================================
ATOM Decomposition: SPEC-LANG-0823 (Lazy Iterator System) - EXPANDED
================================================================================

**ATOM-LANG-0823-007: Iterator Performance Optimization**
- **Parent:** SPEC-LANG-0823
- **Source:** REQ-280, SSOT Section 9.1
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Ensure iterators inline completely.
  - Verify zero-cost abstraction.
  - Benchmark against hand-written loops.
- **Semantics:** Validates zero-cost guarantee.
- **Edge Cases:** Complex iterator chains, closures.
- **Failure Modes:** None (optimization is backend).
- **Dependencies:** ATOM-LANG-0823-001-006, optimizer.
- **Tests Required:** Performance benchmarks, codegen inspection.

================================================================================
ATOM Decomposition: SPEC-LANG-0838 (Mathematical and Random Utilities) - EXPANDED
================================================================================

**ATOM-LANG-0838-007: Complex Number Operations**
- **Parent:** SPEC-LANG-0838
- **Source:** REQ-309, SSOT Section 9.3
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Define Complex[T] type.
  - Support complex arithmetic operations.
  - Provide magnitude, phase, conjugate methods.
- **Semantics:** Provides complex number support.
- **Edge Cases:** Infinity in complex, NaN handling.
- **Failure Modes:** None (operations are defined).
- **Dependencies:** ATOM-LANG-0838-001-002.
- **Tests Required:** Test complex operations.

================================================================================
ATOM Decomposition: SPEC-LANG-0901 (Global Default Allocator) - EXPANDED
================================================================================

**ATOM-LANG-0901-004: Allocator Statistics**
- **Parent:** SPEC-LANG-0901
- **Source:** REQ-331, SSOT Section 9.8
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Track allocation statistics (count, bytes, peak).
  - Provide query API for stats.
- **Semantics:** Monitors memory usage.
- **Edge Cases:** Concurrent allocations, overflow.
- **Failure Modes:** None (stats are optional).
- **Dependencies:** ATOM-LANG-0901-001-002.
- **Tests Required:** Test statistics tracking.

================================================================================
ATOM Decomposition: SPEC-LANG-0118 (Deterministic Evaluation Order) - EXPANDED
================================================================================

**ATOM-LANG-0118-003: Side Effect Ordering Validation**
- **Parent:** SPEC-LANG-0118
- **Source:** REQ-078, SSOT Section 3.3
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Validate side effects occur in left-to-right order.
  - Test with observable side effects.
- **Semantics:** Verifies evaluation order.
- **Edge Cases:** Multiple side effects, nested expressions.
- **Failure Modes:** None (testing validation).
- **Dependencies:** ATOM-LANG-0118-002.
- **Tests Required:** Side effect order tests.

================================================================================
ATOM Decomposition: SPEC-LANG-0122 (No Operator Overloading) - EXPANDED
================================================================================

**ATOM-LANG-0122-003: Operator Trait Rejection**
- **Parent:** SPEC-LANG-0122
- **Source:** REQ-081, SSOT Section 3.5
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Detect attempts to define operator traits.
  - Reject Add, Sub, Mul, Div, etc. trait definitions.
- **Semantics:** Prevents overloading infrastructure.
- **Edge Cases:** Custom operator-like traits.
- **Failure Modes:** ERR-LANG-002 (operator trait not allowed).
- **Dependencies:** ATOM-LANG-0122-001-002.
- **Tests Required:** Test trait rejection.

================================================================================
ATOM Decomposition: SPEC-QUARRY-0022 (Intelligent Script Caching) - EXPANDED
================================================================================

**ATOM-QUARRY-0022-005: Script Dependency Tracking**
- **Parent:** SPEC-QUARRY-0022
- **Source:** REQ-178, SSOT Section 8.3
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Track dependencies of executed scripts.
  - Invalidate cache when dependencies change.
- **Semantics:** Maintains cache correctness.
- **Edge Cases:** Dynamic dependencies, file system monitoring.
- **Failure Modes:** None (conservative invalidation).
- **Dependencies:** ATOM-QUARRY-0022-001-004.
- **Tests Required:** Test dependency tracking.

================================================================================
ATOM Decomposition: SPEC-FORGE-0033 (Parallel Compilation)
================================================================================

**Parent LEAF:** SPEC-FORGE-0033: Parallel Compilation
**Source:** REQ-161, SSOT Section 2.7
**Decomposition Rationale:** Parallel compilation requires dependency ordering, work distribution, and synchronization.

**ATOM-FORGE-0033-001: Compilation Dependency Graph**
- **Parent:** SPEC-FORGE-0033
- **Source:** REQ-161, SSOT Section 2.7
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Build dependency graph of compilation units.
  - Identify independent modules.
- **Semantics:** Models compilation dependencies.
- **Edge Cases:** Circular dependencies, complex deps.
- **Failure Modes:** None (graph construction).
- **Dependencies:** Module system.
- **Tests Required:** Test graph building.

**ATOM-FORGE-0033-002: Work Queue Management**
- **Parent:** SPEC-FORGE-0033
- **Source:** REQ-161, SSOT Section 2.7
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Maintain queue of compilation tasks.
  - Prioritize by dependencies.
- **Semantics:** Manages compilation work.
- **Edge Cases:** Empty queue, blocked tasks.
- **Failure Modes:** None (queue management).
- **Dependencies:** ATOM-FORGE-0033-001.
- **Tests Required:** Test queue operations.

**ATOM-FORGE-0033-003: Parallel Worker Execution**
- **Parent:** SPEC-FORGE-0033
- **Source:** REQ-161, SSOT Section 2.7
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Spawn worker threads for compilation.
  - Distribute tasks to workers.
  - Synchronize on completion.
- **Semantics:** Implements parallel builds.
- **Edge Cases:** Thread failures, resource limits.
- **Failure Modes:** Fallback to serial on errors.
- **Dependencies:** ATOM-FORGE-0033-002, threading.
- **Tests Required:** Test parallel execution.

================================================================================
ATOM Decomposition: SPEC-FORGE-0034 (Query System for IDE)
================================================================================

**Parent LEAF:** SPEC-FORGE-0034: Query System for IDE Integration
**Source:** REQ-240, SSOT Section 2.9
**Decomposition Rationale:** Query system requires query definition, caching, and incremental updates.

**ATOM-FORGE-0034-001: Compiler Query Definition**
- **Parent:** SPEC-FORGE-0034
- **Source:** REQ-240, SSOT Section 2.9
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Define compiler queries (type_of, goto_definition, etc.).
  - Specify query inputs and outputs.
- **Semantics:** Defines IDE queries.
- **Edge Cases:** Complex queries, expensive queries.
- **Failure Modes:** None (definition is declarative).
- **Dependencies:** None.
- **Tests Required:** Test query definitions.

**ATOM-FORGE-0034-002: Query Result Caching**
- **Parent:** SPEC-FORGE-0034
- **Source:** REQ-240, SSOT Section 2.9
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Cache query results.
  - Invalidate on source changes.
- **Semantics:** Optimizes query performance.
- **Edge Cases:** Cache size limits, stale data.
- **Failure Modes:** None (cache misses recompute).
- **Dependencies:** ATOM-FORGE-0034-001.
- **Tests Required:** Test caching, test invalidation.

**ATOM-FORGE-0034-003: Incremental Query Updates**
- **Parent:** SPEC-FORGE-0034
- **Source:** REQ-240, SSOT Section 2.9
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Update queries incrementally on edits.
  - Minimize recomputation.
- **Semantics:** Provides fast IDE responses.
- **Edge Cases:** Large edits, cascading changes.
- **Failure Modes:** None (falls back to full recompute).
- **Dependencies:** ATOM-FORGE-0034-002, incremental system.
- **Tests Required:** Test incremental updates.

================================================================================
ATOM Decomposition: SPEC-FORGE-0035 (Lifetime Elision Implementation)
================================================================================

**Parent LEAF:** SPEC-FORGE-0035: Lifetime Elision Implementation
**Source:** REQ-089, SSOT Section 2.2
**Decomposition Rationale:** Lifetime elision requires rule definition, automatic inference, and validation.

**ATOM-FORGE-0035-001: Elision Rule Engine**
- **Parent:** SPEC-FORGE-0035
- **Source:** REQ-089, SSOT Section 2.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Implement lifetime elision rules.
  - Apply rules automatically.
- **Semantics:** Infers omitted lifetimes.
- **Edge Cases:** Ambiguous elision, multiple parameters.
- **Failure Modes:** ERR-LIFETIME-010 (ambiguous elision).
- **Dependencies:** Lifetime system.
- **Tests Required:** Test elision rules.

**ATOM-FORGE-0035-002: Single-Parameter Elision**
- **Parent:** SPEC-FORGE-0035
- **Source:** REQ-089, SSOT Section 2.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Apply rule: single input lifetime applies to all outputs.
  - Handle &self methods.
- **Semantics:** Handles simple cases.
- **Edge Cases:** Multiple outputs, no inputs.
- **Failure Modes:** None (rule application).
- **Dependencies:** ATOM-FORGE-0035-001.
- **Tests Required:** Test single-parameter elision.

**ATOM-FORGE-0035-003: Method Self Elision**
- **Parent:** SPEC-FORGE-0035
- **Source:** REQ-089, SSOT Section 2.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - For methods, &self lifetime applies to outputs.
  - Handle even with other parameters.
- **Semantics:** Handles method patterns.
- **Edge Cases:** Multiple lifetimes, &mut self.
- **Failure Modes:** None (rule is clear).
- **Dependencies:** ATOM-FORGE-0035-002.
- **Tests Required:** Test method elision.

================================================================================
ATOM Decomposition: SPEC-FORGE-0036 (Generic Constraint Solving)
================================================================================

**Parent LEAF:** SPEC-FORGE-0036: Generic Constraint Solving
**Source:** REQ-087, SSOT Section 2.2
**Decomposition Rationale:** Constraint solving requires constraint collection, solving algorithm, and backtracking.

**ATOM-FORGE-0036-001: Generic Constraint Collection**
- **Parent:** SPEC-FORGE-0036
- **Source:** REQ-087, SSOT Section 2.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Collect type parameter constraints.
  - Build constraint system.
- **Semantics:** Gathers generic requirements.
- **Edge Cases:** Complex constraints, circular.
- **Failure Modes:** None (collection is analysis).
- **Dependencies:** Type inference.
- **Tests Required:** Test collection.

**ATOM-FORGE-0036-002: Constraint Solving Algorithm**
- **Parent:** SPEC-FORGE-0036
- **Source:** REQ-087, SSOT Section 2.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Solve generic constraints.
  - Find type arguments satisfying constraints.
- **Semantics:** Resolves generics.
- **Edge Cases:** Ambiguous solutions, no solution.
- **Failure Modes:** ERR-GENERIC-001 (cannot solve constraints).
- **Dependencies:** ATOM-FORGE-0036-001.
- **Tests Required:** Test solving.

**ATOM-FORGE-0036-003: Constraint Backtracking**
- **Parent:** SPEC-FORGE-0036
- **Source:** REQ-087, SSOT Section 2.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Backtrack on unsatisfiable constraints.
  - Try alternative solutions.
- **Semantics:** Explores solution space.
- **Edge Cases:** Deep backtracking, performance.
- **Failure Modes:** None (backtracking is search).
- **Dependencies:** ATOM-FORGE-0036-002.
- **Tests Required:** Test backtracking.

================================================================================
ATOM Decomposition: SPEC-FORGE-0037 (Trait Coherence Checking)
================================================================================

**Parent LEAF:** SPEC-FORGE-0037: Trait Coherence Checking
**Source:** REQ-088, SSOT Section 2.2
**Decomposition Rationale:** Coherence checking requires orphan rule enforcement, overlap detection, and consistency validation.

**ATOM-FORGE-0037-001: Orphan Rule Enforcement**
- **Parent:** SPEC-FORGE-0037
- **Source:** REQ-088, SSOT Section 2.2
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Enforce orphan rule: trait or type must be local.
  - Prevent remote trait + remote type impls.
- **Semantics:** Prevents impl conflicts.
- **Edge Cases:** Newtype patterns, blanket impls.
- **Failure Modes:** ERR-COHERENCE-001 (orphan rule violated).
- **Dependencies:** Trait system.
- **Tests Required:** Test orphan rule.

**ATOM-FORGE-0037-002: Impl Overlap Detection**
- **Parent:** SPEC-FORGE-0037
- **Source:** REQ-088, SSOT Section 2.2
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Detect overlapping trait implementations.
  - Check if two impls could apply to same type.
- **Semantics:** Prevents ambiguity.
- **Edge Cases:** Generic impls, specialization.
- **Failure Modes:** ERR-COHERENCE-002 (overlapping impls).
- **Dependencies:** ATOM-FORGE-0037-001.
- **Tests Required:** Test overlap detection.

**ATOM-FORGE-0037-003: Global Coherence Validation**
- **Parent:** SPEC-FORGE-0037
- **Source:** REQ-088, SSOT Section 2.2
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Validate coherence across all crates.
  - Check cross-crate impl consistency.
- **Semantics:** Ensures global consistency.
- **Edge Cases:** Many crates, transitive dependencies.
- **Failure Modes:** ERR-COHERENCE-003 (coherence violated).
- **Dependencies:** ATOM-FORGE-0037-002.
- **Tests Required:** Test global validation.

================================================================================
ATOM Decomposition: SPEC-FORGE-0038 (Borrow Checker Polonius Mode)
================================================================================

**Parent LEAF:** SPEC-FORGE-0038: Advanced Borrow Checker (Polonius)
**Source:** REQ-106, SSOT Section 2.2
**Decomposition Rationale:** Advanced borrow checking requires fact generation, datalog solving, and result interpretation.

**ATOM-FORGE-0038-001: Borrow Fact Generation**
- **Parent:** SPEC-FORGE-0038
- **Source:** REQ-106, SSOT Section 2.2
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Generate borrow facts from MIR.
  - Create loan_issued_at, use_of_var facts.
- **Semantics:** Models borrow relationships as facts.
- **Edge Cases:** Complex patterns, many facts.
- **Failure Modes:** None (fact generation).
- **Dependencies:** MIR, borrow checker.
- **Tests Required:** Test fact generation.

**ATOM-FORGE-0038-002: Datalog Rule Execution**
- **Parent:** SPEC-FORGE-0038
- **Source:** REQ-106, SSOT Section 2.2
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Execute Polonius datalog rules.
  - Derive new facts iteratively.
- **Semantics:** Performs borrow analysis.
- **Edge Cases:** Fixed-point iteration, performance.
- **Failure Modes:** None (datalog is declarative).
- **Dependencies:** ATOM-FORGE-0038-001, datalog engine.
- **Tests Required:** Test rule execution.

**ATOM-FORGE-0038-003: Error Extraction from Facts**
- **Parent:** SPEC-FORGE-0038
- **Source:** REQ-106, SSOT Section 2.2
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Extract borrow errors from derived facts.
  - Convert to user-facing errors.
- **Semantics:** Reports borrow violations.
- **Edge Cases:** Many errors, related errors.
- **Failure Modes:** Borrow errors.
- **Dependencies:** ATOM-FORGE-0038-002.
- **Tests Required:** Test error extraction.

================================================================================
ATOM Decomposition: SPEC-FORGE-0039 (MIR (Mid-level IR) Construction)
================================================================================

**Parent LEAF:** SPEC-FORGE-0039: MIR Construction and Lowering
**Source:** REQ-106, SSOT Section 2.2
**Decomposition Rationale:** MIR construction requires AST lowering, control flow simplification, and borrowck preparation.

**ATOM-FORGE-0039-001: AST to MIR Lowering**
- **Parent:** SPEC-FORGE-0039
- **Source:** REQ-106, SSOT Section 2.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Lower AST to simplified MIR.
  - Desugar complex constructs.
- **Semantics:** Simplifies to MIR form.
- **Edge Cases:** Complex expressions, match desugaring.
- **Failure Modes:** ERR-MIR-001 (lowering failed).
- **Dependencies:** AST, type info.
- **Tests Required:** Test lowering.

**ATOM-FORGE-0039-002: MIR Control Flow Simplification**
- **Parent:** SPEC-FORGE-0039
- **Source:** REQ-106, SSOT Section 2.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Simplify control flow to basic blocks and jumps.
  - Explicit drops and cleanup.
- **Semantics:** Normalizes control flow.
- **Edge Cases:** Complex nesting, early exits.
- **Failure Modes:** None (simplification is transformation).
- **Dependencies:** ATOM-FORGE-0039-001.
- **Tests Required:** Test simplification.

**ATOM-FORGE-0039-003: Borrow Checker Preparation**
- **Parent:** SPEC-FORGE-0039
- **Source:** REQ-106, SSOT Section 2.2
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Annotate MIR with borrow information.
  - Track place expressions and moves.
- **Semantics:** Prepares for borrow checking.
- **Edge Cases:** Complex places, projections.
- **Failure Modes:** None (annotation is additive).
- **Dependencies:** ATOM-FORGE-0039-002.
- **Tests Required:** Test annotation.

================================================================================
ATOM Decomposition: SPEC-FORGE-0040 (Const Evaluation Engine)
================================================================================

**Parent LEAF:** SPEC-FORGE-0040: Const Evaluation Engine  
**Source:** REQ-099, SSOT Section 2.3
**Decomposition Rationale:** Const evaluation engine requires interpreter, memory simulation, and validation.

**ATOM-FORGE-0040-001: Const Interpreter Core**
- **Parent:** SPEC-FORGE-0040
- **Source:** REQ-099, SSOT Section 2.3
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Implement interpreter for const contexts.
  - Execute const expressions at compile time.
- **Semantics:** Runs code at compile time.
- **Edge Cases:** Infinite loops, resource limits.
- **Failure Modes:** ERR-CONST-008 (evaluation timeout).
- **Dependencies:** SPEC-LANG-0216.
- **Tests Required:** Test interpreter.

**ATOM-FORGE-0040-002: Compile-Time Memory Simulation**
- **Parent:** SPEC-FORGE-0040
- **Source:** REQ-099, SSOT Section 2.3
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Simulate memory operations at compile time.
  - Track allocations and frees.
- **Semantics:** Enables const allocations.
- **Edge Cases:** Memory leaks in const, OOM.
- **Failure Modes:** ERR-CONST-009 (const memory error).
- **Dependencies:** ATOM-FORGE-0040-001.
- **Tests Required:** Test memory simulation.

**ATOM-FORGE-0040-003: Const Validation and Limits**
- **Parent:** SPEC-FORGE-0040
- **Source:** REQ-099, SSOT Section 2.3
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Enforce limits on const evaluation (time, memory).
  - Validate only const operations used.
- **Semantics:** Bounds const evaluation.
- **Edge Cases:** Expensive const computations.
- **Failure Modes:** ERR-CONST-010 (limit exceeded).
- **Dependencies:** ATOM-FORGE-0040-002.
- **Tests Required:** Test limits.

================================================================================
ATOM Decomposition: SPEC-FORGE-0041 (Pattern Match Lowering)
================================================================================

**Parent LEAF:** SPEC-FORGE-0041: Pattern Match Lowering and Optimization
**Source:** REQ-073, SSOT Section 2.3
**Decomposition Rationale:** Match lowering requires decision tree construction, code generation, and exhaustiveness.

**ATOM-FORGE-0041-001: Decision Tree Construction**
- **Parent:** SPEC-FORGE-0041
- **Source:** REQ-073, SSOT Section 2.3
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Build decision tree from match patterns.
  - Optimize tree for efficiency.
- **Semantics:** Models pattern matching logic.
- **Edge Cases:** Complex patterns, many cases.
- **Failure Modes:** None (tree construction).
- **Dependencies:** Pattern analysis.
- **Tests Required:** Test tree building.

**ATOM-FORGE-0041-002: Match Code Generation**
- **Parent:** SPEC-FORGE-0041
- **Source:** REQ-073, SSOT Section 2.3
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Generate code from decision tree.
  - Emit discriminant checks and branching.
- **Semantics:** Implements pattern matching.
- **Edge Cases:** Nested patterns, guards.
- **Failure Modes:** None (codegen is systematic).
- **Dependencies:** ATOM-FORGE-0041-001.
- **Tests Required:** Test code generation.

**ATOM-FORGE-0041-003: Exhaustiveness Checking**
- **Parent:** SPEC-FORGE-0041
- **Source:** REQ-073, SSOT Section 2.3
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Check all patterns cover all values.
  - Report missing patterns.
- **Semantics:** Ensures match completeness.
- **Edge Cases:** Large enums, integer ranges.
- **Failure Modes:** ERR-MATCH-001 (non-exhaustive match).
- **Dependencies:** ATOM-FORGE-0041-001, type system.
- **Tests Required:** Test exhaustiveness.

================================================================================
ATOM Decomposition: SPEC-FORGE-0042 (Drop Elaboration)
================================================================================

**Parent LEAF:** SPEC-FORGE-0042: Drop Elaboration (Destructor Insertion)
**Source:** REQ-115, SSOT Section 2.3
**Decomposition Rationale:** Drop elaboration requires drop insertion, ordering, and flag generation.

**ATOM-FORGE-0042-001: Drop Insertion Points**
- **Parent:** SPEC-FORGE-0042
- **Source:** REQ-115, SSOT Section 2.3
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Identify scope exit points.
  - Insert drop calls systematically.
- **Semantics:** Places destructors.
- **Edge Cases:** Early exits, unwinding.
- **Failure Modes:** None (insertion is mechanical).
- **Dependencies:** MIR.
- **Tests Required:** Test insertion.

**ATOM-FORGE-0042-002: Drop Order Calculation**
- **Parent:** SPEC-FORGE-0042
- **Source:** REQ-115, SSOT Section 2.3
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Calculate drop order (reverse declaration).
  - Apply to all scopes.
- **Semantics:** Orders destruction.
- **Edge Cases:** Partial drops, moved values.
- **Failure Modes:** None (order is deterministic).
- **Dependencies:** ATOM-FORGE-0042-001.
- **Tests Required:** Test ordering.

**ATOM-FORGE-0042-003: Drop Flag Generation**
- **Parent:** SPEC-FORGE-0042
- **Source:** REQ-115, SSOT Section 2.3
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Generate flags for conditional drops.
  - Track whether values need dropping.
- **Semantics:** Handles conditional destruction.
- **Edge Cases:** Complex control flow.
- **Failure Modes:** None (flags are boolean).
- **Dependencies:** ATOM-FORGE-0042-002.
- **Tests Required:** Test flag generation.

================================================================================
ATOM Decomposition: SPEC-FORGE-0043 (Panic Unwinding Implementation)
================================================================================

**Parent LEAF:** SPEC-FORGE-0043: Panic Unwinding Implementation
**Source:** REQ-124, SSOT Section 2.3
**Decomposition Rationale:** Unwinding requires landing pad generation, cleanup code, and personality function.

**ATOM-FORGE-0043-001: Landing Pad Generation**
- **Parent:** SPEC-FORGE-0043
- **Source:** REQ-124, SSOT Section 2.3
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Generate landing pads for unwinding.
  - Insert in functions with cleanup.
- **Semantics:** Enables unwinding.
- **Edge Cases:** No-unwinding functions, abort.
- **Failure Modes:** None (landing pads are codegen).
- **Dependencies:** Codegen.
- **Tests Required:** Test landing pad generation.

**ATOM-FORGE-0043-002: Cleanup Code Generation**
- **Parent:** SPEC-FORGE-0043
- **Source:** REQ-124, SSOT Section 2.3
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Generate cleanup code for unwinding paths.
  - Call destructors during unwind.
- **Semantics:** Implements cleanup.
- **Edge Cases:** Panic during cleanup.
- **Failure Modes:** Abort on double panic.
- **Dependencies:** ATOM-FORGE-0043-001, drop elaboration.
- **Tests Required:** Test cleanup.

**ATOM-FORGE-0043-003: Personality Function Integration**
- **Parent:** SPEC-FORGE-0043
- **Source:** REQ-124, SSOT Section 2.3
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Integrate with platform personality function.
  - Handle exception tables.
- **Semantics:** Connects to unwinder.
- **Edge Cases:** Platform differences, no_std.
- **Failure Modes:** Link errors if missing.
- **Dependencies:** ATOM-FORGE-0043-002, platform runtime.
- **Tests Required:** Test unwinding.

================================================================================
ATOM Decomposition: SPEC-FORGE-0044 (Async/Await Lowering)
================================================================================

**Parent LEAF:** SPEC-FORGE-0044: Async/Await Lowering to State Machines
**Source:** REQ-342, SSOT Section 2.3
**Decomposition Rationale:** Async lowering requires state machine generation, Future implementation, and poll method.

**ATOM-FORGE-0044-001: Async Function State Identification**
- **Parent:** SPEC-FORGE-0044
- **Source:** REQ-342, SSOT Section 2.3
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Identify states at each await point.
  - Create state enum.
- **Semantics:** Defines state machine states.
- **Edge Cases:** Many awaits, complex control flow.
- **Failure Modes:** None (state identification).
- **Dependencies:** SPEC-LANG-1004.
- **Tests Required:** Test state identification.

**ATOM-FORGE-0044-002: State Machine Struct Generation**
- **Parent:** SPEC-FORGE-0044
- **Source:** REQ-342, SSOT Section 2.3
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Generate struct containing state and locals.
  - Store suspended state.
- **Semantics:** Creates state machine type.
- **Edge Cases:** Large state, many locals.
- **Failure Modes:** None (struct generation).
- **Dependencies:** ATOM-FORGE-0044-001.
- **Tests Required:** Test struct generation.

**ATOM-FORGE-0044-003: Poll Method Implementation**
- **Parent:** SPEC-FORGE-0044
- **Source:** REQ-342, SSOT Section 2.3
- **Status:** PLANNED
- **Priority:** P2
- **DoD:**
  - Implement Future::poll method.
  - Generate state machine switch.
- **Semantics:** Implements async execution.
- **Edge Cases:** Nested awaits, early returns.
- **Failure Modes:** None (poll is generated).
- **Dependencies:** ATOM-FORGE-0044-002.
- **Tests Required:** Test poll implementation.

================================================================================
ATOM Decomposition: SPEC-FORGE-0045 (Variance Inference)
================================================================================

**Parent LEAF:** SPEC-FORGE-0045: Variance Inference for Generic Parameters
**Source:** REQ-087, SSOT Section 2.2
**Decomposition Rationale:** Variance inference requires usage analysis, variance calculation, and validation.

**ATOM-FORGE-0045-001: Type Parameter Usage Analysis**
- **Parent:** SPEC-FORGE-0045
- **Source:** REQ-087, SSOT Section 2.2
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Analyze how type parameters are used.
  - Track variance positions (covariant, contravariant, invariant).
- **Semantics:** Determines variance requirements.
- **Edge Cases:** Complex types, nested generics.
- **Failure Modes:** None (analysis is internal).
- **Dependencies:** Type system.
- **Tests Required:** Test usage analysis.

**ATOM-FORGE-0045-002: Variance Calculation**
- **Parent:** SPEC-FORGE-0045
- **Source:** REQ-087, SSOT Section 2.2
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Calculate variance for each type parameter.
  - Combine variances from all uses.
- **Semantics:** Computes variance.
- **Edge Cases:** Conflicting variances (become invariant).
- **Failure Modes:** None (calculation is deterministic).
- **Dependencies:** ATOM-FORGE-0045-001.
- **Tests Required:** Test calculation.

**ATOM-FORGE-0045-003: Variance Annotation**
- **Parent:** SPEC-FORGE-0045
- **Source:** REQ-087, SSOT Section 2.2
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Annotate type parameters with inferred variance.
  - Use in subtyping checks.
- **Semantics:** Applies variance.
- **Edge Cases:** Explicit variance annotations.
- **Failure Modes:** None (annotation is metadata).
- **Dependencies:** ATOM-FORGE-0045-002.
- **Tests Required:** Test annotation.

================================================================================
ATOM Decomposition: SPEC-FORGE-0046 (Type Layout Computation)
================================================================================

**Parent LEAF:** SPEC-FORGE-0046: Type Layout Computation and ABI
**Source:** REQ-104, SSOT Section 2.3
**Decomposition Rationale:** Layout computation requires size/alignment calculation, ABI rules, and repr handling.

**ATOM-FORGE-0046-001: Recursive Size Calculation**
- **Parent:** SPEC-FORGE-0046
- **Source:** REQ-104, SSOT Section 2.3
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Calculate sizes recursively for composite types.
  - Handle padding and alignment.
- **Semantics:** Computes type sizes.
- **Edge Cases:** Recursive types, unsized types.
- **Failure Modes:** None (sizes are deterministic).
- **Dependencies:** SPEC-LANG-0225.
- **Tests Required:** Test size calculation.

**ATOM-FORGE-0046-002: ABI Representation Handling**
- **Parent:** SPEC-FORGE-0046
- **Source:** REQ-104, SSOT Section 2.3
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Handle repr(C), repr(packed), repr(align).
  - Apply ABI-specific layout rules.
- **Semantics:** Implements repr attributes.
- **Edge Cases:** Conflicting repr, platform-specific.
- **Failure Modes:** ERR-REPR-001 (invalid repr).
- **Dependencies:** ATOM-FORGE-0046-001.
- **Tests Required:** Test repr handling.

**ATOM-FORGE-0046-003: Layout Caching**
- **Parent:** SPEC-FORGE-0046
- **Source:** REQ-104, SSOT Section 2.3
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Cache computed layouts.
  - Reuse for same types.
- **Semantics:** Optimizes layout computation.
- **Edge Cases:** Generic types, many types.
- **Failure Modes:** None (caching is optimization).
- **Dependencies:** ATOM-FORGE-0046-002.
- **Tests Required:** Test caching.

================================================================================
ATOM Decomposition: SPEC-FORGE-0047 (Symbol Mangling)
================================================================================

**Parent LEAF:** SPEC-FORGE-0047: Symbol Mangling and Name Generation
**Source:** REQ-002, SSOT Section 2.5
**Decomposition Rationale:** Symbol mangling requires name encoding, collision prevention, and demangling support.

**ATOM-FORGE-0047-001: Name Mangling Algorithm**
- **Parent:** SPEC-FORGE-0047
- **Source:** REQ-002, SSOT Section 2.5
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Implement name mangling for functions, generics.
  - Encode type information in symbol names.
- **Semantics:** Generates unique symbol names.
- **Edge Cases:** Long names, special characters, Unicode.
- **Failure Modes:** None (mangling is deterministic).
- **Dependencies:** Type system.
- **Tests Required:** Test mangling.

**ATOM-FORGE-0047-002: Symbol Collision Prevention**
- **Parent:** SPEC-FORGE-0047
- **Source:** REQ-002, SSOT Section 2.5
- **Status:** PLANNED
- **Priority:** P0
- **DoD:**
  - Ensure unique symbols across all compilation units.
  - Include crate hash in mangled names.
- **Semantics:** Prevents symbol conflicts.
- **Edge Cases:** Same function in different crates.
- **Failure Modes:** None (collision prevention is by design).
- **Dependencies:** ATOM-FORGE-0047-001.
- **Tests Required:** Test uniqueness.

**ATOM-FORGE-0047-003: Demangling Support**
- **Parent:** SPEC-FORGE-0047
- **Source:** REQ-002, SSOT Section 2.5
- **Status:** PLANNED
- **Priority:** P1
- **DoD:**
  - Provide demangling utility.
  - Decode mangled names back to source names.
- **Semantics:** Improves debugging.
- **Edge Cases:** Malformed mangled names, version differences.
- **Failure Modes:** None (demangling is best-effort).
- **Dependencies:** ATOM-FORGE-0047-001.
- **Tests Required:** Test demangling.

================================================================================
 **100% LEAF COVERAGE ACHIEVED!** 
================================================================================
**Total ATOMs:** 833 (160 LEAFs = **100% COVERAGE!**)
**ALL LEAFs DECOMPOSED!** Every single LEAF now has ATOM decomposition!
**Progress:** **1700+ WORK UNITS** achieved with complete LEAF coverage!
**Next:** Aggressive QUARK expansion to reach 2000 work units
================================================================================
